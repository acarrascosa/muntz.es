var _Z=Object.create;var qp=Object.defineProperty;var kZ=Object.getOwnPropertyDescriptor;var VZ=Object.getOwnPropertyNames;var UZ=Object.getPrototypeOf,HZ=Object.prototype.hasOwnProperty;var R=(t,e)=>()=>(t&&(e=t(t=0)),e);var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Kt=(t,e)=>{for(var i in e)qp(t,i,{get:e[i],enumerable:!0})},H2=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of VZ(e))!HZ.call(t,n)&&n!==i&&qp(t,n,{get:()=>e[n],enumerable:!(r=kZ(e,n))||r.enumerable});return t};var pe=(t,e,i)=>(i=t!=null?_Z(UZ(t)):{},H2(e||!t||!t.__esModule?qp(i,"default",{value:t,enumerable:!0}):i,t)),yc=t=>H2(qp({},"__esModule",{value:!0}),t);function Jo(t,e){for(var i in e)t[i]=e[i];return t}function $2(t){var e=t.parentNode;e&&e.removeChild(t)}function St(t,e,i){var r,n,o,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];if(arguments.length>2&&(l.children=arguments.length>3?xc.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return Ac(t,l,r,n,null)}function Ac(t,e,i,r,n){var o={type:t,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++j2};return n==null&&Xe.vnode!=null&&Xe.vnode(o),o}function be(){return{current:null}}function ee(t){return t.children}function oe(t,e){this.props=t,this.context=e}function wc(t,e){if(e==null)return t.__?wc(t.__,t.__.__k.indexOf(t)+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?wc(t):null}function eA(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return eA(t)}}function k1(t){(!t.__d&&(t.__d=!0)&&ys.push(t)&&!$p.__r++||P2!==Xe.debounceRendering)&&((P2=Xe.debounceRendering)||J2)($p)}function $p(){var t,e,i,r,n,o,l,u;for(ys.sort(_1);t=ys.shift();)t.__d&&(e=ys.length,r=void 0,n=void 0,l=(o=(i=t).__v).__e,(u=i.__P)&&(r=[],(n=Jo({},o)).__v=o.__v+1,V1(u,o,n,i.__n,u.ownerSVGElement!==void 0,o.__h!=null?[l]:null,r,l??wc(o),o.__h),oA(r,o),o.__e!=l&&eA(o)),ys.length>e&&ys.sort(_1));$p.__r=0}function tA(t,e,i,r,n,o,l,u,c,d){var g,m,b,I,x,A,F,E=r&&r.__k||K2,M=E.length;for(i.__k=[],g=0;g<e.length;g++)if((I=i.__k[g]=(I=e[g])==null||typeof I=="boolean"||typeof I=="function"?null:typeof I=="string"||typeof I=="number"||typeof I=="bigint"?Ac(null,I,null,null,I):Array.isArray(I)?Ac(ee,{children:I},null,null,null):I.__b>0?Ac(I.type,I.props,I.key,I.ref?I.ref:null,I.__v):I)!=null){if(I.__=i,I.__b=i.__b+1,(b=E[g])===null||b&&I.key==b.key&&I.type===b.type)E[g]=void 0;else for(m=0;m<M;m++){if((b=E[m])&&I.key==b.key&&I.type===b.type){E[m]=void 0;break}b=null}V1(t,I,b=b||Kp,n,o,l,u,c,d),x=I.__e,(m=I.ref)&&b.ref!=m&&(F||(F=[]),b.ref&&F.push(b.ref,null,I),F.push(m,I.__c||x,I)),x!=null?(A==null&&(A=x),typeof I.type=="function"&&I.__k===b.__k?I.__d=c=iA(I,c,t):c=rA(t,I,b,E,x,c),typeof i.type=="function"&&(i.__d=c)):c&&b.__e==c&&c.parentNode!=t&&(c=wc(b))}for(i.__e=A,g=M;g--;)E[g]!=null&&(typeof i.type=="function"&&E[g].__e!=null&&E[g].__e==i.__d&&(i.__d=nA(r).nextSibling),sA(E[g],E[g]));if(F)for(g=0;g<F.length;g++)aA(F[g],F[++g],F[++g])}function iA(t,e,i){for(var r,n=t.__k,o=0;n&&o<n.length;o++)(r=n[o])&&(r.__=t,e=typeof r.type=="function"?iA(r,e,i):rA(i,r,r,n,r.__e,e));return e}function oo(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(i){oo(i,e)}):e.push(t)),e}function rA(t,e,i,r,n,o){var l,u,c;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(i==null||n!=o||n.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(n),l=null;else{for(u=o,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==n)break e;t.insertBefore(n,o),l=o}return l!==void 0?l:n.nextSibling}function nA(t){var e,i,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((i=t.__k[e])&&(r=nA(i)))return r}return null}function YZ(t,e,i,r,n){var o;for(o in i)o==="children"||o==="key"||o in e||eh(t,o,null,i[o],r);for(o in e)n&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||i[o]===e[o]||eh(t,o,e[o],i[o],r)}function Y2(t,e,i){e[0]==="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||PZ.test(e)?i:i+"px"}function eh(t,e,i,r,n){var o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||Y2(t.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||Y2(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=i,i?r||t.addEventListener(e,o?Q2:z2,o):t.removeEventListener(e,o?Q2:z2,o);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,i))}}function z2(t){return this.l[t.type+!1](Xe.event?Xe.event(t):t)}function Q2(t){return this.l[t.type+!0](Xe.event?Xe.event(t):t)}function V1(t,e,i,r,n,o,l,u,c){var d,g,m,b,I,x,A,F,E,M,k,T,_,ne,Z,L=e.type;if(e.constructor!==void 0)return null;i.__h!=null&&(c=i.__h,u=e.__e=i.__e,e.__h=null,o=[u]),(d=Xe.__b)&&d(e);try{e:if(typeof L=="function"){if(F=e.props,E=(d=L.contextType)&&r[d.__c],M=d?E?E.props.value:d.__:r,i.__c?A=(g=e.__c=i.__c).__=g.__E:("prototype"in L&&L.prototype.render?e.__c=g=new L(F,M):(e.__c=g=new oe(F,M),g.constructor=L,g.render=QZ),E&&E.sub(g),g.props=F,g.state||(g.state={}),g.context=M,g.__n=r,m=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),L.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Jo({},g.__s)),Jo(g.__s,L.getDerivedStateFromProps(F,g.__s))),b=g.props,I=g.state,g.__v=e,m)L.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(L.getDerivedStateFromProps==null&&F!==b&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(F,M),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(F,g.__s,M)===!1||e.__v===i.__v){for(e.__v!==i.__v&&(g.props=F,g.state=g.__s,g.__d=!1),g.__e=!1,e.__e=i.__e,e.__k=i.__k,e.__k.forEach(function(re){re&&(re.__=e)}),k=0;k<g._sb.length;k++)g.__h.push(g._sb[k]);g._sb=[],g.__h.length&&l.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(F,g.__s,M),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(b,I,x)})}if(g.context=M,g.props=F,g.__P=t,T=Xe.__r,_=0,"prototype"in L&&L.prototype.render){for(g.state=g.__s,g.__d=!1,T&&T(e),d=g.render(g.props,g.state,g.context),ne=0;ne<g._sb.length;ne++)g.__h.push(g._sb[ne]);g._sb=[]}else do g.__d=!1,T&&T(e),d=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++_<25);g.state=g.__s,g.getChildContext!=null&&(r=Jo(Jo({},r),g.getChildContext())),m||g.getSnapshotBeforeUpdate==null||(x=g.getSnapshotBeforeUpdate(b,I)),Z=d!=null&&d.type===ee&&d.key==null?d.props.children:d,tA(t,Array.isArray(Z)?Z:[Z],e,i,r,n,o,l,u,c),g.base=e.__e,e.__h=null,g.__h.length&&l.push(g),A&&(g.__E=g.__=null),g.__e=!1}else o==null&&e.__v===i.__v?(e.__k=i.__k,e.__e=i.__e):e.__e=zZ(i.__e,e,i,r,n,o,l,c);(d=Xe.diffed)&&d(e)}catch(re){e.__v=null,(c||o!=null)&&(e.__e=u,e.__h=!!c,o[o.indexOf(u)]=null),Xe.__e(re,e,i)}}function oA(t,e){Xe.__c&&Xe.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){Xe.__e(r,i.__v)}})}function zZ(t,e,i,r,n,o,l,u){var c,d,g,m=i.props,b=e.props,I=e.type,x=0;if(I==="svg"&&(n=!0),o!=null){for(;x<o.length;x++)if((c=o[x])&&"setAttribute"in c==!!I&&(I?c.localName===I:c.nodeType===3)){t=c,o[x]=null;break}}if(t==null){if(I===null)return document.createTextNode(b);t=n?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,b.is&&b),o=null,u=!1}if(I===null)m===b||u&&t.data===b||(t.data=b);else{if(o=o&&xc.call(t.childNodes),d=(m=i.props||Kp).dangerouslySetInnerHTML,g=b.dangerouslySetInnerHTML,!u){if(o!=null)for(m={},x=0;x<t.attributes.length;x++)m[t.attributes[x].name]=t.attributes[x].value;(g||d)&&(g&&(d&&g.__html==d.__html||g.__html===t.innerHTML)||(t.innerHTML=g&&g.__html||""))}if(YZ(t,b,m,n,u),g)e.__k=[];else if(x=e.props.children,tA(t,Array.isArray(x)?x:[x],e,i,r,n&&I!=="foreignObject",o,l,o?o[0]:i.__k&&wc(i,0),u),o!=null)for(x=o.length;x--;)o[x]!=null&&$2(o[x]);u||("value"in b&&(x=b.value)!==void 0&&(x!==t.value||I==="progress"&&!x||I==="option"&&x!==m.value)&&eh(t,"value",x,m.value,!1),"checked"in b&&(x=b.checked)!==void 0&&x!==t.checked&&eh(t,"checked",x,m.checked,!1))}return t}function aA(t,e,i){try{typeof t=="function"?t(e):t.current=e}catch(r){Xe.__e(r,i)}}function sA(t,e,i){var r,n;if(Xe.unmount&&Xe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||aA(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Xe.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&sA(r[n],e,i||typeof t.type!="function");i||t.__e==null||$2(t.__e),t.__=t.__e=t.__d=void 0}function QZ(t,e,i){return this.constructor(t,i)}function ya(t,e,i){var r,n,o;Xe.__&&Xe.__(t,e),n=(r=typeof i=="function")?null:i&&i.__k||e.__k,o=[],V1(e,t=(!r&&i||e).__k=St(ee,null,[t]),n||Kp,Kp,e.ownerSVGElement!==void 0,!r&&i?[i]:n?null:e.firstChild?xc.call(e.childNodes):null,o,!r&&i?i:n?n.__e:e.firstChild,r),oA(o,t)}function Rc(t,e){ya(t,e,Rc)}function lA(t,e,i){var r,n,o,l=Jo({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];return arguments.length>2&&(l.children=arguments.length>3?xc.call(arguments,2):i),Ac(t.type,l,r||t.key,n||t.ref,null)}function gn(t,e){var i={__c:e="__cC"+q2++,__:t,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,o;return this.getChildContext||(n=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(u){u.__e=!0,k1(u)})},this.sub=function(l){n.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),u&&u.call(l)}}),r.children}};return i.Provider.__=i.Consumer.contextType=i}var xc,Xe,j2,Sc,ys,P2,J2,_1,q2,Kp,K2,PZ,xe=R(()=>{Kp={},K2=[],PZ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;xc=K2.slice,Xe={__e:function(t,e,i,r){for(var n,o,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n.__d),l)return n.__E=n}catch(u){t=u}throw t}},j2=0,Sc=function(t){return t!=null&&t.constructor===void 0},oe.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Jo({},this.state),typeof t=="function"&&(t=t(Jo({},i),this.props)),t&&Jo(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),k1(this))},oe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),k1(this))},oe.prototype.render=ee,ys=[],J2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_1=function(t,e){return t.__v.__b-e.__v.__b},$p.__r=0,q2=0});function As(t,e){Xe.__h&&Xe.__h(Ut,t,Rl||e),Rl=0;var i=Ut.__H||(Ut.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:th}),i.__[t]}function Ir(t){return Rl=1,ws(bA,t)}function ws(t,e,i){var r=As(Aa++,2);if(r.t=t,!r.__c&&(r.__=[i?i(e):bA(void 0,e),function(u){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,u);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Ut,!Ut.u)){var n=function(u,c,d){if(!r.__c.__H)return!0;var g=r.__c.__H.__.filter(function(b){return b.__c});if(g.every(function(b){return!b.__N}))return!o||o.call(this,u,c,d);var m=!1;return g.forEach(function(b){if(b.__N){var I=b.__[0];b.__=b.__N,b.__N=void 0,I!==b.__[0]&&(m=!0)}}),!(!m&&r.__c.props===u)&&(!o||o.call(this,u,c,d))};Ut.u=!0;var o=Ut.shouldComponentUpdate,l=Ut.componentWillUpdate;Ut.componentWillUpdate=function(u,c,d){if(this.__e){var g=o;o=void 0,n(u,c,d),o=g}l&&l.call(this,u,c,d)},Ut.shouldComponentUpdate=n}return r.__N||r.__}function bi(t,e){var i=As(Aa++,3);!Xe.__s&&Y1(i.__H,e)&&(i.__=t,i.i=e,Ut.__H.__h.push(i))}function fn(t,e){var i=As(Aa++,4);!Xe.__s&&Y1(i.__H,e)&&(i.__=t,i.i=e,Ut.__h.push(i))}function Ei(t){return Rl=5,wi(function(){return{current:t}},[])}function rh(t,e,i){Rl=6,fn(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},i==null?i:i.concat(t))}function wi(t,e){var i=As(Aa++,7);return Y1(i.__H,e)?(i.__V=t(),i.i=e,i.__h=t,i.__V):i.__}function Fc(t,e){return Rl=8,wi(function(){return t},e)}function mn(t){var e=Ut.context[t.__c],i=As(Aa++,9);return i.c=t,e?(i.__==null&&(i.__=!0,e.sub(Ut)),e.props.value):t.__}function nh(t,e){Xe.useDebugValue&&Xe.useDebugValue(e?e(t):t)}function jZ(t){var e=As(Aa++,10),i=Ir();return e.__=t,Ut.componentDidCatch||(Ut.componentDidCatch=function(r,n){e.__&&e.__(r,n),i[1](r)}),[i[0],function(){i[1](void 0)}]}function P1(){var t=As(Aa++,11);if(!t.__){for(var e=Ut.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var i=e.__m||(e.__m=[0,0]);t.__="P"+i[0]+"-"+i[1]++}return t.__}function JZ(){for(var t;t=mA.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ih),t.__H.__h.forEach(H1),t.__H.__h=[]}catch(e){t.__H.__h=[],Xe.__e(e,t.__v)}}function qZ(t){var e,i=function(){clearTimeout(r),fA&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(i,100);fA&&(e=requestAnimationFrame(i))}function ih(t){var e=Ut,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),Ut=e}function H1(t){var e=Ut;t.__c=t.__(),Ut=e}function Y1(t,e){return!t||t.length!==e.length||e.some(function(i,r){return i!==t[r]})}function bA(t,e){return typeof e=="function"?e(t):e}var Aa,Ut,U1,uA,Rl,mA,th,cA,dA,pA,hA,gA,fA,xs=R(()=>{xe();Rl=0,mA=[],th=[],cA=Xe.__b,dA=Xe.__r,pA=Xe.diffed,hA=Xe.__c,gA=Xe.unmount;Xe.__b=function(t){Ut=null,cA&&cA(t)},Xe.__r=function(t){dA&&dA(t),Aa=0;var e=(Ut=t.__c).__H;e&&(U1===Ut?(e.__h=[],Ut.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=th,i.__N=i.i=void 0})):(e.__h.forEach(ih),e.__h.forEach(H1),e.__h=[])),U1=Ut},Xe.diffed=function(t){pA&&pA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(mA.push(e)!==1&&uA===Xe.requestAnimationFrame||((uA=Xe.requestAnimationFrame)||qZ)(JZ)),e.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==th&&(i.__=i.__V),i.i=void 0,i.__V=th})),U1=Ut=null},Xe.__c=function(t,e){e.some(function(i){try{i.__h.forEach(ih),i.__h=i.__h.filter(function(r){return!r.__||H1(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Xe.__e(r,i.__v)}}),hA&&hA(t,e)},Xe.unmount=function(t){gA&&gA(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{ih(r)}catch(n){e=n}}),i.__H=void 0,e&&Xe.__e(e,i.__v))};fA=typeof requestAnimationFrame=="function"});var zA={};Kt(zA,{Children:()=>Nc,Component:()=>oe,Fragment:()=>ee,PureComponent:()=>xi,StrictMode:()=>VA,Suspense:()=>Ec,SuspenseList:()=>Fl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>DA,cloneElement:()=>MA,createContext:()=>gn,createElement:()=>St,createFactory:()=>TA,createPortal:()=>ze,createRef:()=>be,default:()=>Te,findDOMNode:()=>_A,flushSync:()=>kA,forwardRef:()=>Or,hydrate:()=>BA,isValidElement:()=>J1,lazy:()=>GA,memo:()=>EA,render:()=>XA,startTransition:()=>q1,unmountComponentAtNode:()=>ZA,unstable_batchedUpdates:()=>Wc,useCallback:()=>Fc,useContext:()=>mn,useDebugValue:()=>nh,useDeferredValue:()=>UA,useEffect:()=>bi,useErrorBoundary:()=>jZ,useId:()=>P1,useImperativeHandle:()=>rh,useInsertionEffect:()=>PA,useLayoutEffect:()=>fn,useMemo:()=>wi,useReducer:()=>ws,useRef:()=>Ei,useState:()=>Ir,useSyncExternalStore:()=>YA,useTransition:()=>HA,version:()=>c_});function FA(t,e){for(var i in e)t[i]=e[i];return t}function Q1(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function z1(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function xi(t){this.props=t}function EA(t,e){function i(n){var o=this.props.ref,l=o==n.ref;return!l&&o&&(o.call?o(null):o.current=null),e?!e(this.props,n)||!l:Q1(this.props,n)}function r(n){return this.shouldComponentUpdate=i,St(t,n)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function Or(t){function e(i){var r=FA({},i);return delete r.ref,t(r,i.ref||null)}return e.$$typeof=KZ,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function NA(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=FA({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return NA(r,e,i)})),t}function WA(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return WA(r,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function Ec(){this.__u=0,this.t=null,this.__b=null}function OA(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function GA(t){var e,i,r;function n(o){if(e||(e=t()).then(function(l){i=l.default||l},function(l){r=l}),r)throw r;if(!i)throw e;return St(i,o)}return n.displayName="Lazy",n.__f=!0,n}function Fl(){this.u=null,this.o=null}function e_(t){return this.getChildContext=function(){return t.context},t.children}function t_(t){var e=this,i=t.i;e.componentWillUnmount=function(){ya(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ya(St(e_,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function ze(t,e){var i=St(t_,{__v:t,i:e});return i.containerInfo=e,i}function XA(t,e,i){return e.__k==null&&(e.textContent=""),ya(t,e),typeof i=="function"&&i(),t?t.__c:null}function BA(t,e,i){return Rc(t,e),typeof i=="function"&&i(),t?t.__c:null}function s_(){}function l_(){return this.cancelBubble}function u_(){return this.defaultPrevented}function TA(t){return St.bind(null,t)}function J1(t){return!!t&&t.$$typeof===LA}function MA(t){return J1(t)?lA.apply(null,arguments):t}function ZA(t){return!!t.__k&&(ya(null,t),!0)}function _A(t){return t&&(t.base||t.nodeType===1&&t)||null}function q1(t){t()}function UA(t){return t}function HA(){return[!1,q1]}function YA(t,e){var i=e(),r=Ir({h:{__:i,v:e}}),n=r[0].h,o=r[1];return fn(function(){n.__=i,n.v=e,z1(n.__,e())||o({h:n})},[t,i,e]),bi(function(){return z1(n.__,n.v())||o({h:n}),t(function(){z1(n.__,n.v())||o({h:n})})},[t]),i}var CA,KZ,vA,Nc,$Z,IA,yA,LA,i_,r_,n_,o_,a_,AA,j1,wA,xA,SA,RA,DA,c_,Wc,kA,VA,PA,Te,Fe=R(()=>{xe();xe();xs();xs();(xi.prototype=new oe).isPureReactComponent=!0,xi.prototype.shouldComponentUpdate=function(t,e){return Q1(this.props,t)||Q1(this.state,e)};CA=Xe.__b;Xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),CA&&CA(t)};KZ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;vA=function(t,e){return t==null?null:oo(oo(t).map(e))},Nc={map:vA,forEach:vA,count:function(t){return t?oo(t).length:0},only:function(t){var e=oo(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:oo},$Z=Xe.__e;Xe.__e=function(t,e,i,r){if(t.then){for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),n.__c(t,e)}$Z(t,e,i,r)};IA=Xe.unmount;Xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),IA&&IA(t)},(Ec.prototype=new oe).__c=function(t,e){var i=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(i);var n=OA(r.__v),o=!1,l=function(){o||(o=!0,i.__R=null,n?n(u):u())};i.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=WA(d,d.__c.__P,d.__c.__O)}var g;for(r.setState({__a:r.__b=null});g=r.t.pop();)g.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(l,l)},Ec.prototype.componentWillUnmount=function(){this.t=[]},Ec.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=NA(this.__b,i,r.__O=r.__P)}this.__b=null}var n=e.__a&&St(ee,null,t.fallback);return n&&(n.__h=null),[St(ee,null,e.__a?null:t.children),n]};yA=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};(Fl.prototype=new oe).__a=function(t){var e=this,i=OA(e.__v),r=e.o.get(t);return r[0]++,function(n){var o=function(){e.props.revealOrder?(r.push(n),yA(e,t,r)):n()};i?i(o):o()}},Fl.prototype.render=function(t){this.u=null,this.o=new Map;var e=oo(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},Fl.prototype.componentDidUpdate=Fl.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,i){yA(t,i,e)})};LA=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,i_=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,r_=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,n_=/[A-Z0-9]/g,o_=typeof document<"u",a_=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};oe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(oe.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});AA=Xe.event;Xe.event=function(t){return AA&&(t=AA(t)),t.persist=s_,t.isPropagationStopped=l_,t.isDefaultPrevented=u_,t.nativeEvent=t};wA={configurable:!0,get:function(){return this.class}},xA=Xe.vnode;Xe.vnode=function(t){var e=t.type,i=t.props,r=i;if(typeof e=="string"){for(var n in r={},i){var o=i[n];if(!(n==="value"&&"defaultValue"in i&&o==null||o_&&n==="children"&&e==="noscript")){var l=n.toLowerCase();n==="defaultValue"&&"value"in i&&i.value==null?n="value":n==="download"&&o===!0?o="":l==="ondoubleclick"?n="ondblclick":l!=="onchange"||e!=="input"&&e!=="textarea"||a_(i.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":r_.test(n)?n=l:e.indexOf("-")===-1&&i_.test(n)?n=n.replace(n_,"-$&").toLowerCase():o===null&&(o=void 0):l=n="oninput",l==="oninput"&&r[n=l]&&(n="oninputCapture"),r[n]=o}}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=oo(i.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=oo(i.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),t.props=r,i.class!=i.className&&(wA.enumerable="className"in i,i.className!=null&&(r.class=i.className),Object.defineProperty(r,"className",wA))}t.$$typeof=LA,xA&&xA(t)};SA=Xe.__r;Xe.__r=function(t){SA&&SA(t),j1=t.__c};RA=Xe.diffed;Xe.diffed=function(t){RA&&RA(t);var e=t.props,i=t.__e;i!=null&&t.type==="textarea"&&"value"in e&&e.value!==i.value&&(i.value=e.value==null?"":e.value),j1=null};DA={ReactCurrentDispatcher:{current:{readContext:function(t){return j1.__n[t.__c].props.value}}}},c_="17.0.2";Wc=function(t,e){return t(e)},kA=function(t,e){return t(e)},VA=ee;PA=fn;Te={useState:Ir,useId:P1,useReducer:ws,useEffect:bi,useLayoutEffect:fn,useInsertionEffect:PA,useTransition:HA,useDeferredValue:UA,useSyncExternalStore:YA,startTransition:q1,useRef:Ei,useImperativeHandle:rh,useMemo:wi,useCallback:Fc,useContext:mn,useDebugValue:nh,version:"17.0.2",Children:Nc,render:XA,hydrate:BA,unmountComponentAtNode:ZA,createPortal:ze,createElement:St,createContext:gn,createFactory:TA,cloneElement:MA,createRef:be,Fragment:ee,isValidElement:J1,findDOMNode:_A,Component:oe,PureComponent:xi,memo:EA,forwardRef:Or,flushSync:kA,unstable_batchedUpdates:Wc,StrictMode:VA,Suspense:Ec,SuspenseList:Fl,lazy:GA,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:DA}});var jA=P((Pse,QA)=>{"use strict";var d_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";QA.exports=d_});var $A=P((Yse,KA)=>{"use strict";var p_=jA();function JA(){}function qA(){}qA.resetWarningCache=JA;KA.exports=function(){function t(r,n,o,l,u,c){if(c!==p_){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qA,resetWarningCache:JA};return i.PropTypes=i,i}});var K1=P((jse,ew)=>{ew.exports=$A()();var zse,Qse});var bn,wa=R(()=>{Fe();bn=Te.createContext(null)});function h_(t){t()}var tw,iw,rw,$1=R(()=>{tw=h_,iw=function(e){return tw=e},rw=function(){return tw}});function g_(){var t=rw(),e=null,i=null;return{clear:function(){e=null,i=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],o=e;o;)n.push(o),o=o.next;return n},subscribe:function(n){var o=!0,l=i={callback:n,next:null,prev:i};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:i=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}function Oc(t,e){var i,r=nw;function n(m){return c(),r.subscribe(m)}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return!!i}function c(){i||(i=e?e.addNestedSub(l):t.subscribe(l),r=g_())}function d(){i&&(i(),i=void 0,r.clear(),r=nw)}var g={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return g}var nw,oh=R(()=>{$1();nw={notify:function(){},get:function(){return[]}}});var Gc,ah=R(()=>{Fe();Gc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?fn:bi});function f_(t){var e=t.store,i=t.context,r=t.children,n=wi(function(){var u=Oc(e);return{store:e,subscription:u}},[e]),o=wi(function(){return e.getState()},[e]);Gc(function(){var u=n.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[n,o]);var l=i||bn;return Te.createElement(l.Provider,{value:n},r)}var e0,ow=R(()=>{Fe();wa();oh();ah();e0=f_});function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Lt.apply(this,arguments)}var Ss=R(()=>{});function yr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var El=R(()=>{});var sw=P(Xt=>{"use strict";var Li=typeof Symbol=="function"&&Symbol.for,t0=Li?Symbol.for("react.element"):60103,i0=Li?Symbol.for("react.portal"):60106,sh=Li?Symbol.for("react.fragment"):60107,lh=Li?Symbol.for("react.strict_mode"):60108,uh=Li?Symbol.for("react.profiler"):60114,ch=Li?Symbol.for("react.provider"):60109,dh=Li?Symbol.for("react.context"):60110,r0=Li?Symbol.for("react.async_mode"):60111,ph=Li?Symbol.for("react.concurrent_mode"):60111,hh=Li?Symbol.for("react.forward_ref"):60112,gh=Li?Symbol.for("react.suspense"):60113,m_=Li?Symbol.for("react.suspense_list"):60120,fh=Li?Symbol.for("react.memo"):60115,mh=Li?Symbol.for("react.lazy"):60116,b_=Li?Symbol.for("react.block"):60121,C_=Li?Symbol.for("react.fundamental"):60117,v_=Li?Symbol.for("react.responder"):60118,I_=Li?Symbol.for("react.scope"):60119;function Jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case t0:switch(t=t.type,t){case r0:case ph:case sh:case uh:case lh:case gh:return t;default:switch(t=t&&t.$$typeof,t){case dh:case hh:case mh:case fh:case ch:return t;default:return e}}case i0:return e}}}function aw(t){return Jr(t)===ph}Xt.AsyncMode=r0;Xt.ConcurrentMode=ph;Xt.ContextConsumer=dh;Xt.ContextProvider=ch;Xt.Element=t0;Xt.ForwardRef=hh;Xt.Fragment=sh;Xt.Lazy=mh;Xt.Memo=fh;Xt.Portal=i0;Xt.Profiler=uh;Xt.StrictMode=lh;Xt.Suspense=gh;Xt.isAsyncMode=function(t){return aw(t)||Jr(t)===r0};Xt.isConcurrentMode=aw;Xt.isContextConsumer=function(t){return Jr(t)===dh};Xt.isContextProvider=function(t){return Jr(t)===ch};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===t0};Xt.isForwardRef=function(t){return Jr(t)===hh};Xt.isFragment=function(t){return Jr(t)===sh};Xt.isLazy=function(t){return Jr(t)===mh};Xt.isMemo=function(t){return Jr(t)===fh};Xt.isPortal=function(t){return Jr(t)===i0};Xt.isProfiler=function(t){return Jr(t)===uh};Xt.isStrictMode=function(t){return Jr(t)===lh};Xt.isSuspense=function(t){return Jr(t)===gh};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sh||t===ph||t===uh||t===lh||t===gh||t===m_||typeof t=="object"&&t!==null&&(t.$$typeof===mh||t.$$typeof===fh||t.$$typeof===ch||t.$$typeof===dh||t.$$typeof===hh||t.$$typeof===C_||t.$$typeof===v_||t.$$typeof===I_||t.$$typeof===b_)};Xt.typeOf=Jr});var n0=P((dle,lw)=>{"use strict";lw.exports=sw()});var bh=P((ple,gw)=>{"use strict";var o0=n0(),y_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},A_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a0={};a0[o0.ForwardRef]=w_;a0[o0.Memo]=pw;function uw(t){return o0.isMemo(t)?pw:a0[t.$$typeof]||y_}var x_=Object.defineProperty,S_=Object.getOwnPropertyNames,cw=Object.getOwnPropertySymbols,R_=Object.getOwnPropertyDescriptor,F_=Object.getPrototypeOf,dw=Object.prototype;function hw(t,e,i){if(typeof e!="string"){if(dw){var r=F_(e);r&&r!==dw&&hw(t,r,i)}var n=S_(e);cw&&(n=n.concat(cw(e)));for(var o=uw(t),l=uw(e),u=0;u<n.length;++u){var c=n[u];if(!A_[c]&&!(i&&i[c])&&!(l&&l[c])&&!(o&&o[c])){var d=R_(e,c);try{x_(t,c,d)}catch{}}}}return t}gw.exports=hw});var Iw=P(Ht=>{"use strict";var Ch=60103,vh=60106,Lc=60107,Xc=60108,Bc=60114,Dc=60109,Tc=60110,Mc=60112,Zc=60113,s0=60120,_c=60115,kc=60116,fw=60121,mw=60122,bw=60117,Cw=60129,vw=60131;typeof Symbol=="function"&&Symbol.for&&(Xi=Symbol.for,Ch=Xi("react.element"),vh=Xi("react.portal"),Lc=Xi("react.fragment"),Xc=Xi("react.strict_mode"),Bc=Xi("react.profiler"),Dc=Xi("react.provider"),Tc=Xi("react.context"),Mc=Xi("react.forward_ref"),Zc=Xi("react.suspense"),s0=Xi("react.suspense_list"),_c=Xi("react.memo"),kc=Xi("react.lazy"),fw=Xi("react.block"),mw=Xi("react.server.block"),bw=Xi("react.fundamental"),Cw=Xi("react.debug_trace_mode"),vw=Xi("react.legacy_hidden"));var Xi;function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ch:switch(t=t.type,t){case Lc:case Bc:case Xc:case Zc:case s0:return t;default:switch(t=t&&t.$$typeof,t){case Tc:case Mc:case kc:case _c:case Dc:return t;default:return e}}case vh:return e}}}var E_=Dc,N_=Ch,W_=Mc,O_=Lc,G_=kc,L_=_c,X_=vh,B_=Bc,D_=Xc,T_=Zc;Ht.ContextConsumer=Tc;Ht.ContextProvider=E_;Ht.Element=N_;Ht.ForwardRef=W_;Ht.Fragment=O_;Ht.Lazy=G_;Ht.Memo=L_;Ht.Portal=X_;Ht.Profiler=B_;Ht.StrictMode=D_;Ht.Suspense=T_;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(t){return Bn(t)===Tc};Ht.isContextProvider=function(t){return Bn(t)===Dc};Ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ch};Ht.isForwardRef=function(t){return Bn(t)===Mc};Ht.isFragment=function(t){return Bn(t)===Lc};Ht.isLazy=function(t){return Bn(t)===kc};Ht.isMemo=function(t){return Bn(t)===_c};Ht.isPortal=function(t){return Bn(t)===vh};Ht.isProfiler=function(t){return Bn(t)===Bc};Ht.isStrictMode=function(t){return Bn(t)===Xc};Ht.isSuspense=function(t){return Bn(t)===Zc};Ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lc||t===Bc||t===Cw||t===Xc||t===Zc||t===s0||t===vw||typeof t=="object"&&t!==null&&(t.$$typeof===kc||t.$$typeof===_c||t.$$typeof===Dc||t.$$typeof===Tc||t.$$typeof===Mc||t.$$typeof===bw||t.$$typeof===fw||t[0]===mw)};Ht.typeOf=Bn});var Aw=P((gle,yw)=>{"use strict";yw.exports=Iw()});function V_(t,e){var i=t[1];return[e.payload,i+1]}function ww(t,e,i){Gc(function(){return t.apply(void 0,e)},i)}function U_(t,e,i,r,n,o,l){t.current=r,e.current=n,i.current=!1,o.current&&(o.current=null,l())}function H_(t,e,i,r,n,o,l,u,c,d){if(t){var g=!1,m=null,b=function(){if(!g){var A=e.getState(),F,E;try{F=r(A,n.current)}catch(M){E=M,m=M}E||(m=null),F===o.current?l.current||c():(o.current=F,u.current=F,l.current=!0,d({type:"STORE_UPDATED",payload:{error:E}}))}};i.onStateChange=b,i.trySubscribe(),b();var I=function(){if(g=!0,i.tryUnsubscribe(),i.onStateChange=null,m)throw m};return I}}function Ih(t,e){e===void 0&&(e={});var i=e,r=i.getDisplayName,n=r===void 0?function(ne){return"ConnectAdvanced("+ne+")"}:r,o=i.methodName,l=o===void 0?"connectAdvanced":o,u=i.renderCountProp,c=u===void 0?void 0:u,d=i.shouldHandleStateChanges,g=d===void 0?!0:d,m=i.storeKey,b=m===void 0?"store":m,I=i.withRef,x=I===void 0?!1:I,A=i.forwardRef,F=A===void 0?!1:A,E=i.context,M=E===void 0?bn:E,k=yr(i,M_);if(0)var T;var _=M;return function(Z){var L=Z.displayName||Z.name||"Component",re=n(L),de=Lt({},k,{getDisplayName:n,methodName:l,renderCountProp:c,shouldHandleStateChanges:g,storeKey:b,displayName:re,wrappedComponentName:L,WrappedComponent:Z}),$=k.pure;function q(se){return t(se.dispatch,de)}var B=$?wi:function(se){return se()};function j(se){var z=wi(function(){var jt=se.reactReduxForwardedRef,Eo=yr(se,Z_);return[se.context,jt,Eo]},[se]),V=z[0],ie=z[1],le=z[2],ce=wi(function(){return V&&V.Consumer&&(0,xw.isContextConsumer)(Te.createElement(V.Consumer,null))?V:_},[V,_]),ge=mn(ce),fe=!!se.store&&!!se.store.getState&&!!se.store.dispatch,We=!!ge&&!!ge.store,Ee=fe?se.store:ge.store,Be=wi(function(){return q(Ee)},[Ee]),ke=wi(function(){if(!g)return k_;var jt=Oc(Ee,fe?null:ge.subscription),Eo=jt.notifyNestedSubs.bind(jt);return[jt,Eo]},[Ee,fe,ge]),at=ke[0],Pe=ke[1],nt=wi(function(){return fe?ge:Lt({},ge,{subscription:at})},[fe,ge,at]),we=ws(V_,__,P_),lt=we[0],ot=lt[0],He=we[1];if(ot&&ot.error)throw ot.error;var Ye=Ei(),Pt=Ei(le),kt=Ei(),At=Ei(!1),Tt=B(function(){return kt.current&&le===Pt.current?kt.current:Be(Ee.getState(),le)},[Ee,ot,le]);ww(U_,[Pt,Ye,At,le,Tt,kt,Pe]),ww(H_,[g,Ee,at,Be,Pt,Ye,At,kt,Pe,He],[Ee,at,Be]);var it=wi(function(){return Te.createElement(Z,Lt({},Tt,{ref:ie}))},[ie,Z,Tt]),Ui=wi(function(){return g?Te.createElement(ce.Provider,{value:nt},it):it},[ce,it,nt]);return Ui}var K=$?Te.memo(j):j;if(K.WrappedComponent=Z,K.displayName=j.displayName=re,F){var te=Te.forwardRef(function(z,V){return Te.createElement(K,Lt({},z,{reactReduxForwardedRef:V}))});return te.displayName=re,te.WrappedComponent=Z,(0,l0.default)(te,Z)}return(0,l0.default)(K,Z)}}var l0,xw,M_,Z_,__,k_,P_,u0=R(()=>{Ss();El();l0=pe(bh());Fe();xw=pe(Aw());oh();ah();wa();M_=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Z_=["reactReduxForwardedRef"],__=[],k_=[null,null];P_=function(){return[null,0]}});function Sw(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Nl(t,e){if(Sw(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(e,i[n])||!Sw(t[i[n]],e[i[n]]))return!1;return!0}var c0=R(()=>{});function d0(t,e){var i={},r=function(l){var u=t[l];typeof u=="function"&&(i[l]=function(){return e(u.apply(void 0,arguments))})};for(var n in t)r(n);return i}var Rw=R(()=>{});var Fw=R(()=>{});var p0=R(()=>{});var h0=R(()=>{Fw();p0()});function Vc(t){return function(i,r){var n=t(i,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Ew(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function yh(t,e){return function(r,n){var o=n.displayName,l=function(c,d){return l.dependsOnOwnProps?l.mapToProps(c,d):l.mapToProps(c)};return l.dependsOnOwnProps=!0,l.mapToProps=function(c,d){l.mapToProps=t,l.dependsOnOwnProps=Ew(t);var g=l(c,d);return typeof g=="function"&&(l.mapToProps=g,l.dependsOnOwnProps=Ew(g),g=l(c,d)),g},l}}var g0=R(()=>{h0()});function z_(t){return typeof t=="function"?yh(t,"mapDispatchToProps"):void 0}function Q_(t){return t?void 0:Vc(function(e){return{dispatch:e}})}function j_(t){return t&&typeof t=="object"?Vc(function(e){return d0(t,e)}):void 0}var Nw,Ww=R(()=>{Rw();g0();Nw=[z_,Q_,j_]});function J_(t){return typeof t=="function"?yh(t,"mapStateToProps"):void 0}function q_(t){return t?void 0:Vc(function(){return{}})}var Ow,Gw=R(()=>{g0();Ow=[J_,q_]});function K_(t,e,i){return Lt({},i,t,e)}function $_(t){return function(i,r){var n=r.displayName,o=r.pure,l=r.areMergedPropsEqual,u=!1,c;return function(g,m,b){var I=t(g,m,b);return u?(!o||!l(I,c))&&(c=I):(u=!0,c=I),c}}}function ek(t){return typeof t=="function"?$_(t):void 0}function tk(t){return t?void 0:function(){return K_}}var Lw,Xw=R(()=>{Ss();h0();Lw=[ek,tk]});var Bw=R(()=>{p0()});function rk(t,e,i,r){return function(o,l){return i(t(o,l),e(r,l),l)}}function nk(t,e,i,r,n){var o=n.areStatesEqual,l=n.areOwnPropsEqual,u=n.areStatePropsEqual,c=!1,d,g,m,b,I;function x(k,T){return d=k,g=T,m=t(d,g),b=e(r,g),I=i(m,b,g),c=!0,I}function A(){return m=t(d,g),e.dependsOnOwnProps&&(b=e(r,g)),I=i(m,b,g),I}function F(){return t.dependsOnOwnProps&&(m=t(d,g)),e.dependsOnOwnProps&&(b=e(r,g)),I=i(m,b,g),I}function E(){var k=t(d,g),T=!u(k,m);return m=k,T&&(I=i(m,b,g)),I}function M(k,T){var _=!l(T,g),ne=!o(k,d,T,g);return d=k,g=T,_&&ne?A():_?F():ne?E():I}return function(T,_){return c?M(T,_):x(T,_)}}function f0(t,e){var i=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,o=yr(e,ik),l=i(t,o),u=r(t,o),c=n(t,o),d=o.pure?nk:rk;return d(l,u,c,t,o)}var ik,Dw=R(()=>{El();Bw();ik=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function m0(t,e,i){for(var r=e.length-1;r>=0;r--){var n=e[r](t);if(n)return n}return function(o,l){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+l.wrappedComponentName+".")}}function ak(t,e){return t===e}function sk(t){var e=t===void 0?{}:t,i=e.connectHOC,r=i===void 0?Ih:i,n=e.mapStateToPropsFactories,o=n===void 0?Ow:n,l=e.mapDispatchToPropsFactories,u=l===void 0?Nw:l,c=e.mergePropsFactories,d=c===void 0?Lw:c,g=e.selectorFactory,m=g===void 0?f0:g;return function(I,x,A,F){F===void 0&&(F={});var E=F,M=E.pure,k=M===void 0?!0:M,T=E.areStatesEqual,_=T===void 0?ak:T,ne=E.areOwnPropsEqual,Z=ne===void 0?Nl:ne,L=E.areStatePropsEqual,re=L===void 0?Nl:L,de=E.areMergedPropsEqual,$=de===void 0?Nl:de,q=yr(E,ok),B=m0(I,o,"mapStateToProps"),j=m0(x,u,"mapDispatchToProps"),K=m0(A,d,"mergeProps");return r(m,Lt({methodName:"connect",getDisplayName:function(se){return"Connect("+se+")"},shouldHandleStateChanges:!!I,initMapStateToProps:B,initMapDispatchToProps:j,initMergeProps:K,pure:k,areStatesEqual:_,areOwnPropsEqual:Z,areStatePropsEqual:re,areMergedPropsEqual:$},q))}}var ok,De,Tw=R(()=>{Ss();El();u0();c0();Ww();Gw();Xw();Dw();ok=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];De=sk()});function b0(){var t=mn(bn);return t}var C0=R(()=>{Fe();wa()});function v0(t){t===void 0&&(t=bn);var e=t===bn?b0:function(){return mn(t)};return function(){var r=e(),n=r.store;return n}}var Ah,I0=R(()=>{Fe();wa();C0();Ah=v0()});var Mw=R(()=>{wa();I0()});var Zw=R(()=>{Fe();C0();oh();ah();wa()});var _w=R(()=>{ow();u0();wa();Tw();Mw();Zw();I0();c0()});var kw=R(()=>{Fe()});var ut=R(()=>{_w();kw();$1();iw(Wc)});var wh=P(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.frontloadConnect=Fs.Frontload=void 0;var y0=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();Fs.frontloadServerRender=Ck;var lk=(Fe(),yc(zA)),Uc=Uw(lk),uk=K1(),Vw=Uw(uk);function Uw(t){return t&&t.__esModule?t:{default:t}}function Hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ck=function(){return typeof window>"u"||!window.document||!window.document.createElement},dk=ck(),Wl=[],Rs={MOUNT:0,UPDATE:1},pk=!1,zw=function(e,i){for(var r=[],n=0;n<e.length;n++)r.push(i(e[n],n));return r};function hk(t,e){var i=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(zw(t,function(o){return o.catch(function(l){return n||(n=l),i&&pk("frontloadServerRender info","ERROR:",l),l})})).then(function(){if(r!==!0&&n)throw n})}var gk=Fs.Frontload=function(t){Yw(e,t),y0(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(o,l,u,c,d){var g=u===Rs.MOUNT,m=u===Rs.UPDATE,b=r.props.noServerRender||l.noServerRender;r.isServer&&b||g&&l.onMount===!1||m&&!l.onUpdate||(r.isServer?Wl.unshift({fn:function(){return o(c,{isMount:g,isUpdate:m})},options:l,componentDisplayName:c.displayName}):(b||r.firstClientRenderDone)&&o(c,{isMount:g,isUpdate:m}))}}}}}]);function e(i,r){Hw(this,e);var n=Pw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.isServer=i.isServer===void 0?dk:i.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return y0(e,[{key:"render",value:function(){return Uc.default.Children.only(this.props.children)}}]),e}(Uc.default.Component);gk.childContextTypes={frontload:Vw.default.object};var Qw=function(t){Yw(e,t);function e(i,r){Hw(this,e);var n=Pw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.pushFrontload=function(o){return function(l){if(o===Rs.UPDATE){var u=n.props.options._experimental_updateFunc;if(u&&!u(l.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(o===Rs.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,o,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(Rs.MOUNT):(n.componentDidMount=n.pushFrontload(Rs.MOUNT),n.componentDidUpdate=n.pushFrontload(Rs.UPDATE)),n}return y0(e,[{key:"render",value:function(){return Uc.default.createElement(this.props.component,this.props.componentProps)}}]),e}(Uc.default.Component);Qw.contextTypes={frontload:Vw.default.object};var Zue=Fs.frontloadConnect=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return Uc.default.createElement(Qw,{frontload:e,component:r,componentProps:n,options:i})}}};function fk(t){t(!0);var e=Wl;return Wl=[],e}function mk(t,e){return hk(zw(t,function(i){return i.fn()}),e)}function bk(t){var e=t(!1);return Wl=[],e}function jw(t,e){var i=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=fk(t),c=u.length+0,d=c-l;if(!d){var g=bk(t);return Promise.resolve(g)}var m=i&&Date.now();return mk(u,{withLogging:i,continueRenderingOnError:n}).then(function(){if(o===r){var b=t(!1),I=Wl.length+0,x=I-c;return Wl=[],b}return jw(t,{withLogging:i,maxNestedFrontloadComponents:r,continueRenderingOnError:n},o+1,c)})}function Ck(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),jw(t,e)}});function Hc(t,e){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hc(t,e)}var Jw=R(()=>{});function Gr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Hc(t,e)}var xh=R(()=>{Jw()});function Sh(t){return t.charAt(0)==="/"}function A0(t,e){for(var i=e,r=i+1,n=t.length;r<n;i+=1,r+=1)t[i]=t[r];t.pop()}function vk(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],r=e&&e.split("/")||[],n=t&&Sh(t),o=e&&Sh(e),l=n||o;if(t&&Sh(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var d=0,g=r.length;g>=0;g--){var m=r[g];m==="."?A0(r,g):m===".."?(A0(r,g),d++):d&&(A0(r,g),d--)}if(!l)for(;d--;d)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Sh(r[0]))&&r.unshift("");var b=r.join("/");return u&&b.substr(-1)!=="/"&&(b+="/"),b}var qw,Kw=R(()=>{qw=vk});var $w=R(()=>{});function yk(t,e){if(!Ik){if(t)return;var i="Warning: "+e;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}var Ik,w0,ex=R(()=>{Ik=!0;w0=yk});function Dn(t,e){if(!t){if(Ak)throw new Error(x0);var i=typeof e=="function"?e():e,r=i?"".concat(x0,": ").concat(i):x0;throw new Error(r)}}var Ak,x0,Rh=R(()=>{Ak=!0,x0="Invariant failed"});function Yc(t){return t.charAt(0)==="/"?t:"/"+t}function tx(t){return t.charAt(0)==="/"?t.substr(1):t}function wk(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function sx(t,e){return wk(t,e)?t.substr(e.length):t}function lx(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function xk(t){var e=t||"/",i="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:r==="#"?"":r}}function ar(t){var e=t.pathname,i=t.search,r=t.hash,n=e||"/";return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ar(t,e,i,r){var n;typeof t=="string"?(n=xk(t),n.state=e):(n=Lt({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(n.key=i),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=qw(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function R0(){var t=null;function e(l){return t=l,function(){t===l&&(t=null)}}function i(l,u,c,d){if(t!=null){var g=typeof t=="function"?t(l,u):t;typeof g=="string"?typeof c=="function"?c(g,d):d(!0):d(g!==!1)}else d(!0)}var r=[];function n(l){var u=!0;function c(){u&&l.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(d){return d!==c})}}function o(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,u)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:n,notifyListeners:o}}function cx(t,e){e(window.confirm(t))}function Sk(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Rk(){return window.navigator.userAgent.indexOf("Trident")===-1}function Fk(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Ek(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function nx(){try{return window.history.state||{}}catch{return{}}}function Fh(t){t===void 0&&(t={}),ux||Dn(!1);var e=window.history,i=Sk(),r=!Rk(),n=t,o=n.forceRefresh,l=o===void 0?!1:o,u=n.getUserConfirmation,c=u===void 0?cx:u,d=n.keyLength,g=d===void 0?6:d,m=t.basename?lx(Yc(t.basename)):"";function b(V){var ie=V||{},le=ie.key,ce=ie.state,ge=window.location,fe=ge.pathname,We=ge.search,Ee=ge.hash,Be=fe+We+Ee;return m&&(Be=sx(Be,m)),Ar(Be,ce,le)}function I(){return Math.random().toString(36).substr(2,g)}var x=R0();function A(V){Lt(z,V),z.length=e.length,x.notifyListeners(z.location,z.action)}function F(V){Ek(V)||k(b(V.state))}function E(){k(b(nx()))}var M=!1;function k(V){if(M)M=!1,A();else{var ie="POP";x.confirmTransitionTo(V,ie,c,function(le){le?A({action:ie,location:V}):T(V)})}}function T(V){var ie=z.location,le=ne.indexOf(ie.key);le===-1&&(le=0);var ce=ne.indexOf(V.key);ce===-1&&(ce=0);var ge=le-ce;ge&&(M=!0,de(ge))}var _=b(nx()),ne=[_.key];function Z(V){return m+ar(V)}function L(V,ie){var le="PUSH",ce=Ar(V,ie,I(),z.location);x.confirmTransitionTo(ce,le,c,function(ge){if(ge){var fe=Z(ce),We=ce.key,Ee=ce.state;if(i)if(e.pushState({key:We,state:Ee},null,fe),l)window.location.href=fe;else{var Be=ne.indexOf(z.location.key),ke=ne.slice(0,Be+1);ke.push(ce.key),ne=ke,A({action:le,location:ce})}else window.location.href=fe}})}function re(V,ie){var le="REPLACE",ce=Ar(V,ie,I(),z.location);x.confirmTransitionTo(ce,le,c,function(ge){if(ge){var fe=Z(ce),We=ce.key,Ee=ce.state;if(i)if(e.replaceState({key:We,state:Ee},null,fe),l)window.location.replace(fe);else{var Be=ne.indexOf(z.location.key);Be!==-1&&(ne[Be]=ce.key),A({action:le,location:ce})}else window.location.replace(fe)}})}function de(V){e.go(V)}function $(){de(-1)}function q(){de(1)}var B=0;function j(V){B+=V,B===1&&V===1?(window.addEventListener(ix,F),r&&window.addEventListener(rx,E)):B===0&&(window.removeEventListener(ix,F),r&&window.removeEventListener(rx,E))}var K=!1;function te(V){V===void 0&&(V=!1);var ie=x.setPrompt(V);return K||(j(1),K=!0),function(){return K&&(K=!1,j(-1)),ie()}}function se(V){var ie=x.appendListener(V);return j(1),function(){j(-1),ie()}}var z={length:e.length,action:"POP",location:_,createHref:Z,push:L,replace:re,go:de,goBack:$,goForward:q,block:te,listen:se};return z}function dx(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Pc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Wk(t){window.location.hash=t}function S0(t){window.location.replace(dx(window.location.href)+"#"+t)}function px(t){t===void 0&&(t={}),ux||Dn(!1);var e=window.history,i=Fk(),r=t,n=r.getUserConfirmation,o=n===void 0?cx:n,l=r.hashType,u=l===void 0?"slash":l,c=t.basename?lx(Yc(t.basename)):"",d=Nk[u],g=d.encodePath,m=d.decodePath;function b(){var le=m(Pc());return c&&(le=sx(le,c)),Ar(le)}var I=R0();function x(le){Lt(ie,le),ie.length=e.length,I.notifyListeners(ie.location,ie.action)}var A=!1,F=null;function E(le,ce){return le.pathname===ce.pathname&&le.search===ce.search&&le.hash===ce.hash}function M(){var le=Pc(),ce=g(le);if(le!==ce)S0(ce);else{var ge=b(),fe=ie.location;if(!A&&E(fe,ge)||F===ar(ge))return;F=null,k(ge)}}function k(le){if(A)A=!1,x();else{var ce="POP";I.confirmTransitionTo(le,ce,o,function(ge){ge?x({action:ce,location:le}):T(le)})}}function T(le){var ce=ie.location,ge=L.lastIndexOf(ar(ce));ge===-1&&(ge=0);var fe=L.lastIndexOf(ar(le));fe===-1&&(fe=0);var We=ge-fe;We&&(A=!0,q(We))}var _=Pc(),ne=g(_);_!==ne&&S0(ne);var Z=b(),L=[ar(Z)];function re(le){var ce=document.querySelector("base"),ge="";return ce&&ce.getAttribute("href")&&(ge=dx(window.location.href)),ge+"#"+g(c+ar(le))}function de(le,ce){var ge="PUSH",fe=Ar(le,void 0,void 0,ie.location);I.confirmTransitionTo(fe,ge,o,function(We){if(We){var Ee=ar(fe),Be=g(c+Ee),ke=Pc()!==Be;if(ke){F=Ee,Wk(Be);var at=L.lastIndexOf(ar(ie.location)),Pe=L.slice(0,at+1);Pe.push(Ee),L=Pe,x({action:ge,location:fe})}else x()}})}function $(le,ce){var ge="REPLACE",fe=Ar(le,void 0,void 0,ie.location);I.confirmTransitionTo(fe,ge,o,function(We){if(We){var Ee=ar(fe),Be=g(c+Ee),ke=Pc()!==Be;ke&&(F=Ee,S0(Be));var at=L.indexOf(ar(ie.location));at!==-1&&(L[at]=Ee),x({action:ge,location:fe})}})}function q(le){e.go(le)}function B(){q(-1)}function j(){q(1)}var K=0;function te(le){K+=le,K===1&&le===1?window.addEventListener(ox,M):K===0&&window.removeEventListener(ox,M)}var se=!1;function z(le){le===void 0&&(le=!1);var ce=I.setPrompt(le);return se||(te(1),se=!0),function(){return se&&(se=!1,te(-1)),ce()}}function V(le){var ce=I.appendListener(le);return te(1),function(){te(-1),ce()}}var ie={length:e.length,action:"POP",location:Z,createHref:re,push:de,replace:$,go:q,goBack:B,goForward:j,block:z,listen:V};return ie}function ax(t,e,i){return Math.min(Math.max(t,e),i)}function hx(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,o=e.initialIndex,l=o===void 0?0:o,u=e.keyLength,c=u===void 0?6:u,d=R0();function g(L){Lt(Z,L),Z.length=Z.entries.length,d.notifyListeners(Z.location,Z.action)}function m(){return Math.random().toString(36).substr(2,c)}var b=ax(l,0,n.length-1),I=n.map(function(L){return typeof L=="string"?Ar(L,void 0,m()):Ar(L,void 0,L.key||m())}),x=ar;function A(L,re){var de="PUSH",$=Ar(L,re,m(),Z.location);d.confirmTransitionTo($,de,i,function(q){if(q){var B=Z.index,j=B+1,K=Z.entries.slice(0);K.length>j?K.splice(j,K.length-j,$):K.push($),g({action:de,location:$,index:j,entries:K})}})}function F(L,re){var de="REPLACE",$=Ar(L,re,m(),Z.location);d.confirmTransitionTo($,de,i,function(q){q&&(Z.entries[Z.index]=$,g({action:de,location:$}))})}function E(L){var re=ax(Z.index+L,0,Z.entries.length-1),de="POP",$=Z.entries[re];d.confirmTransitionTo($,de,i,function(q){q?g({action:de,location:$,index:re}):g()})}function M(){E(-1)}function k(){E(1)}function T(L){var re=Z.index+L;return re>=0&&re<Z.entries.length}function _(L){return L===void 0&&(L=!1),d.setPrompt(L)}function ne(L){return d.appendListener(L)}var Z={length:I.length,action:"POP",location:I[b],index:b,entries:I,createHref:x,push:A,replace:F,go:E,goBack:M,goForward:k,canGo:T,block:_,listen:ne};return Z}var ux,ix,rx,ox,Nk,Eh=R(()=>{Ss();Kw();$w();Rh();ux=!!(typeof window<"u"&&window.document&&window.document.createElement);ix="popstate",rx="hashchange";ox="hashchange",Nk={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+tx(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:tx,decodePath:Yc},slash:{encodePath:Yc,decodePath:Yc}}});function Ok(){var t="__global_unique_id__";return gx[t]=(gx[t]||0)+1}function Gk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lk(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(o){return o(t,n)})}}}function Xk(t){return Array.isArray(t)?t[0]:t}function Bk(t,e){var i,r,n="__create-react-context-"+Ok()+"__",o=function(u){Gr(c,u);function c(){var g;return g=u.apply(this,arguments)||this,g.emitter=Lk(g.props.value),g}var d=c.prototype;return d.getChildContext=function(){var m;return m={},m[n]=this.emitter,m},d.componentWillReceiveProps=function(m){if(this.props.value!==m.value){var b=this.props.value,I=m.value,x;Gk(b,I)?x=0:(x=typeof e=="function"?e(b,I):F0,x|=0,x!==0&&this.emitter.set(m.value,x))}},d.render=function(){return this.props.children},c}(oe);o.childContextTypes=(i={},i[n]=E0.default.object.isRequired,i);var l=function(u){Gr(c,u);function c(){var g;return g=u.apply(this,arguments)||this,g.state={value:g.getValue()},g.onUpdate=function(m,b){var I=g.observedBits|0;I&b&&g.setState({value:g.getValue()})},g}var d=c.prototype;return d.componentWillReceiveProps=function(m){var b=m.observedBits;this.observedBits=b??F0},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var m=this.props.observedBits;this.observedBits=m??F0},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():t},d.render=function(){return Xk(this.props.children)(this.state.value)},c}(oe);return l.contextTypes=(r={},r[n]=E0.default.object,r),{Provider:o,Consumer:l}}var E0,F0,gx,Dk,fx,mx=R(()=>{Fe();xh();E0=pe(K1()),F0=1073741823,gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};Dk=Te.createContext||Bk,fx=Dk});var Cx=P((rce,bx)=>{bx.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var Ax=P((nce,Ol)=>{var Wh=Cx();Ol.exports=yx;Ol.exports.parse=N0;Ol.exports.compile=Mk;Ol.exports.tokensToFunction=vx;Ol.exports.tokensToRegExp=Ix;var Tk=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N0(t,e){for(var i=[],r=0,n=0,o="",l=e&&e.delimiter||"/",u;(u=Tk.exec(t))!=null;){var c=u[0],d=u[1],g=u.index;if(o+=t.slice(n,g),n=g+c.length,d){o+=d[1];continue}var m=t[n],b=u[2],I=u[3],x=u[4],A=u[5],F=u[6],E=u[7];o&&(i.push(o),o="");var M=b!=null&&m!=null&&m!==b,k=F==="+"||F==="*",T=F==="?"||F==="*",_=u[2]||l,ne=x||A;i.push({name:I||r++,prefix:b||"",delimiter:_,optional:T,repeat:k,partial:M,asterisk:!!E,pattern:ne?kk(ne):E?".*":"[^"+Nh(_)+"]+?"})}return n<t.length&&(o+=t.substr(n)),o&&i.push(o),i}function Mk(t,e){return vx(N0(t,e),e)}function Zk(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _k(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function vx(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(i[r]=new RegExp("^(?:"+t[r].pattern+")$",O0(e)));return function(n,o){for(var l="",u=n||{},c=o||{},d=c.pretty?Zk:encodeURIComponent,g=0;g<t.length;g++){var m=t[g];if(typeof m=="string"){l+=m;continue}var b=u[m.name],I;if(b==null)if(m.optional){m.partial&&(l+=m.prefix);continue}else throw new TypeError('Expected "'+m.name+'" to be defined');if(Wh(b)){if(!m.repeat)throw new TypeError('Expected "'+m.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(b.length===0){if(m.optional)continue;throw new TypeError('Expected "'+m.name+'" to not be empty')}for(var x=0;x<b.length;x++){if(I=d(b[x]),!i[g].test(I))throw new TypeError('Expected all "'+m.name+'" to match "'+m.pattern+'", but received `'+JSON.stringify(I)+"`");l+=(x===0?m.prefix:m.delimiter)+I}continue}if(I=m.asterisk?_k(b):d(b),!i[g].test(I))throw new TypeError('Expected "'+m.name+'" to match "'+m.pattern+'", but received "'+I+'"');l+=m.prefix+I}return l}}function Nh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function kk(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function W0(t,e){return t.keys=e,t}function O0(t){return t&&t.sensitive?"":"i"}function Vk(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return W0(t,e)}function Uk(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(yx(t[n],e,i).source);var o=new RegExp("(?:"+r.join("|")+")",O0(i));return W0(o,e)}function Hk(t,e,i){return Ix(N0(t,i),e,i)}function Ix(t,e,i){Wh(e)||(i=e||i,e=[]),i=i||{};for(var r=i.strict,n=i.end!==!1,o="",l=0;l<t.length;l++){var u=t[l];if(typeof u=="string")o+=Nh(u);else{var c=Nh(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),u.optional?u.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",o+=d}}var g=Nh(i.delimiter||"/"),m=o.slice(-g.length)===g;return r||(o=(m?o.slice(0,-g.length):o)+"(?:"+g+"(?=$))?"),n?o+="$":o+=r&&m?"":"(?="+g+"|$)",W0(new RegExp("^"+o,O0(i)),e)}function yx(t,e,i){return Wh(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?Vk(t,e):Wh(t)?Uk(t,e,i):Hk(t,e,i)}});function Qk(t,e){var i=""+e.end+e.strict+e.sensitive,r=wx[i]||(wx[i]={});if(r[t])return r[t];var n=[],o=(0,Fx.default)(t,n,e),l={regexp:o,keys:n};return xx<zk&&(r[t]=l,xx++),l}function Es(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,o=n===void 0?!1:n,l=i.strict,u=l===void 0?!1:l,c=i.sensitive,d=c===void 0?!1:c,g=[].concat(r);return g.reduce(function(m,b){if(!b&&b!=="")return null;if(m)return m;var I=Qk(b,{end:o,strict:u,sensitive:d}),x=I.regexp,A=I.keys,F=x.exec(t);if(!F)return null;var E=F[0],M=F.slice(1),k=t===E;return o&&!k?null:{path:b,url:b==="/"&&E===""?"/":E,isExact:k,params:A.reduce(function(T,_,ne){return T[_.name]=M[ne],T},{})}},null)}function jk(t){return Te.Children.count(t)===0}function L0(t){return t.charAt(0)==="/"?t:"/"+t}function Jk(t,e){return t?Lt({},e,{pathname:L0(t)+e.pathname}):e}function qk(t,e){if(!t)return e;var i=L0(t);return e.pathname.indexOf(i)!==0?e:Lt({},e,{pathname:e.pathname.substr(i.length)})}function Sx(t){return typeof t=="string"?t:ar(t)}function G0(t){return function(){Dn(!1)}}function Rx(){}function Tn(t){var e="withRouter("+(t.displayName||t.name)+")",i=function(n){var o=n.wrappedComponentRef,l=yr(n,["wrappedComponentRef"]);return Te.createElement(xa.Consumer,null,function(u){return u||Dn(!1),Te.createElement(t,Lt({},l,u,{ref:o}))})};return i.displayName=e,i.WrappedComponent=t,(0,Ex.default)(i,t)}var Fx,pce,Ex,Nx,Pk,xa,Sa,Yk,fce,wx,zk,xx,Cn,Kk,Oh,mce,qo=R(()=>{xh();Fe();Eh();mx();Rh();Ss();Fx=pe(Ax()),pce=pe(n0());El();Ex=pe(bh()),Nx=function(e){var i=fx();return i.displayName=e,i},Pk=Nx("Router-History"),xa=Nx("Router"),Sa=function(t){Gr(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(o){n._pendingLocation=o})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){n._isMounted&&n.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return Te.createElement(xa.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Te.createElement(Pk.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Te.Component),Yk=function(t){Gr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=hx(r.props),r}var i=e.prototype;return i.render=function(){return Te.createElement(Sa,{history:this.history,children:this.props.children})},e}(Te.Component),fce=function(t){Gr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(Te.Component),wx={},zk=1e4,xx=0;Cn=function(t){Gr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Te.createElement(xa.Consumer,null,function(o){o||Dn(!1);var l=n.props.location||o.location,u=n.props.computedMatch?n.props.computedMatch:n.props.path?Es(l.pathname,n.props):o.match,c=Lt({},o,{location:l,match:u}),d=n.props,g=d.children,m=d.component,b=d.render;return Array.isArray(g)&&jk(g)&&(g=null),Te.createElement(xa.Provider,{value:c},c.match?g?typeof g=="function"?g(c):g:m?Te.createElement(m,c):b?b(c):null:typeof g=="function"?g(c):null)})},e}(Te.Component);Kk=function(t){Gr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.handlePush=function(u){return r.navigateTo(u,"PUSH")},r.handleReplace=function(u){return r.navigateTo(u,"REPLACE")},r.handleListen=function(){return Rx},r.handleBlock=function(){return Rx},r}var i=e.prototype;return i.navigateTo=function(n,o){var l=this.props,u=l.basename,c=u===void 0?"":u,d=l.context,g=d===void 0?{}:d;g.action=o,g.location=Jk(c,Ar(n)),g.url=Sx(g.location)},i.render=function(){var n=this.props,o=n.basename,l=o===void 0?"":o,u=n.context,c=u===void 0?{}:u,d=n.location,g=d===void 0?"/":d,m=yr(n,["basename","context","location"]),b={createHref:function(x){return L0(l+Sx(x))},action:"POP",location:qk(l,Ar(g)),push:this.handlePush,replace:this.handleReplace,go:G0("go"),goBack:G0("goBack"),goForward:G0("goForward"),listen:this.handleListen,block:this.handleBlock};return Te.createElement(Sa,Lt({},m,{history:b,staticContext:c}))},e}(Te.Component),Oh=function(t){Gr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Te.createElement(xa.Consumer,null,function(o){o||Dn(!1);var l=n.props.location||o.location,u,c;return Te.Children.forEach(n.props.children,function(d){if(c==null&&Te.isValidElement(d)){u=d;var g=d.props.path||d.props.from;c=g?Es(l.pathname,Lt({},d.props,{path:g})):o.match}}),c?Te.cloneElement(u,{location:l,computedMatch:c}):null})},e}(Te.Component);mce=Te.useContext});function f(t,e,i,r,n,o){var l,u,c={};for(u in e)u=="ref"?l=e[u]:c[u]=e[u];var d={type:t,props:c,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--$k,__source:n,__self:o};if(typeof t=="function"&&(l=t.defaultProps))for(u in l)c[u]===void 0&&(c[u]=l[u]);return Xe.vnode&&Xe.vnode(d),d}var $k,Y=R(()=>{xe();xe();$k=0});var Wx=R(()=>{Fe();Y()});var Ox=R(()=>{Fe();Y()});var ve=P((Gl,zc)=>{(function(){var t,e="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,g=2,m=4,b=1,I=2,x=1,A=2,F=4,E=8,M=16,k=32,T=64,_=128,ne=256,Z=512,L=30,re="...",de=800,$=16,q=1,B=2,j=3,K=1/0,te=9007199254740991,se=17976931348623157e292,z=NaN,V=4294967295,ie=V-1,le=V>>>1,ce=[["ary",_],["bind",x],["bindKey",A],["curry",E],["curryRight",M],["flip",Z],["partial",k],["partialRight",T],["rearg",ne]],ge="[object Arguments]",fe="[object Array]",We="[object AsyncFunction]",Ee="[object Boolean]",Be="[object Date]",ke="[object DOMException]",at="[object Error]",Pe="[object Function]",nt="[object GeneratorFunction]",we="[object Map]",lt="[object Number]",ot="[object Null]",He="[object Object]",Ye="[object Promise]",Pt="[object Proxy]",kt="[object RegExp]",At="[object Set]",Tt="[object String]",it="[object Symbol]",Ui="[object Undefined]",jt="[object WeakMap]",Eo="[object WeakSet]",_r="[object ArrayBuffer]",Sn="[object DataView]",aa="[object Float32Array]",No="[object Float64Array]",Ii="[object Int8Array]",gt="[object Int16Array]",wr="[object Int32Array]",ur="[object Uint8Array]",tl="[object Uint8ClampedArray]",ai="[object Uint16Array]",Wo="[object Uint32Array]",sa=/\b__p \+= '';/g,il=/\b(__p \+=) '' \+/g,Zu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hi=/&(?:amp|lt|gt|quot|#39);/g,_u=/[&<>"']/g,ku=RegExp(Hi.source),Vu=RegExp(_u.source),Xm=/<%-([\s\S]+?)%>/g,Bm=/<%([\s\S]+?)%>/g,rl=/<%=([\s\S]+?)%>/g,tp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ip=/^\w*$/,rp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uu=/[\\^$.*+?()[\]{}|]/g,Dm=RegExp(Uu.source),Hu=/^\s+/,np=/\s/,cr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oo=/\{\n\/\* \[wrapped with (.+)\] \*/,Ja=/,? & /,Pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qa=/[()=,{}\[\]\/\s]/,la=/\\(\\)?/g,Tm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yu=/\w*$/,zu=/^[-+]0x[0-9a-f]+$/i,op=/^0b[01]+$/i,nl=/^\[object .+?Constructor\]$/,er=/^0o[0-7]+$/i,Go=/^(?:0|[1-9]\d*)$/,tr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hi=/($^)/,Lo=/['\n\r\u2028\u2029\\]/g,kr="\\ud800-\\udfff",Xo="\\u0300-\\u036f",Ka="\\ufe20-\\ufe2f",Bo="\\u20d0-\\u20ff",Do=Xo+Ka+Bo,ol="\\u2700-\\u27bf",ua="a-z\\xdf-\\xf6\\xf8-\\xff",$a="\\xac\\xb1\\xd7\\xf7",al="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sl="\\u2000-\\u206f",Qu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dr="A-Z\\xc0-\\xd6\\xd8-\\xde",ll="\\ufe0e\\ufe0f",qn=$a+al+sl+Qu,Rn="['\u2019]",ul="["+kr+"]",Fn="["+qn+"]",Wi="["+Do+"]",nn="\\d+",ap="["+ol+"]",ju="["+ua+"]",ct="[^"+kr+qn+nn+ol+ua+dr+"]",Vr="\\ud83c[\\udffb-\\udfff]",pr="(?:"+Wi+"|"+Vr+")",Pi="[^"+kr+"]",To="(?:\\ud83c[\\udde6-\\uddff]){2}",Kn="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+dr+"]",cl="\\u200d",es="(?:"+ju+"|"+ct+")",ts="(?:"+Yi+"|"+ct+")",is="(?:"+Rn+"(?:d|ll|m|re|s|t|ve))?",sp="(?:"+Rn+"(?:D|LL|M|RE|S|T|VE))?",lp=pr+"?",Ju="["+ll+"]?",qu="(?:"+cl+"(?:"+[Pi,To,Kn].join("|")+")"+Ju+lp+")*",up="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ku=Ju+lp+qu,$u="(?:"+[ap,To,Kn].join("|")+")"+Ku,cp="(?:"+[Pi+Wi+"?",Wi,To,Kn,ul].join("|")+")",dp=RegExp(Rn,"g"),pp=RegExp(Wi,"g"),ec=RegExp(Vr+"(?="+Vr+")|"+cp+Ku,"g"),hp=RegExp([Yi+"?"+ju+"+"+is+"(?="+[Fn,Yi,"$"].join("|")+")",ts+"+"+sp+"(?="+[Fn,Yi+es,"$"].join("|")+")",Yi+"?"+es+"+"+is,Yi+"+"+sp,Mm,up,nn,$u].join("|"),"g"),ca=RegExp("["+cl+kr+Do+ll+"]"),Zm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dl=-1,Nt={};Nt[aa]=Nt[No]=Nt[Ii]=Nt[gt]=Nt[wr]=Nt[ur]=Nt[tl]=Nt[ai]=Nt[Wo]=!0,Nt[ge]=Nt[fe]=Nt[_r]=Nt[Ee]=Nt[Sn]=Nt[Be]=Nt[at]=Nt[Pe]=Nt[we]=Nt[lt]=Nt[He]=Nt[kt]=Nt[At]=Nt[Tt]=Nt[jt]=!1;var Wt={};Wt[ge]=Wt[fe]=Wt[_r]=Wt[Sn]=Wt[Ee]=Wt[Be]=Wt[aa]=Wt[No]=Wt[Ii]=Wt[gt]=Wt[wr]=Wt[we]=Wt[lt]=Wt[He]=Wt[kt]=Wt[At]=Wt[Tt]=Wt[it]=Wt[ur]=Wt[tl]=Wt[ai]=Wt[Wo]=!0,Wt[at]=Wt[Pe]=Wt[jt]=!1;var gp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},_m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},km={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Um=parseFloat,Hm=parseInt,fp=typeof global=="object"&&global&&global.Object===Object&&global,Pm=typeof self=="object"&&self&&self.Object===Object&&self,yi=fp||Pm||Function("return this")(),tc=typeof Gl=="object"&&Gl&&!Gl.nodeType&&Gl,hr=tc&&typeof zc=="object"&&zc&&!zc.nodeType&&zc,ic=hr&&hr.exports===tc,eo=ic&&fp.process,Ot=function(){try{var Q=hr&&hr.require&&hr.require("util").types;return Q||eo&&eo.binding&&eo.binding("util")}catch{}}(),to=Ot&&Ot.isArrayBuffer,pl=Ot&&Ot.isDate,da=Ot&&Ot.isMap,mp=Ot&&Ot.isRegExp,on=Ot&&Ot.isSet,ir=Ot&&Ot.isTypedArray;function gr(Q,he,ue){switch(ue.length){case 0:return Q.call(he);case 1:return Q.call(he,ue[0]);case 2:return Q.call(he,ue[0],ue[1]);case 3:return Q.call(he,ue[0],ue[1],ue[2])}return Q.apply(he,ue)}function Ym(Q,he,ue,Se){for(var Ke=-1,bt=Q==null?0:Q.length;++Ke<bt;){var qt=Q[Ke];he(Se,qt,ue(qt),Q)}return Se}function xr(Q,he){for(var ue=-1,Se=Q==null?0:Q.length;++ue<Se&&he(Q[ue],ue,Q)!==!1;);return Q}function rs(Q,he){for(var ue=Q==null?0:Q.length;ue--&&he(Q[ue],ue,Q)!==!1;);return Q}function ns(Q,he){for(var ue=-1,Se=Q==null?0:Q.length;++ue<Se;)if(!he(Q[ue],ue,Q))return!1;return!0}function En(Q,he){for(var ue=-1,Se=Q==null?0:Q.length,Ke=0,bt=[];++ue<Se;){var qt=Q[ue];he(qt,ue,Q)&&(bt[Ke++]=qt)}return bt}function os(Q,he){var ue=Q==null?0:Q.length;return!!ue&&Ur(Q,he,0)>-1}function an(Q,he,ue){for(var Se=-1,Ke=Q==null?0:Q.length;++Se<Ke;)if(ue(he,Q[Se]))return!0;return!1}function Vt(Q,he){for(var ue=-1,Se=Q==null?0:Q.length,Ke=Array(Se);++ue<Se;)Ke[ue]=he(Q[ue],ue,Q);return Ke}function Nn(Q,he){for(var ue=-1,Se=he.length,Ke=Q.length;++ue<Se;)Q[Ke+ue]=he[ue];return Q}function sn(Q,he,ue,Se){var Ke=-1,bt=Q==null?0:Q.length;for(Se&&bt&&(ue=Q[++Ke]);++Ke<bt;)ue=he(ue,Q[Ke],Ke,Q);return ue}function rc(Q,he,ue,Se){var Ke=Q==null?0:Q.length;for(Se&&Ke&&(ue=Q[--Ke]);Ke--;)ue=he(ue,Q[Ke],Ke,Q);return ue}function as(Q,he){for(var ue=-1,Se=Q==null?0:Q.length;++ue<Se;)if(he(Q[ue],ue,Q))return!0;return!1}var hl=ls("length");function ss(Q){return Q.split("")}function nc(Q){return Q.match(Pu)||[]}function zi(Q,he,ue){var Se;return ue(Q,function(Ke,bt,qt){if(he(Ke,bt,qt))return Se=bt,!1}),Se}function pa(Q,he,ue,Se){for(var Ke=Q.length,bt=ue+(Se?1:-1);Se?bt--:++bt<Ke;)if(he(Q[bt],bt,Q))return bt;return-1}function Ur(Q,he,ue){return he===he?ti(Q,he,ue):pa(Q,Mo,ue)}function Hr(Q,he,ue,Se){for(var Ke=ue-1,bt=Q.length;++Ke<bt;)if(Se(Q[Ke],he))return Ke;return-1}function Mo(Q){return Q!==Q}function ln(Q,he){var ue=Q==null?0:Q.length;return ue?Wn(Q,he)/ue:z}function ls(Q){return function(he){return he==null?t:he[Q]}}function Zo(Q){return function(he){return Q==null?t:Q[he]}}function gl(Q,he,ue,Se,Ke){return Ke(Q,function(bt,qt,wt){ue=Se?(Se=!1,bt):he(ue,bt,qt,wt)}),ue}function oc(Q,he){var ue=Q.length;for(Q.sort(he);ue--;)Q[ue]=Q[ue].value;return Q}function Wn(Q,he){for(var ue,Se=-1,Ke=Q.length;++Se<Ke;){var bt=he(Q[Se]);bt!==t&&(ue=ue===t?bt:ue+bt)}return ue}function us(Q,he){for(var ue=-1,Se=Array(Q);++ue<Q;)Se[ue]=he(ue);return Se}function bp(Q,he){return Vt(he,function(ue){return[ue,Q[ue]]})}function cs(Q){return Q&&Q.slice(0,ha(Q)+1).replace(Hu,"")}function fr(Q){return function(he){return Q(he)}}function Sr(Q,he){return Vt(he,function(ue){return Q[ue]})}function gi(Q,he){return Q.has(he)}function v(Q,he){for(var ue=-1,Se=Q.length;++ue<Se&&Ur(he,Q[ue],0)>-1;);return ue}function W(Q,he){for(var ue=Q.length;ue--&&Ur(he,Q[ue],0)>-1;);return ue}function X(Q,he){for(var ue=Q.length,Se=0;ue--;)Q[ue]===he&&++Se;return Se}var G=Zo(gp),ae=Zo(_m);function Ae(Q){return"\\"+Vm[Q]}function Le(Q,he){return Q==null?t:Q[he]}function Ve(Q){return ca.test(Q)}function Ne(Q){return Zm.test(Q)}function st(Q){for(var he,ue=[];!(he=Q.next()).done;)ue.push(he.value);return ue}function je(Q){var he=-1,ue=Array(Q.size);return Q.forEach(function(Se,Ke){ue[++he]=[Ke,Se]}),ue}function pt(Q,he){return function(ue){return Q(he(ue))}}function Rt(Q,he){for(var ue=-1,Se=Q.length,Ke=0,bt=[];++ue<Se;){var qt=Q[ue];(qt===he||qt===c)&&(Q[ue]=c,bt[Ke++]=ue)}return bt}function Ai(Q){var he=-1,ue=Array(Q.size);return Q.forEach(function(Se){ue[++he]=Se}),ue}function mr(Q){var he=-1,ue=Array(Q.size);return Q.forEach(function(Se){ue[++he]=[Se,Se]}),ue}function ti(Q,he,ue){for(var Se=ue-1,Ke=Q.length;++Se<Ke;)if(Q[Se]===he)return Se;return-1}function Jt(Q,he,ue){for(var Se=ue+1;Se--;)if(Q[Se]===he)return Se;return Se}function si(Q){return Ve(Q)?ml(Q):hl(Q)}function Oi(Q){return Ve(Q)?ac(Q):ss(Q)}function ha(Q){for(var he=Q.length;he--&&np.test(Q.charAt(he)););return he}var fl=Zo(km);function ml(Q){for(var he=ec.lastIndex=0;ec.test(Q);)++he;return he}function ac(Q){return Q.match(ec)||[]}function ds(Q){return Q.match(hp)||[]}var Pr=function Q(he){he=he==null?yi:rr.defaults(yi.Object(),he,rr.pick(yi,$n));var ue=he.Array,Se=he.Date,Ke=he.Error,bt=he.Function,qt=he.Math,wt=he.Object,_o=he.RegExp,Qi=he.String,ji=he.TypeError,On=ue.prototype,ga=bt.prototype,Rr=wt.prototype,ps=he["__core-js_shared__"],bl=ga.toString,Gt=Rr.hasOwnProperty,XL=0,ty=function(){var a=/[^.]+$/.exec(ps&&ps.keys&&ps.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Cp=Rr.toString,BL=bl.call(wt),DL=yi._,TL=_o("^"+bl.call(Gt).replace(Uu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vp=ic?he.Buffer:t,fa=he.Symbol,Ip=he.Uint8Array,iy=vp?vp.allocUnsafe:t,yp=pt(wt.getPrototypeOf,wt),ry=wt.create,ny=Rr.propertyIsEnumerable,Ap=On.splice,oy=fa?fa.isConcatSpreadable:t,sc=fa?fa.iterator:t,hs=fa?fa.toStringTag:t,wp=function(){try{var a=Cs(wt,"defineProperty");return a({},"",{}),a}catch{}}(),ML=he.clearTimeout!==yi.clearTimeout&&he.clearTimeout,ZL=Se&&Se.now!==yi.Date.now&&Se.now,_L=he.setTimeout!==yi.setTimeout&&he.setTimeout,xp=qt.ceil,Sp=qt.floor,zm=wt.getOwnPropertySymbols,kL=vp?vp.isBuffer:t,ay=he.isFinite,VL=On.join,UL=pt(wt.keys,wt),Fi=qt.max,nr=qt.min,HL=Se.now,PL=he.parseInt,sy=qt.random,YL=On.reverse,Qm=Cs(he,"DataView"),lc=Cs(he,"Map"),jm=Cs(he,"Promise"),Cl=Cs(he,"Set"),uc=Cs(he,"WeakMap"),cc=Cs(wt,"create"),Rp=uc&&new uc,vl={},zL=vs(Qm),QL=vs(lc),jL=vs(jm),JL=vs(Cl),qL=vs(uc),Fp=fa?fa.prototype:t,dc=Fp?Fp.valueOf:t,ly=Fp?Fp.toString:t;function N(a){if(li(a)&&!dt(a)&&!(a instanceof vt)){if(a instanceof un)return a;if(Gt.call(a,"__wrapped__"))return u2(a)}return new un(a)}var Il=function(){function a(){}return function(s){if(!ii(s))return{};if(ry)return ry(s);a.prototype=s;var p=new a;return a.prototype=t,p}}();function Ep(){}function un(a,s){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}N.templateSettings={escape:Xm,evaluate:Bm,interpolate:rl,variable:"",imports:{_:N}},N.prototype=Ep.prototype,N.prototype.constructor=N,un.prototype=Il(Ep.prototype),un.prototype.constructor=un;function vt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function KL(){var a=new vt(this.__wrapped__);return a.__actions__=Fr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Fr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Fr(this.__views__),a}function $L(){if(this.__filtered__){var a=new vt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function eX(){var a=this.__wrapped__.value(),s=this.__dir__,p=dt(a),C=s<0,S=p?a.length:0,O=pB(0,S,this.__views__),D=O.start,H=O.end,J=H-D,me=C?H:D-1,Ce=this.__iteratees__,ye=Ce.length,Oe=0,Ue=nr(J,this.__takeCount__);if(!p||!C&&S==J&&Ue==J)return Gy(a,this.__actions__);var $e=[];e:for(;J--&&Oe<Ue;){me+=s;for(var ft=-1,et=a[me];++ft<ye;){var Ct=Ce[ft],It=Ct.iteratee,Qr=Ct.type,vr=It(et);if(Qr==B)et=vr;else if(!vr){if(Qr==q)continue e;break e}}$e[Oe++]=et}return $e}vt.prototype=Il(Ep.prototype),vt.prototype.constructor=vt;function gs(a){var s=-1,p=a==null?0:a.length;for(this.clear();++s<p;){var C=a[s];this.set(C[0],C[1])}}function tX(){this.__data__=cc?cc(null):{},this.size=0}function iX(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}function rX(a){var s=this.__data__;if(cc){var p=s[a];return p===l?t:p}return Gt.call(s,a)?s[a]:t}function nX(a){var s=this.__data__;return cc?s[a]!==t:Gt.call(s,a)}function oX(a,s){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=cc&&s===t?l:s,this}gs.prototype.clear=tX,gs.prototype.delete=iX,gs.prototype.get=rX,gs.prototype.has=nX,gs.prototype.set=oX;function ko(a){var s=-1,p=a==null?0:a.length;for(this.clear();++s<p;){var C=a[s];this.set(C[0],C[1])}}function aX(){this.__data__=[],this.size=0}function sX(a){var s=this.__data__,p=Np(s,a);if(p<0)return!1;var C=s.length-1;return p==C?s.pop():Ap.call(s,p,1),--this.size,!0}function lX(a){var s=this.__data__,p=Np(s,a);return p<0?t:s[p][1]}function uX(a){return Np(this.__data__,a)>-1}function cX(a,s){var p=this.__data__,C=Np(p,a);return C<0?(++this.size,p.push([a,s])):p[C][1]=s,this}ko.prototype.clear=aX,ko.prototype.delete=sX,ko.prototype.get=lX,ko.prototype.has=uX,ko.prototype.set=cX;function Vo(a){var s=-1,p=a==null?0:a.length;for(this.clear();++s<p;){var C=a[s];this.set(C[0],C[1])}}function dX(){this.size=0,this.__data__={hash:new gs,map:new(lc||ko),string:new gs}}function pX(a){var s=kp(this,a).delete(a);return this.size-=s?1:0,s}function hX(a){return kp(this,a).get(a)}function gX(a){return kp(this,a).has(a)}function fX(a,s){var p=kp(this,a),C=p.size;return p.set(a,s),this.size+=p.size==C?0:1,this}Vo.prototype.clear=dX,Vo.prototype.delete=pX,Vo.prototype.get=hX,Vo.prototype.has=gX,Vo.prototype.set=fX;function fs(a){var s=-1,p=a==null?0:a.length;for(this.__data__=new Vo;++s<p;)this.add(a[s])}function mX(a){return this.__data__.set(a,l),this}function bX(a){return this.__data__.has(a)}fs.prototype.add=fs.prototype.push=mX,fs.prototype.has=bX;function Gn(a){var s=this.__data__=new ko(a);this.size=s.size}function CX(){this.__data__=new ko,this.size=0}function vX(a){var s=this.__data__,p=s.delete(a);return this.size=s.size,p}function IX(a){return this.__data__.get(a)}function yX(a){return this.__data__.has(a)}function AX(a,s){var p=this.__data__;if(p instanceof ko){var C=p.__data__;if(!lc||C.length<i-1)return C.push([a,s]),this.size=++p.size,this;p=this.__data__=new Vo(C)}return p.set(a,s),this.size=p.size,this}Gn.prototype.clear=CX,Gn.prototype.delete=vX,Gn.prototype.get=IX,Gn.prototype.has=yX,Gn.prototype.set=AX;function uy(a,s){var p=dt(a),C=!p&&Is(a),S=!p&&!C&&Ia(a),O=!p&&!C&&!S&&xl(a),D=p||C||S||O,H=D?us(a.length,Qi):[],J=H.length;for(var me in a)(s||Gt.call(a,me))&&!(D&&(me=="length"||S&&(me=="offset"||me=="parent")||O&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Yo(me,J)))&&H.push(me);return H}function cy(a){var s=a.length;return s?a[a1(0,s-1)]:t}function wX(a,s){return Vp(Fr(a),ms(s,0,a.length))}function xX(a){return Vp(Fr(a))}function Jm(a,s,p){(p!==t&&!Ln(a[s],p)||p===t&&!(s in a))&&Uo(a,s,p)}function pc(a,s,p){var C=a[s];(!(Gt.call(a,s)&&Ln(C,p))||p===t&&!(s in a))&&Uo(a,s,p)}function Np(a,s){for(var p=a.length;p--;)if(Ln(a[p][0],s))return p;return-1}function SX(a,s,p,C){return ma(a,function(S,O,D){s(C,S,p(S),D)}),C}function dy(a,s){return a&&ro(s,Gi(s),a)}function RX(a,s){return a&&ro(s,Nr(s),a)}function Uo(a,s,p){s=="__proto__"&&wp?wp(a,s,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[s]=p}function qm(a,s){for(var p=-1,C=s.length,S=ue(C),O=a==null;++p<C;)S[p]=O?t:O1(a,s[p]);return S}function ms(a,s,p){return a===a&&(p!==t&&(a=a<=p?a:p),s!==t&&(a=a>=s?a:s)),a}function cn(a,s,p,C,S,O){var D,H=s&d,J=s&g,me=s&m;if(p&&(D=S?p(a,C,S,O):p(a)),D!==t)return D;if(!ii(a))return a;var Ce=dt(a);if(Ce){if(D=gB(a),!H)return Fr(a,D)}else{var ye=or(a),Oe=ye==Pe||ye==nt;if(Ia(a))return By(a,H);if(ye==He||ye==ge||Oe&&!S){if(D=J||Oe?{}:e2(a),!H)return J?rB(a,RX(D,a)):iB(a,dy(D,a))}else{if(!Wt[ye])return S?a:{};D=fB(a,ye,H)}}O||(O=new Gn);var Ue=O.get(a);if(Ue)return Ue;O.set(a,D),N2(a)?a.forEach(function(et){D.add(cn(et,s,p,et,a,O))}):F2(a)&&a.forEach(function(et,Ct){D.set(Ct,cn(et,s,p,Ct,a,O))});var $e=me?J?b1:m1:J?Nr:Gi,ft=Ce?t:$e(a);return xr(ft||a,function(et,Ct){ft&&(Ct=et,et=a[Ct]),pc(D,Ct,cn(et,s,p,Ct,a,O))}),D}function FX(a){var s=Gi(a);return function(p){return py(p,a,s)}}function py(a,s,p){var C=p.length;if(a==null)return!C;for(a=wt(a);C--;){var S=p[C],O=s[S],D=a[S];if(D===t&&!(S in a)||!O(D))return!1}return!0}function hy(a,s,p){if(typeof a!="function")throw new ji(n);return vc(function(){a.apply(t,p)},s)}function hc(a,s,p,C){var S=-1,O=os,D=!0,H=a.length,J=[],me=s.length;if(!H)return J;p&&(s=Vt(s,fr(p))),C?(O=an,D=!1):s.length>=i&&(O=gi,D=!1,s=new fs(s));e:for(;++S<H;){var Ce=a[S],ye=p==null?Ce:p(Ce);if(Ce=C||Ce!==0?Ce:0,D&&ye===ye){for(var Oe=me;Oe--;)if(s[Oe]===ye)continue e;J.push(Ce)}else O(s,ye,C)||J.push(Ce)}return J}var ma=_y(io),gy=_y($m,!0);function EX(a,s){var p=!0;return ma(a,function(C,S,O){return p=!!s(C,S,O),p}),p}function Wp(a,s,p){for(var C=-1,S=a.length;++C<S;){var O=a[C],D=s(O);if(D!=null&&(H===t?D===D&&!zr(D):p(D,H)))var H=D,J=O}return J}function NX(a,s,p,C){var S=a.length;for(p=ht(p),p<0&&(p=-p>S?0:S+p),C=C===t||C>S?S:ht(C),C<0&&(C+=S),C=p>C?0:O2(C);p<C;)a[p++]=s;return a}function fy(a,s){var p=[];return ma(a,function(C,S,O){s(C,S,O)&&p.push(C)}),p}function Ji(a,s,p,C,S){var O=-1,D=a.length;for(p||(p=bB),S||(S=[]);++O<D;){var H=a[O];s>0&&p(H)?s>1?Ji(H,s-1,p,C,S):Nn(S,H):C||(S[S.length]=H)}return S}var Km=ky(),my=ky(!0);function io(a,s){return a&&Km(a,s,Gi)}function $m(a,s){return a&&my(a,s,Gi)}function Op(a,s){return En(s,function(p){return zo(a[p])})}function bs(a,s){s=Ca(s,a);for(var p=0,C=s.length;a!=null&&p<C;)a=a[no(s[p++])];return p&&p==C?a:t}function by(a,s,p){var C=s(a);return dt(a)?C:Nn(C,p(a))}function br(a){return a==null?a===t?Ui:ot:hs&&hs in wt(a)?dB(a):xB(a)}function e1(a,s){return a>s}function WX(a,s){return a!=null&&Gt.call(a,s)}function OX(a,s){return a!=null&&s in wt(a)}function GX(a,s,p){return a>=nr(s,p)&&a<Fi(s,p)}function t1(a,s,p){for(var C=p?an:os,S=a[0].length,O=a.length,D=O,H=ue(O),J=1/0,me=[];D--;){var Ce=a[D];D&&s&&(Ce=Vt(Ce,fr(s))),J=nr(Ce.length,J),H[D]=!p&&(s||S>=120&&Ce.length>=120)?new fs(D&&Ce):t}Ce=a[0];var ye=-1,Oe=H[0];e:for(;++ye<S&&me.length<J;){var Ue=Ce[ye],$e=s?s(Ue):Ue;if(Ue=p||Ue!==0?Ue:0,!(Oe?gi(Oe,$e):C(me,$e,p))){for(D=O;--D;){var ft=H[D];if(!(ft?gi(ft,$e):C(a[D],$e,p)))continue e}Oe&&Oe.push($e),me.push(Ue)}}return me}function LX(a,s,p,C){return io(a,function(S,O,D){s(C,p(S),O,D)}),C}function gc(a,s,p){s=Ca(s,a),a=n2(a,s);var C=a==null?a:a[no(pn(s))];return C==null?t:gr(C,a,p)}function Cy(a){return li(a)&&br(a)==ge}function XX(a){return li(a)&&br(a)==_r}function BX(a){return li(a)&&br(a)==Be}function fc(a,s,p,C,S){return a===s?!0:a==null||s==null||!li(a)&&!li(s)?a!==a&&s!==s:DX(a,s,p,C,fc,S)}function DX(a,s,p,C,S,O){var D=dt(a),H=dt(s),J=D?fe:or(a),me=H?fe:or(s);J=J==ge?He:J,me=me==ge?He:me;var Ce=J==He,ye=me==He,Oe=J==me;if(Oe&&Ia(a)){if(!Ia(s))return!1;D=!0,Ce=!1}if(Oe&&!Ce)return O||(O=new Gn),D||xl(a)?qy(a,s,p,C,S,O):uB(a,s,J,p,C,S,O);if(!(p&b)){var Ue=Ce&&Gt.call(a,"__wrapped__"),$e=ye&&Gt.call(s,"__wrapped__");if(Ue||$e){var ft=Ue?a.value():a,et=$e?s.value():s;return O||(O=new Gn),S(ft,et,p,C,O)}}return Oe?(O||(O=new Gn),cB(a,s,p,C,S,O)):!1}function TX(a){return li(a)&&or(a)==we}function i1(a,s,p,C){var S=p.length,O=S,D=!C;if(a==null)return!O;for(a=wt(a);S--;){var H=p[S];if(D&&H[2]?H[1]!==a[H[0]]:!(H[0]in a))return!1}for(;++S<O;){H=p[S];var J=H[0],me=a[J],Ce=H[1];if(D&&H[2]){if(me===t&&!(J in a))return!1}else{var ye=new Gn;if(C)var Oe=C(me,Ce,J,a,s,ye);if(!(Oe===t?fc(Ce,me,b|I,C,ye):Oe))return!1}}return!0}function vy(a){if(!ii(a)||vB(a))return!1;var s=zo(a)?TL:nl;return s.test(vs(a))}function MX(a){return li(a)&&br(a)==kt}function ZX(a){return li(a)&&or(a)==At}function _X(a){return li(a)&&Qp(a.length)&&!!Nt[br(a)]}function Iy(a){return typeof a=="function"?a:a==null?Wr:typeof a=="object"?dt(a)?wy(a[0],a[1]):Ay(a):V2(a)}function r1(a){if(!Cc(a))return UL(a);var s=[];for(var p in wt(a))Gt.call(a,p)&&p!="constructor"&&s.push(p);return s}function kX(a){if(!ii(a))return wB(a);var s=Cc(a),p=[];for(var C in a)C=="constructor"&&(s||!Gt.call(a,C))||p.push(C);return p}function n1(a,s){return a<s}function yy(a,s){var p=-1,C=Er(a)?ue(a.length):[];return ma(a,function(S,O,D){C[++p]=s(S,O,D)}),C}function Ay(a){var s=v1(a);return s.length==1&&s[0][2]?i2(s[0][0],s[0][1]):function(p){return p===a||i1(p,a,s)}}function wy(a,s){return y1(a)&&t2(s)?i2(no(a),s):function(p){var C=O1(p,a);return C===t&&C===s?G1(p,a):fc(s,C,b|I)}}function Gp(a,s,p,C,S){a!==s&&Km(s,function(O,D){if(S||(S=new Gn),ii(O))VX(a,s,D,p,Gp,C,S);else{var H=C?C(w1(a,D),O,D+"",a,s,S):t;H===t&&(H=O),Jm(a,D,H)}},Nr)}function VX(a,s,p,C,S,O,D){var H=w1(a,p),J=w1(s,p),me=D.get(J);if(me){Jm(a,p,me);return}var Ce=O?O(H,J,p+"",a,s,D):t,ye=Ce===t;if(ye){var Oe=dt(J),Ue=!Oe&&Ia(J),$e=!Oe&&!Ue&&xl(J);Ce=J,Oe||Ue||$e?dt(H)?Ce=H:fi(H)?Ce=Fr(H):Ue?(ye=!1,Ce=By(J,!0)):$e?(ye=!1,Ce=Dy(J,!0)):Ce=[]:Ic(J)||Is(J)?(Ce=H,Is(H)?Ce=G2(H):(!ii(H)||zo(H))&&(Ce=e2(J))):ye=!1}ye&&(D.set(J,Ce),S(Ce,J,C,O,D),D.delete(J)),Jm(a,p,Ce)}function xy(a,s){var p=a.length;if(p)return s+=s<0?p:0,Yo(s,p)?a[s]:t}function Sy(a,s,p){s.length?s=Vt(s,function(O){return dt(O)?function(D){return bs(D,O.length===1?O[0]:O)}:O}):s=[Wr];var C=-1;s=Vt(s,fr(Je()));var S=yy(a,function(O,D,H){var J=Vt(s,function(me){return me(O)});return{criteria:J,index:++C,value:O}});return oc(S,function(O,D){return tB(O,D,p)})}function UX(a,s){return Ry(a,s,function(p,C){return G1(a,C)})}function Ry(a,s,p){for(var C=-1,S=s.length,O={};++C<S;){var D=s[C],H=bs(a,D);p(H,D)&&mc(O,Ca(D,a),H)}return O}function HX(a){return function(s){return bs(s,a)}}function o1(a,s,p,C){var S=C?Hr:Ur,O=-1,D=s.length,H=a;for(a===s&&(s=Fr(s)),p&&(H=Vt(a,fr(p)));++O<D;)for(var J=0,me=s[O],Ce=p?p(me):me;(J=S(H,Ce,J,C))>-1;)H!==a&&Ap.call(H,J,1),Ap.call(a,J,1);return a}function Fy(a,s){for(var p=a?s.length:0,C=p-1;p--;){var S=s[p];if(p==C||S!==O){var O=S;Yo(S)?Ap.call(a,S,1):u1(a,S)}}return a}function a1(a,s){return a+Sp(sy()*(s-a+1))}function PX(a,s,p,C){for(var S=-1,O=Fi(xp((s-a)/(p||1)),0),D=ue(O);O--;)D[C?O:++S]=a,a+=p;return D}function s1(a,s){var p="";if(!a||s<1||s>te)return p;do s%2&&(p+=a),s=Sp(s/2),s&&(a+=a);while(s);return p}function mt(a,s){return x1(r2(a,s,Wr),a+"")}function YX(a){return cy(Sl(a))}function zX(a,s){var p=Sl(a);return Vp(p,ms(s,0,p.length))}function mc(a,s,p,C){if(!ii(a))return a;s=Ca(s,a);for(var S=-1,O=s.length,D=O-1,H=a;H!=null&&++S<O;){var J=no(s[S]),me=p;if(J==="__proto__"||J==="constructor"||J==="prototype")return a;if(S!=D){var Ce=H[J];me=C?C(Ce,J,H):t,me===t&&(me=ii(Ce)?Ce:Yo(s[S+1])?[]:{})}pc(H,J,me),H=H[J]}return a}var Ey=Rp?function(a,s){return Rp.set(a,s),a}:Wr,QX=wp?function(a,s){return wp(a,"toString",{configurable:!0,enumerable:!1,value:X1(s),writable:!0})}:Wr;function jX(a){return Vp(Sl(a))}function dn(a,s,p){var C=-1,S=a.length;s<0&&(s=-s>S?0:S+s),p=p>S?S:p,p<0&&(p+=S),S=s>p?0:p-s>>>0,s>>>=0;for(var O=ue(S);++C<S;)O[C]=a[C+s];return O}function JX(a,s){var p;return ma(a,function(C,S,O){return p=s(C,S,O),!p}),!!p}function Lp(a,s,p){var C=0,S=a==null?C:a.length;if(typeof s=="number"&&s===s&&S<=le){for(;C<S;){var O=C+S>>>1,D=a[O];D!==null&&!zr(D)&&(p?D<=s:D<s)?C=O+1:S=O}return S}return l1(a,s,Wr,p)}function l1(a,s,p,C){var S=0,O=a==null?0:a.length;if(O===0)return 0;s=p(s);for(var D=s!==s,H=s===null,J=zr(s),me=s===t;S<O;){var Ce=Sp((S+O)/2),ye=p(a[Ce]),Oe=ye!==t,Ue=ye===null,$e=ye===ye,ft=zr(ye);if(D)var et=C||$e;else me?et=$e&&(C||Oe):H?et=$e&&Oe&&(C||!Ue):J?et=$e&&Oe&&!Ue&&(C||!ft):Ue||ft?et=!1:et=C?ye<=s:ye<s;et?S=Ce+1:O=Ce}return nr(O,ie)}function Ny(a,s){for(var p=-1,C=a.length,S=0,O=[];++p<C;){var D=a[p],H=s?s(D):D;if(!p||!Ln(H,J)){var J=H;O[S++]=D===0?0:D}}return O}function Wy(a){return typeof a=="number"?a:zr(a)?z:+a}function Yr(a){if(typeof a=="string")return a;if(dt(a))return Vt(a,Yr)+"";if(zr(a))return ly?ly.call(a):"";var s=a+"";return s=="0"&&1/a==-K?"-0":s}function ba(a,s,p){var C=-1,S=os,O=a.length,D=!0,H=[],J=H;if(p)D=!1,S=an;else if(O>=i){var me=s?null:sB(a);if(me)return Ai(me);D=!1,S=gi,J=new fs}else J=s?[]:H;e:for(;++C<O;){var Ce=a[C],ye=s?s(Ce):Ce;if(Ce=p||Ce!==0?Ce:0,D&&ye===ye){for(var Oe=J.length;Oe--;)if(J[Oe]===ye)continue e;s&&J.push(ye),H.push(Ce)}else S(J,ye,p)||(J!==H&&J.push(ye),H.push(Ce))}return H}function u1(a,s){return s=Ca(s,a),a=n2(a,s),a==null||delete a[no(pn(s))]}function Oy(a,s,p,C){return mc(a,s,p(bs(a,s)),C)}function Xp(a,s,p,C){for(var S=a.length,O=C?S:-1;(C?O--:++O<S)&&s(a[O],O,a););return p?dn(a,C?0:O,C?O+1:S):dn(a,C?O+1:0,C?S:O)}function Gy(a,s){var p=a;return p instanceof vt&&(p=p.value()),sn(s,function(C,S){return S.func.apply(S.thisArg,Nn([C],S.args))},p)}function c1(a,s,p){var C=a.length;if(C<2)return C?ba(a[0]):[];for(var S=-1,O=ue(C);++S<C;)for(var D=a[S],H=-1;++H<C;)H!=S&&(O[S]=hc(O[S]||D,a[H],s,p));return ba(Ji(O,1),s,p)}function Ly(a,s,p){for(var C=-1,S=a.length,O=s.length,D={};++C<S;){var H=C<O?s[C]:t;p(D,a[C],H)}return D}function d1(a){return fi(a)?a:[]}function p1(a){return typeof a=="function"?a:Wr}function Ca(a,s){return dt(a)?a:y1(a,s)?[a]:l2(Ft(a))}var qX=mt;function va(a,s,p){var C=a.length;return p=p===t?C:p,!s&&p>=C?a:dn(a,s,p)}var Xy=ML||function(a){return yi.clearTimeout(a)};function By(a,s){if(s)return a.slice();var p=a.length,C=iy?iy(p):new a.constructor(p);return a.copy(C),C}function h1(a){var s=new a.constructor(a.byteLength);return new Ip(s).set(new Ip(a)),s}function KX(a,s){var p=s?h1(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function $X(a){var s=new a.constructor(a.source,Yu.exec(a));return s.lastIndex=a.lastIndex,s}function eB(a){return dc?wt(dc.call(a)):{}}function Dy(a,s){var p=s?h1(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function Ty(a,s){if(a!==s){var p=a!==t,C=a===null,S=a===a,O=zr(a),D=s!==t,H=s===null,J=s===s,me=zr(s);if(!H&&!me&&!O&&a>s||O&&D&&J&&!H&&!me||C&&D&&J||!p&&J||!S)return 1;if(!C&&!O&&!me&&a<s||me&&p&&S&&!C&&!O||H&&p&&S||!D&&S||!J)return-1}return 0}function tB(a,s,p){for(var C=-1,S=a.criteria,O=s.criteria,D=S.length,H=p.length;++C<D;){var J=Ty(S[C],O[C]);if(J){if(C>=H)return J;var me=p[C];return J*(me=="desc"?-1:1)}}return a.index-s.index}function My(a,s,p,C){for(var S=-1,O=a.length,D=p.length,H=-1,J=s.length,me=Fi(O-D,0),Ce=ue(J+me),ye=!C;++H<J;)Ce[H]=s[H];for(;++S<D;)(ye||S<O)&&(Ce[p[S]]=a[S]);for(;me--;)Ce[H++]=a[S++];return Ce}function Zy(a,s,p,C){for(var S=-1,O=a.length,D=-1,H=p.length,J=-1,me=s.length,Ce=Fi(O-H,0),ye=ue(Ce+me),Oe=!C;++S<Ce;)ye[S]=a[S];for(var Ue=S;++J<me;)ye[Ue+J]=s[J];for(;++D<H;)(Oe||S<O)&&(ye[Ue+p[D]]=a[S++]);return ye}function Fr(a,s){var p=-1,C=a.length;for(s||(s=ue(C));++p<C;)s[p]=a[p];return s}function ro(a,s,p,C){var S=!p;p||(p={});for(var O=-1,D=s.length;++O<D;){var H=s[O],J=C?C(p[H],a[H],H,p,a):t;J===t&&(J=a[H]),S?Uo(p,H,J):pc(p,H,J)}return p}function iB(a,s){return ro(a,I1(a),s)}function rB(a,s){return ro(a,Ky(a),s)}function Bp(a,s){return function(p,C){var S=dt(p)?Ym:SX,O=s?s():{};return S(p,a,Je(C,2),O)}}function yl(a){return mt(function(s,p){var C=-1,S=p.length,O=S>1?p[S-1]:t,D=S>2?p[2]:t;for(O=a.length>3&&typeof O=="function"?(S--,O):t,D&&Cr(p[0],p[1],D)&&(O=S<3?t:O,S=1),s=wt(s);++C<S;){var H=p[C];H&&a(s,H,C,O)}return s})}function _y(a,s){return function(p,C){if(p==null)return p;if(!Er(p))return a(p,C);for(var S=p.length,O=s?S:-1,D=wt(p);(s?O--:++O<S)&&C(D[O],O,D)!==!1;);return p}}function ky(a){return function(s,p,C){for(var S=-1,O=wt(s),D=C(s),H=D.length;H--;){var J=D[a?H:++S];if(p(O[J],J,O)===!1)break}return s}}function nB(a,s,p){var C=s&x,S=bc(a);function O(){var D=this&&this!==yi&&this instanceof O?S:a;return D.apply(C?p:this,arguments)}return O}function Vy(a){return function(s){s=Ft(s);var p=Ve(s)?Oi(s):t,C=p?p[0]:s.charAt(0),S=p?va(p,1).join(""):s.slice(1);return C[a]()+S}}function Al(a){return function(s){return sn(_2(Z2(s).replace(dp,"")),a,"")}}function bc(a){return function(){var s=arguments;switch(s.length){case 0:return new a;case 1:return new a(s[0]);case 2:return new a(s[0],s[1]);case 3:return new a(s[0],s[1],s[2]);case 4:return new a(s[0],s[1],s[2],s[3]);case 5:return new a(s[0],s[1],s[2],s[3],s[4]);case 6:return new a(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new a(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var p=Il(a.prototype),C=a.apply(p,s);return ii(C)?C:p}}function oB(a,s,p){var C=bc(a);function S(){for(var O=arguments.length,D=ue(O),H=O,J=wl(S);H--;)D[H]=arguments[H];var me=O<3&&D[0]!==J&&D[O-1]!==J?[]:Rt(D,J);if(O-=me.length,O<p)return zy(a,s,Dp,S.placeholder,t,D,me,t,t,p-O);var Ce=this&&this!==yi&&this instanceof S?C:a;return gr(Ce,this,D)}return S}function Uy(a){return function(s,p,C){var S=wt(s);if(!Er(s)){var O=Je(p,3);s=Gi(s),p=function(H){return O(S[H],H,S)}}var D=a(s,p,C);return D>-1?S[O?s[D]:D]:t}}function Hy(a){return Po(function(s){var p=s.length,C=p,S=un.prototype.thru;for(a&&s.reverse();C--;){var O=s[C];if(typeof O!="function")throw new ji(n);if(S&&!D&&_p(O)=="wrapper")var D=new un([],!0)}for(C=D?C:p;++C<p;){O=s[C];var H=_p(O),J=H=="wrapper"?C1(O):t;J&&A1(J[0])&&J[1]==(_|E|k|ne)&&!J[4].length&&J[9]==1?D=D[_p(J[0])].apply(D,J[3]):D=O.length==1&&A1(O)?D[H]():D.thru(O)}return function(){var me=arguments,Ce=me[0];if(D&&me.length==1&&dt(Ce))return D.plant(Ce).value();for(var ye=0,Oe=p?s[ye].apply(this,me):Ce;++ye<p;)Oe=s[ye].call(this,Oe);return Oe}})}function Dp(a,s,p,C,S,O,D,H,J,me){var Ce=s&_,ye=s&x,Oe=s&A,Ue=s&(E|M),$e=s&Z,ft=Oe?t:bc(a);function et(){for(var Ct=arguments.length,It=ue(Ct),Qr=Ct;Qr--;)It[Qr]=arguments[Qr];if(Ue)var vr=wl(et),jr=X(It,vr);if(C&&(It=My(It,C,S,Ue)),O&&(It=Zy(It,O,D,Ue)),Ct-=jr,Ue&&Ct<me){var mi=Rt(It,vr);return zy(a,s,Dp,et.placeholder,p,It,mi,H,J,me-Ct)}var Xn=ye?p:this,jo=Oe?Xn[a]:a;return Ct=It.length,H?It=SB(It,H):$e&&Ct>1&&It.reverse(),Ce&&J<Ct&&(It.length=J),this&&this!==yi&&this instanceof et&&(jo=ft||bc(jo)),jo.apply(Xn,It)}return et}function Py(a,s){return function(p,C){return LX(p,a,s(C),{})}}function Tp(a,s){return function(p,C){var S;if(p===t&&C===t)return s;if(p!==t&&(S=p),C!==t){if(S===t)return C;typeof p=="string"||typeof C=="string"?(p=Yr(p),C=Yr(C)):(p=Wy(p),C=Wy(C)),S=a(p,C)}return S}}function g1(a){return Po(function(s){return s=Vt(s,fr(Je())),mt(function(p){var C=this;return a(s,function(S){return gr(S,C,p)})})})}function Mp(a,s){s=s===t?" ":Yr(s);var p=s.length;if(p<2)return p?s1(s,a):s;var C=s1(s,xp(a/si(s)));return Ve(s)?va(Oi(C),0,a).join(""):C.slice(0,a)}function aB(a,s,p,C){var S=s&x,O=bc(a);function D(){for(var H=-1,J=arguments.length,me=-1,Ce=C.length,ye=ue(Ce+J),Oe=this&&this!==yi&&this instanceof D?O:a;++me<Ce;)ye[me]=C[me];for(;J--;)ye[me++]=arguments[++H];return gr(Oe,S?p:this,ye)}return D}function Yy(a){return function(s,p,C){return C&&typeof C!="number"&&Cr(s,p,C)&&(p=C=t),s=Qo(s),p===t?(p=s,s=0):p=Qo(p),C=C===t?s<p?1:-1:Qo(C),PX(s,p,C,a)}}function Zp(a){return function(s,p){return typeof s=="string"&&typeof p=="string"||(s=hn(s),p=hn(p)),a(s,p)}}function zy(a,s,p,C,S,O,D,H,J,me){var Ce=s&E,ye=Ce?D:t,Oe=Ce?t:D,Ue=Ce?O:t,$e=Ce?t:O;s|=Ce?k:T,s&=~(Ce?T:k),s&F||(s&=~(x|A));var ft=[a,s,S,Ue,ye,$e,Oe,H,J,me],et=p.apply(t,ft);return A1(a)&&o2(et,ft),et.placeholder=C,a2(et,a,s)}function f1(a){var s=qt[a];return function(p,C){if(p=hn(p),C=C==null?0:nr(ht(C),292),C&&ay(p)){var S=(Ft(p)+"e").split("e"),O=s(S[0]+"e"+(+S[1]+C));return S=(Ft(O)+"e").split("e"),+(S[0]+"e"+(+S[1]-C))}return s(p)}}var sB=Cl&&1/Ai(new Cl([,-0]))[1]==K?function(a){return new Cl(a)}:T1;function Qy(a){return function(s){var p=or(s);return p==we?je(s):p==At?mr(s):bp(s,a(s))}}function Ho(a,s,p,C,S,O,D,H){var J=s&A;if(!J&&typeof a!="function")throw new ji(n);var me=C?C.length:0;if(me||(s&=~(k|T),C=S=t),D=D===t?D:Fi(ht(D),0),H=H===t?H:ht(H),me-=S?S.length:0,s&T){var Ce=C,ye=S;C=S=t}var Oe=J?t:C1(a),Ue=[a,s,p,C,S,Ce,ye,O,D,H];if(Oe&&AB(Ue,Oe),a=Ue[0],s=Ue[1],p=Ue[2],C=Ue[3],S=Ue[4],H=Ue[9]=Ue[9]===t?J?0:a.length:Fi(Ue[9]-me,0),!H&&s&(E|M)&&(s&=~(E|M)),!s||s==x)var $e=nB(a,s,p);else s==E||s==M?$e=oB(a,s,H):(s==k||s==(x|k))&&!S.length?$e=aB(a,s,p,C):$e=Dp.apply(t,Ue);var ft=Oe?Ey:o2;return a2(ft($e,Ue),a,s)}function jy(a,s,p,C){return a===t||Ln(a,Rr[p])&&!Gt.call(C,p)?s:a}function Jy(a,s,p,C,S,O){return ii(a)&&ii(s)&&(O.set(s,a),Gp(a,s,t,Jy,O),O.delete(s)),a}function lB(a){return Ic(a)?t:a}function qy(a,s,p,C,S,O){var D=p&b,H=a.length,J=s.length;if(H!=J&&!(D&&J>H))return!1;var me=O.get(a),Ce=O.get(s);if(me&&Ce)return me==s&&Ce==a;var ye=-1,Oe=!0,Ue=p&I?new fs:t;for(O.set(a,s),O.set(s,a);++ye<H;){var $e=a[ye],ft=s[ye];if(C)var et=D?C(ft,$e,ye,s,a,O):C($e,ft,ye,a,s,O);if(et!==t){if(et)continue;Oe=!1;break}if(Ue){if(!as(s,function(Ct,It){if(!gi(Ue,It)&&($e===Ct||S($e,Ct,p,C,O)))return Ue.push(It)})){Oe=!1;break}}else if(!($e===ft||S($e,ft,p,C,O))){Oe=!1;break}}return O.delete(a),O.delete(s),Oe}function uB(a,s,p,C,S,O,D){switch(p){case Sn:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case _r:return!(a.byteLength!=s.byteLength||!O(new Ip(a),new Ip(s)));case Ee:case Be:case lt:return Ln(+a,+s);case at:return a.name==s.name&&a.message==s.message;case kt:case Tt:return a==s+"";case we:var H=je;case At:var J=C&b;if(H||(H=Ai),a.size!=s.size&&!J)return!1;var me=D.get(a);if(me)return me==s;C|=I,D.set(a,s);var Ce=qy(H(a),H(s),C,S,O,D);return D.delete(a),Ce;case it:if(dc)return dc.call(a)==dc.call(s)}return!1}function cB(a,s,p,C,S,O){var D=p&b,H=m1(a),J=H.length,me=m1(s),Ce=me.length;if(J!=Ce&&!D)return!1;for(var ye=J;ye--;){var Oe=H[ye];if(!(D?Oe in s:Gt.call(s,Oe)))return!1}var Ue=O.get(a),$e=O.get(s);if(Ue&&$e)return Ue==s&&$e==a;var ft=!0;O.set(a,s),O.set(s,a);for(var et=D;++ye<J;){Oe=H[ye];var Ct=a[Oe],It=s[Oe];if(C)var Qr=D?C(It,Ct,Oe,s,a,O):C(Ct,It,Oe,a,s,O);if(!(Qr===t?Ct===It||S(Ct,It,p,C,O):Qr)){ft=!1;break}et||(et=Oe=="constructor")}if(ft&&!et){var vr=a.constructor,jr=s.constructor;vr!=jr&&"constructor"in a&&"constructor"in s&&!(typeof vr=="function"&&vr instanceof vr&&typeof jr=="function"&&jr instanceof jr)&&(ft=!1)}return O.delete(a),O.delete(s),ft}function Po(a){return x1(r2(a,t,p2),a+"")}function m1(a){return by(a,Gi,I1)}function b1(a){return by(a,Nr,Ky)}var C1=Rp?function(a){return Rp.get(a)}:T1;function _p(a){for(var s=a.name+"",p=vl[s],C=Gt.call(vl,s)?p.length:0;C--;){var S=p[C],O=S.func;if(O==null||O==a)return S.name}return s}function wl(a){var s=Gt.call(N,"placeholder")?N:a;return s.placeholder}function Je(){var a=N.iteratee||B1;return a=a===B1?Iy:a,arguments.length?a(arguments[0],arguments[1]):a}function kp(a,s){var p=a.__data__;return CB(s)?p[typeof s=="string"?"string":"hash"]:p.map}function v1(a){for(var s=Gi(a),p=s.length;p--;){var C=s[p],S=a[C];s[p]=[C,S,t2(S)]}return s}function Cs(a,s){var p=Le(a,s);return vy(p)?p:t}function dB(a){var s=Gt.call(a,hs),p=a[hs];try{a[hs]=t;var C=!0}catch{}var S=Cp.call(a);return C&&(s?a[hs]=p:delete a[hs]),S}var I1=zm?function(a){return a==null?[]:(a=wt(a),En(zm(a),function(s){return ny.call(a,s)}))}:M1,Ky=zm?function(a){for(var s=[];a;)Nn(s,I1(a)),a=yp(a);return s}:M1,or=br;(Qm&&or(new Qm(new ArrayBuffer(1)))!=Sn||lc&&or(new lc)!=we||jm&&or(jm.resolve())!=Ye||Cl&&or(new Cl)!=At||uc&&or(new uc)!=jt)&&(or=function(a){var s=br(a),p=s==He?a.constructor:t,C=p?vs(p):"";if(C)switch(C){case zL:return Sn;case QL:return we;case jL:return Ye;case JL:return At;case qL:return jt}return s});function pB(a,s,p){for(var C=-1,S=p.length;++C<S;){var O=p[C],D=O.size;switch(O.type){case"drop":a+=D;break;case"dropRight":s-=D;break;case"take":s=nr(s,a+D);break;case"takeRight":a=Fi(a,s-D);break}}return{start:a,end:s}}function hB(a){var s=a.match(Oo);return s?s[1].split(Ja):[]}function $y(a,s,p){s=Ca(s,a);for(var C=-1,S=s.length,O=!1;++C<S;){var D=no(s[C]);if(!(O=a!=null&&p(a,D)))break;a=a[D]}return O||++C!=S?O:(S=a==null?0:a.length,!!S&&Qp(S)&&Yo(D,S)&&(dt(a)||Is(a)))}function gB(a){var s=a.length,p=new a.constructor(s);return s&&typeof a[0]=="string"&&Gt.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function e2(a){return typeof a.constructor=="function"&&!Cc(a)?Il(yp(a)):{}}function fB(a,s,p){var C=a.constructor;switch(s){case _r:return h1(a);case Ee:case Be:return new C(+a);case Sn:return KX(a,p);case aa:case No:case Ii:case gt:case wr:case ur:case tl:case ai:case Wo:return Dy(a,p);case we:return new C;case lt:case Tt:return new C(a);case kt:return $X(a);case At:return new C;case it:return eB(a)}}function mB(a,s){var p=s.length;if(!p)return a;var C=p-1;return s[C]=(p>1?"& ":"")+s[C],s=s.join(p>2?", ":" "),a.replace(cr,`{
/* [wrapped with `+s+`] */
`)}function bB(a){return dt(a)||Is(a)||!!(oy&&a&&a[oy])}function Yo(a,s){var p=typeof a;return s=s??te,!!s&&(p=="number"||p!="symbol"&&Go.test(a))&&a>-1&&a%1==0&&a<s}function Cr(a,s,p){if(!ii(p))return!1;var C=typeof s;return(C=="number"?Er(p)&&Yo(s,p.length):C=="string"&&s in p)?Ln(p[s],a):!1}function y1(a,s){if(dt(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||zr(a)?!0:ip.test(a)||!tp.test(a)||s!=null&&a in wt(s)}function CB(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function A1(a){var s=_p(a),p=N[s];if(typeof p!="function"||!(s in vt.prototype))return!1;if(a===p)return!0;var C=C1(p);return!!C&&a===C[0]}function vB(a){return!!ty&&ty in a}var IB=ps?zo:Z1;function Cc(a){var s=a&&a.constructor,p=typeof s=="function"&&s.prototype||Rr;return a===p}function t2(a){return a===a&&!ii(a)}function i2(a,s){return function(p){return p==null?!1:p[a]===s&&(s!==t||a in wt(p))}}function yB(a){var s=Yp(a,function(C){return p.size===u&&p.clear(),C}),p=s.cache;return s}function AB(a,s){var p=a[1],C=s[1],S=p|C,O=S<(x|A|_),D=C==_&&p==E||C==_&&p==ne&&a[7].length<=s[8]||C==(_|ne)&&s[7].length<=s[8]&&p==E;if(!(O||D))return a;C&x&&(a[2]=s[2],S|=p&x?0:F);var H=s[3];if(H){var J=a[3];a[3]=J?My(J,H,s[4]):H,a[4]=J?Rt(a[3],c):s[4]}return H=s[5],H&&(J=a[5],a[5]=J?Zy(J,H,s[6]):H,a[6]=J?Rt(a[5],c):s[6]),H=s[7],H&&(a[7]=H),C&_&&(a[8]=a[8]==null?s[8]:nr(a[8],s[8])),a[9]==null&&(a[9]=s[9]),a[0]=s[0],a[1]=S,a}function wB(a){var s=[];if(a!=null)for(var p in wt(a))s.push(p);return s}function xB(a){return Cp.call(a)}function r2(a,s,p){return s=Fi(s===t?a.length-1:s,0),function(){for(var C=arguments,S=-1,O=Fi(C.length-s,0),D=ue(O);++S<O;)D[S]=C[s+S];S=-1;for(var H=ue(s+1);++S<s;)H[S]=C[S];return H[s]=p(D),gr(a,this,H)}}function n2(a,s){return s.length<2?a:bs(a,dn(s,0,-1))}function SB(a,s){for(var p=a.length,C=nr(s.length,p),S=Fr(a);C--;){var O=s[C];a[C]=Yo(O,p)?S[O]:t}return a}function w1(a,s){if(!(s==="constructor"&&typeof a[s]=="function")&&s!="__proto__")return a[s]}var o2=s2(Ey),vc=_L||function(a,s){return yi.setTimeout(a,s)},x1=s2(QX);function a2(a,s,p){var C=s+"";return x1(a,mB(C,RB(hB(C),p)))}function s2(a){var s=0,p=0;return function(){var C=HL(),S=$-(C-p);if(p=C,S>0){if(++s>=de)return arguments[0]}else s=0;return a.apply(t,arguments)}}function Vp(a,s){var p=-1,C=a.length,S=C-1;for(s=s===t?C:s;++p<s;){var O=a1(p,S),D=a[O];a[O]=a[p],a[p]=D}return a.length=s,a}var l2=yB(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(rp,function(p,C,S,O){s.push(S?O.replace(la,"$1"):C||p)}),s});function no(a){if(typeof a=="string"||zr(a))return a;var s=a+"";return s=="0"&&1/a==-K?"-0":s}function vs(a){if(a!=null){try{return bl.call(a)}catch{}try{return a+""}catch{}}return""}function RB(a,s){return xr(ce,function(p){var C="_."+p[0];s&p[1]&&!os(a,C)&&a.push(C)}),a.sort()}function u2(a){if(a instanceof vt)return a.clone();var s=new un(a.__wrapped__,a.__chain__);return s.__actions__=Fr(a.__actions__),s.__index__=a.__index__,s.__values__=a.__values__,s}function FB(a,s,p){(p?Cr(a,s,p):s===t)?s=1:s=Fi(ht(s),0);var C=a==null?0:a.length;if(!C||s<1)return[];for(var S=0,O=0,D=ue(xp(C/s));S<C;)D[O++]=dn(a,S,S+=s);return D}function EB(a){for(var s=-1,p=a==null?0:a.length,C=0,S=[];++s<p;){var O=a[s];O&&(S[C++]=O)}return S}function NB(){var a=arguments.length;if(!a)return[];for(var s=ue(a-1),p=arguments[0],C=a;C--;)s[C-1]=arguments[C];return Nn(dt(p)?Fr(p):[p],Ji(s,1))}var WB=mt(function(a,s){return fi(a)?hc(a,Ji(s,1,fi,!0)):[]}),OB=mt(function(a,s){var p=pn(s);return fi(p)&&(p=t),fi(a)?hc(a,Ji(s,1,fi,!0),Je(p,2)):[]}),GB=mt(function(a,s){var p=pn(s);return fi(p)&&(p=t),fi(a)?hc(a,Ji(s,1,fi,!0),t,p):[]});function LB(a,s,p){var C=a==null?0:a.length;return C?(s=p||s===t?1:ht(s),dn(a,s<0?0:s,C)):[]}function XB(a,s,p){var C=a==null?0:a.length;return C?(s=p||s===t?1:ht(s),s=C-s,dn(a,0,s<0?0:s)):[]}function BB(a,s){return a&&a.length?Xp(a,Je(s,3),!0,!0):[]}function DB(a,s){return a&&a.length?Xp(a,Je(s,3),!0):[]}function TB(a,s,p,C){var S=a==null?0:a.length;return S?(p&&typeof p!="number"&&Cr(a,s,p)&&(p=0,C=S),NX(a,s,p,C)):[]}function c2(a,s,p){var C=a==null?0:a.length;if(!C)return-1;var S=p==null?0:ht(p);return S<0&&(S=Fi(C+S,0)),pa(a,Je(s,3),S)}function d2(a,s,p){var C=a==null?0:a.length;if(!C)return-1;var S=C-1;return p!==t&&(S=ht(p),S=p<0?Fi(C+S,0):nr(S,C-1)),pa(a,Je(s,3),S,!0)}function p2(a){var s=a==null?0:a.length;return s?Ji(a,1):[]}function MB(a){var s=a==null?0:a.length;return s?Ji(a,K):[]}function ZB(a,s){var p=a==null?0:a.length;return p?(s=s===t?1:ht(s),Ji(a,s)):[]}function _B(a){for(var s=-1,p=a==null?0:a.length,C={};++s<p;){var S=a[s];C[S[0]]=S[1]}return C}function h2(a){return a&&a.length?a[0]:t}function kB(a,s,p){var C=a==null?0:a.length;if(!C)return-1;var S=p==null?0:ht(p);return S<0&&(S=Fi(C+S,0)),Ur(a,s,S)}function VB(a){var s=a==null?0:a.length;return s?dn(a,0,-1):[]}var UB=mt(function(a){var s=Vt(a,d1);return s.length&&s[0]===a[0]?t1(s):[]}),HB=mt(function(a){var s=pn(a),p=Vt(a,d1);return s===pn(p)?s=t:p.pop(),p.length&&p[0]===a[0]?t1(p,Je(s,2)):[]}),PB=mt(function(a){var s=pn(a),p=Vt(a,d1);return s=typeof s=="function"?s:t,s&&p.pop(),p.length&&p[0]===a[0]?t1(p,t,s):[]});function YB(a,s){return a==null?"":VL.call(a,s)}function pn(a){var s=a==null?0:a.length;return s?a[s-1]:t}function zB(a,s,p){var C=a==null?0:a.length;if(!C)return-1;var S=C;return p!==t&&(S=ht(p),S=S<0?Fi(C+S,0):nr(S,C-1)),s===s?Jt(a,s,S):pa(a,Mo,S,!0)}function QB(a,s){return a&&a.length?xy(a,ht(s)):t}var jB=mt(g2);function g2(a,s){return a&&a.length&&s&&s.length?o1(a,s):a}function JB(a,s,p){return a&&a.length&&s&&s.length?o1(a,s,Je(p,2)):a}function qB(a,s,p){return a&&a.length&&s&&s.length?o1(a,s,t,p):a}var KB=Po(function(a,s){var p=a==null?0:a.length,C=qm(a,s);return Fy(a,Vt(s,function(S){return Yo(S,p)?+S:S}).sort(Ty)),C});function $B(a,s){var p=[];if(!(a&&a.length))return p;var C=-1,S=[],O=a.length;for(s=Je(s,3);++C<O;){var D=a[C];s(D,C,a)&&(p.push(D),S.push(C))}return Fy(a,S),p}function S1(a){return a==null?a:YL.call(a)}function eD(a,s,p){var C=a==null?0:a.length;return C?(p&&typeof p!="number"&&Cr(a,s,p)?(s=0,p=C):(s=s==null?0:ht(s),p=p===t?C:ht(p)),dn(a,s,p)):[]}function tD(a,s){return Lp(a,s)}function iD(a,s,p){return l1(a,s,Je(p,2))}function rD(a,s){var p=a==null?0:a.length;if(p){var C=Lp(a,s);if(C<p&&Ln(a[C],s))return C}return-1}function nD(a,s){return Lp(a,s,!0)}function oD(a,s,p){return l1(a,s,Je(p,2),!0)}function aD(a,s){var p=a==null?0:a.length;if(p){var C=Lp(a,s,!0)-1;if(Ln(a[C],s))return C}return-1}function sD(a){return a&&a.length?Ny(a):[]}function lD(a,s){return a&&a.length?Ny(a,Je(s,2)):[]}function uD(a){var s=a==null?0:a.length;return s?dn(a,1,s):[]}function cD(a,s,p){return a&&a.length?(s=p||s===t?1:ht(s),dn(a,0,s<0?0:s)):[]}function dD(a,s,p){var C=a==null?0:a.length;return C?(s=p||s===t?1:ht(s),s=C-s,dn(a,s<0?0:s,C)):[]}function pD(a,s){return a&&a.length?Xp(a,Je(s,3),!1,!0):[]}function hD(a,s){return a&&a.length?Xp(a,Je(s,3)):[]}var gD=mt(function(a){return ba(Ji(a,1,fi,!0))}),fD=mt(function(a){var s=pn(a);return fi(s)&&(s=t),ba(Ji(a,1,fi,!0),Je(s,2))}),mD=mt(function(a){var s=pn(a);return s=typeof s=="function"?s:t,ba(Ji(a,1,fi,!0),t,s)});function bD(a){return a&&a.length?ba(a):[]}function CD(a,s){return a&&a.length?ba(a,Je(s,2)):[]}function vD(a,s){return s=typeof s=="function"?s:t,a&&a.length?ba(a,t,s):[]}function R1(a){if(!(a&&a.length))return[];var s=0;return a=En(a,function(p){if(fi(p))return s=Fi(p.length,s),!0}),us(s,function(p){return Vt(a,ls(p))})}function f2(a,s){if(!(a&&a.length))return[];var p=R1(a);return s==null?p:Vt(p,function(C){return gr(s,t,C)})}var ID=mt(function(a,s){return fi(a)?hc(a,s):[]}),yD=mt(function(a){return c1(En(a,fi))}),AD=mt(function(a){var s=pn(a);return fi(s)&&(s=t),c1(En(a,fi),Je(s,2))}),wD=mt(function(a){var s=pn(a);return s=typeof s=="function"?s:t,c1(En(a,fi),t,s)}),xD=mt(R1);function SD(a,s){return Ly(a||[],s||[],pc)}function RD(a,s){return Ly(a||[],s||[],mc)}var FD=mt(function(a){var s=a.length,p=s>1?a[s-1]:t;return p=typeof p=="function"?(a.pop(),p):t,f2(a,p)});function m2(a){var s=N(a);return s.__chain__=!0,s}function ED(a,s){return s(a),a}function Up(a,s){return s(a)}var ND=Po(function(a){var s=a.length,p=s?a[0]:0,C=this.__wrapped__,S=function(O){return qm(O,a)};return s>1||this.__actions__.length||!(C instanceof vt)||!Yo(p)?this.thru(S):(C=C.slice(p,+p+(s?1:0)),C.__actions__.push({func:Up,args:[S],thisArg:t}),new un(C,this.__chain__).thru(function(O){return s&&!O.length&&O.push(t),O}))});function WD(){return m2(this)}function OD(){return new un(this.value(),this.__chain__)}function GD(){this.__values__===t&&(this.__values__=W2(this.value()));var a=this.__index__>=this.__values__.length,s=a?t:this.__values__[this.__index__++];return{done:a,value:s}}function LD(){return this}function XD(a){for(var s,p=this;p instanceof Ep;){var C=u2(p);C.__index__=0,C.__values__=t,s?S.__wrapped__=C:s=C;var S=C;p=p.__wrapped__}return S.__wrapped__=a,s}function BD(){var a=this.__wrapped__;if(a instanceof vt){var s=a;return this.__actions__.length&&(s=new vt(this)),s=s.reverse(),s.__actions__.push({func:Up,args:[S1],thisArg:t}),new un(s,this.__chain__)}return this.thru(S1)}function DD(){return Gy(this.__wrapped__,this.__actions__)}var TD=Bp(function(a,s,p){Gt.call(a,p)?++a[p]:Uo(a,p,1)});function MD(a,s,p){var C=dt(a)?ns:EX;return p&&Cr(a,s,p)&&(s=t),C(a,Je(s,3))}function ZD(a,s){var p=dt(a)?En:fy;return p(a,Je(s,3))}var _D=Uy(c2),kD=Uy(d2);function VD(a,s){return Ji(Hp(a,s),1)}function UD(a,s){return Ji(Hp(a,s),K)}function HD(a,s,p){return p=p===t?1:ht(p),Ji(Hp(a,s),p)}function b2(a,s){var p=dt(a)?xr:ma;return p(a,Je(s,3))}function C2(a,s){var p=dt(a)?rs:gy;return p(a,Je(s,3))}var PD=Bp(function(a,s,p){Gt.call(a,p)?a[p].push(s):Uo(a,p,[s])});function YD(a,s,p,C){a=Er(a)?a:Sl(a),p=p&&!C?ht(p):0;var S=a.length;return p<0&&(p=Fi(S+p,0)),jp(a)?p<=S&&a.indexOf(s,p)>-1:!!S&&Ur(a,s,p)>-1}var zD=mt(function(a,s,p){var C=-1,S=typeof s=="function",O=Er(a)?ue(a.length):[];return ma(a,function(D){O[++C]=S?gr(s,D,p):gc(D,s,p)}),O}),QD=Bp(function(a,s,p){Uo(a,p,s)});function Hp(a,s){var p=dt(a)?Vt:yy;return p(a,Je(s,3))}function jD(a,s,p,C){return a==null?[]:(dt(s)||(s=s==null?[]:[s]),p=C?t:p,dt(p)||(p=p==null?[]:[p]),Sy(a,s,p))}var JD=Bp(function(a,s,p){a[p?0:1].push(s)},function(){return[[],[]]});function qD(a,s,p){var C=dt(a)?sn:gl,S=arguments.length<3;return C(a,Je(s,4),p,S,ma)}function KD(a,s,p){var C=dt(a)?rc:gl,S=arguments.length<3;return C(a,Je(s,4),p,S,gy)}function $D(a,s){var p=dt(a)?En:fy;return p(a,zp(Je(s,3)))}function eT(a){var s=dt(a)?cy:YX;return s(a)}function tT(a,s,p){(p?Cr(a,s,p):s===t)?s=1:s=ht(s);var C=dt(a)?wX:zX;return C(a,s)}function iT(a){var s=dt(a)?xX:jX;return s(a)}function rT(a){if(a==null)return 0;if(Er(a))return jp(a)?si(a):a.length;var s=or(a);return s==we||s==At?a.size:r1(a).length}function nT(a,s,p){var C=dt(a)?as:JX;return p&&Cr(a,s,p)&&(s=t),C(a,Je(s,3))}var oT=mt(function(a,s){if(a==null)return[];var p=s.length;return p>1&&Cr(a,s[0],s[1])?s=[]:p>2&&Cr(s[0],s[1],s[2])&&(s=[s[0]]),Sy(a,Ji(s,1),[])}),Pp=ZL||function(){return yi.Date.now()};function aT(a,s){if(typeof s!="function")throw new ji(n);return a=ht(a),function(){if(--a<1)return s.apply(this,arguments)}}function v2(a,s,p){return s=p?t:s,s=a&&s==null?a.length:s,Ho(a,_,t,t,t,t,s)}function I2(a,s){var p;if(typeof s!="function")throw new ji(n);return a=ht(a),function(){return--a>0&&(p=s.apply(this,arguments)),a<=1&&(s=t),p}}var F1=mt(function(a,s,p){var C=x;if(p.length){var S=Rt(p,wl(F1));C|=k}return Ho(a,C,s,p,S)}),y2=mt(function(a,s,p){var C=x|A;if(p.length){var S=Rt(p,wl(y2));C|=k}return Ho(s,C,a,p,S)});function A2(a,s,p){s=p?t:s;var C=Ho(a,E,t,t,t,t,t,s);return C.placeholder=A2.placeholder,C}function w2(a,s,p){s=p?t:s;var C=Ho(a,M,t,t,t,t,t,s);return C.placeholder=w2.placeholder,C}function x2(a,s,p){var C,S,O,D,H,J,me=0,Ce=!1,ye=!1,Oe=!0;if(typeof a!="function")throw new ji(n);s=hn(s)||0,ii(p)&&(Ce=!!p.leading,ye="maxWait"in p,O=ye?Fi(hn(p.maxWait)||0,s):O,Oe="trailing"in p?!!p.trailing:Oe);function Ue(mi){var Xn=C,jo=S;return C=S=t,me=mi,D=a.apply(jo,Xn),D}function $e(mi){return me=mi,H=vc(Ct,s),Ce?Ue(mi):D}function ft(mi){var Xn=mi-J,jo=mi-me,U2=s-Xn;return ye?nr(U2,O-jo):U2}function et(mi){var Xn=mi-J,jo=mi-me;return J===t||Xn>=s||Xn<0||ye&&jo>=O}function Ct(){var mi=Pp();if(et(mi))return It(mi);H=vc(Ct,ft(mi))}function It(mi){return H=t,Oe&&C?Ue(mi):(C=S=t,D)}function Qr(){H!==t&&Xy(H),me=0,C=J=S=H=t}function vr(){return H===t?D:It(Pp())}function jr(){var mi=Pp(),Xn=et(mi);if(C=arguments,S=this,J=mi,Xn){if(H===t)return $e(J);if(ye)return Xy(H),H=vc(Ct,s),Ue(J)}return H===t&&(H=vc(Ct,s)),D}return jr.cancel=Qr,jr.flush=vr,jr}var sT=mt(function(a,s){return hy(a,1,s)}),lT=mt(function(a,s,p){return hy(a,hn(s)||0,p)});function uT(a){return Ho(a,Z)}function Yp(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new ji(n);var p=function(){var C=arguments,S=s?s.apply(this,C):C[0],O=p.cache;if(O.has(S))return O.get(S);var D=a.apply(this,C);return p.cache=O.set(S,D)||O,D};return p.cache=new(Yp.Cache||Vo),p}Yp.Cache=Vo;function zp(a){if(typeof a!="function")throw new ji(n);return function(){var s=arguments;switch(s.length){case 0:return!a.call(this);case 1:return!a.call(this,s[0]);case 2:return!a.call(this,s[0],s[1]);case 3:return!a.call(this,s[0],s[1],s[2])}return!a.apply(this,s)}}function cT(a){return I2(2,a)}var dT=qX(function(a,s){s=s.length==1&&dt(s[0])?Vt(s[0],fr(Je())):Vt(Ji(s,1),fr(Je()));var p=s.length;return mt(function(C){for(var S=-1,O=nr(C.length,p);++S<O;)C[S]=s[S].call(this,C[S]);return gr(a,this,C)})}),E1=mt(function(a,s){var p=Rt(s,wl(E1));return Ho(a,k,t,s,p)}),S2=mt(function(a,s){var p=Rt(s,wl(S2));return Ho(a,T,t,s,p)}),pT=Po(function(a,s){return Ho(a,ne,t,t,t,s)});function hT(a,s){if(typeof a!="function")throw new ji(n);return s=s===t?s:ht(s),mt(a,s)}function gT(a,s){if(typeof a!="function")throw new ji(n);return s=s==null?0:Fi(ht(s),0),mt(function(p){var C=p[s],S=va(p,0,s);return C&&Nn(S,C),gr(a,this,S)})}function fT(a,s,p){var C=!0,S=!0;if(typeof a!="function")throw new ji(n);return ii(p)&&(C="leading"in p?!!p.leading:C,S="trailing"in p?!!p.trailing:S),x2(a,s,{leading:C,maxWait:s,trailing:S})}function mT(a){return v2(a,1)}function bT(a,s){return E1(p1(s),a)}function CT(){if(!arguments.length)return[];var a=arguments[0];return dt(a)?a:[a]}function vT(a){return cn(a,m)}function IT(a,s){return s=typeof s=="function"?s:t,cn(a,m,s)}function yT(a){return cn(a,d|m)}function AT(a,s){return s=typeof s=="function"?s:t,cn(a,d|m,s)}function wT(a,s){return s==null||py(a,s,Gi(s))}function Ln(a,s){return a===s||a!==a&&s!==s}var xT=Zp(e1),ST=Zp(function(a,s){return a>=s}),Is=Cy(function(){return arguments}())?Cy:function(a){return li(a)&&Gt.call(a,"callee")&&!ny.call(a,"callee")},dt=ue.isArray,RT=to?fr(to):XX;function Er(a){return a!=null&&Qp(a.length)&&!zo(a)}function fi(a){return li(a)&&Er(a)}function FT(a){return a===!0||a===!1||li(a)&&br(a)==Ee}var Ia=kL||Z1,ET=pl?fr(pl):BX;function NT(a){return li(a)&&a.nodeType===1&&!Ic(a)}function WT(a){if(a==null)return!0;if(Er(a)&&(dt(a)||typeof a=="string"||typeof a.splice=="function"||Ia(a)||xl(a)||Is(a)))return!a.length;var s=or(a);if(s==we||s==At)return!a.size;if(Cc(a))return!r1(a).length;for(var p in a)if(Gt.call(a,p))return!1;return!0}function OT(a,s){return fc(a,s)}function GT(a,s,p){p=typeof p=="function"?p:t;var C=p?p(a,s):t;return C===t?fc(a,s,t,p):!!C}function N1(a){if(!li(a))return!1;var s=br(a);return s==at||s==ke||typeof a.message=="string"&&typeof a.name=="string"&&!Ic(a)}function LT(a){return typeof a=="number"&&ay(a)}function zo(a){if(!ii(a))return!1;var s=br(a);return s==Pe||s==nt||s==We||s==Pt}function R2(a){return typeof a=="number"&&a==ht(a)}function Qp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=te}function ii(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}function li(a){return a!=null&&typeof a=="object"}var F2=da?fr(da):TX;function XT(a,s){return a===s||i1(a,s,v1(s))}function BT(a,s,p){return p=typeof p=="function"?p:t,i1(a,s,v1(s),p)}function DT(a){return E2(a)&&a!=+a}function TT(a){if(IB(a))throw new Ke(r);return vy(a)}function MT(a){return a===null}function ZT(a){return a==null}function E2(a){return typeof a=="number"||li(a)&&br(a)==lt}function Ic(a){if(!li(a)||br(a)!=He)return!1;var s=yp(a);if(s===null)return!0;var p=Gt.call(s,"constructor")&&s.constructor;return typeof p=="function"&&p instanceof p&&bl.call(p)==BL}var W1=mp?fr(mp):MX;function _T(a){return R2(a)&&a>=-te&&a<=te}var N2=on?fr(on):ZX;function jp(a){return typeof a=="string"||!dt(a)&&li(a)&&br(a)==Tt}function zr(a){return typeof a=="symbol"||li(a)&&br(a)==it}var xl=ir?fr(ir):_X;function kT(a){return a===t}function VT(a){return li(a)&&or(a)==jt}function UT(a){return li(a)&&br(a)==Eo}var HT=Zp(n1),PT=Zp(function(a,s){return a<=s});function W2(a){if(!a)return[];if(Er(a))return jp(a)?Oi(a):Fr(a);if(sc&&a[sc])return st(a[sc]());var s=or(a),p=s==we?je:s==At?Ai:Sl;return p(a)}function Qo(a){if(!a)return a===0?a:0;if(a=hn(a),a===K||a===-K){var s=a<0?-1:1;return s*se}return a===a?a:0}function ht(a){var s=Qo(a),p=s%1;return s===s?p?s-p:s:0}function O2(a){return a?ms(ht(a),0,V):0}function hn(a){if(typeof a=="number")return a;if(zr(a))return z;if(ii(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=ii(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=cs(a);var p=op.test(a);return p||er.test(a)?Hm(a.slice(2),p?2:8):zu.test(a)?z:+a}function G2(a){return ro(a,Nr(a))}function zT(a){return a?ms(ht(a),-te,te):a===0?a:0}function Ft(a){return a==null?"":Yr(a)}var QT=yl(function(a,s){if(Cc(s)||Er(s)){ro(s,Gi(s),a);return}for(var p in s)Gt.call(s,p)&&pc(a,p,s[p])}),L2=yl(function(a,s){ro(s,Nr(s),a)}),Jp=yl(function(a,s,p,C){ro(s,Nr(s),a,C)}),jT=yl(function(a,s,p,C){ro(s,Gi(s),a,C)}),JT=Po(qm);function qT(a,s){var p=Il(a);return s==null?p:dy(p,s)}var KT=mt(function(a,s){a=wt(a);var p=-1,C=s.length,S=C>2?s[2]:t;for(S&&Cr(s[0],s[1],S)&&(C=1);++p<C;)for(var O=s[p],D=Nr(O),H=-1,J=D.length;++H<J;){var me=D[H],Ce=a[me];(Ce===t||Ln(Ce,Rr[me])&&!Gt.call(a,me))&&(a[me]=O[me])}return a}),$T=mt(function(a){return a.push(t,Jy),gr(X2,t,a)});function eM(a,s){return zi(a,Je(s,3),io)}function tM(a,s){return zi(a,Je(s,3),$m)}function iM(a,s){return a==null?a:Km(a,Je(s,3),Nr)}function rM(a,s){return a==null?a:my(a,Je(s,3),Nr)}function nM(a,s){return a&&io(a,Je(s,3))}function oM(a,s){return a&&$m(a,Je(s,3))}function aM(a){return a==null?[]:Op(a,Gi(a))}function sM(a){return a==null?[]:Op(a,Nr(a))}function O1(a,s,p){var C=a==null?t:bs(a,s);return C===t?p:C}function lM(a,s){return a!=null&&$y(a,s,WX)}function G1(a,s){return a!=null&&$y(a,s,OX)}var uM=Py(function(a,s,p){s!=null&&typeof s.toString!="function"&&(s=Cp.call(s)),a[s]=p},X1(Wr)),cM=Py(function(a,s,p){s!=null&&typeof s.toString!="function"&&(s=Cp.call(s)),Gt.call(a,s)?a[s].push(p):a[s]=[p]},Je),dM=mt(gc);function Gi(a){return Er(a)?uy(a):r1(a)}function Nr(a){return Er(a)?uy(a,!0):kX(a)}function pM(a,s){var p={};return s=Je(s,3),io(a,function(C,S,O){Uo(p,s(C,S,O),C)}),p}function hM(a,s){var p={};return s=Je(s,3),io(a,function(C,S,O){Uo(p,S,s(C,S,O))}),p}var gM=yl(function(a,s,p){Gp(a,s,p)}),X2=yl(function(a,s,p,C){Gp(a,s,p,C)}),fM=Po(function(a,s){var p={};if(a==null)return p;var C=!1;s=Vt(s,function(O){return O=Ca(O,a),C||(C=O.length>1),O}),ro(a,b1(a),p),C&&(p=cn(p,d|g|m,lB));for(var S=s.length;S--;)u1(p,s[S]);return p});function mM(a,s){return B2(a,zp(Je(s)))}var bM=Po(function(a,s){return a==null?{}:UX(a,s)});function B2(a,s){if(a==null)return{};var p=Vt(b1(a),function(C){return[C]});return s=Je(s),Ry(a,p,function(C,S){return s(C,S[0])})}function CM(a,s,p){s=Ca(s,a);var C=-1,S=s.length;for(S||(S=1,a=t);++C<S;){var O=a==null?t:a[no(s[C])];O===t&&(C=S,O=p),a=zo(O)?O.call(a):O}return a}function vM(a,s,p){return a==null?a:mc(a,s,p)}function IM(a,s,p,C){return C=typeof C=="function"?C:t,a==null?a:mc(a,s,p,C)}var D2=Qy(Gi),T2=Qy(Nr);function yM(a,s,p){var C=dt(a),S=C||Ia(a)||xl(a);if(s=Je(s,4),p==null){var O=a&&a.constructor;S?p=C?new O:[]:ii(a)?p=zo(O)?Il(yp(a)):{}:p={}}return(S?xr:io)(a,function(D,H,J){return s(p,D,H,J)}),p}function AM(a,s){return a==null?!0:u1(a,s)}function wM(a,s,p){return a==null?a:Oy(a,s,p1(p))}function xM(a,s,p,C){return C=typeof C=="function"?C:t,a==null?a:Oy(a,s,p1(p),C)}function Sl(a){return a==null?[]:Sr(a,Gi(a))}function SM(a){return a==null?[]:Sr(a,Nr(a))}function RM(a,s,p){return p===t&&(p=s,s=t),p!==t&&(p=hn(p),p=p===p?p:0),s!==t&&(s=hn(s),s=s===s?s:0),ms(hn(a),s,p)}function FM(a,s,p){return s=Qo(s),p===t?(p=s,s=0):p=Qo(p),a=hn(a),GX(a,s,p)}function EM(a,s,p){if(p&&typeof p!="boolean"&&Cr(a,s,p)&&(s=p=t),p===t&&(typeof s=="boolean"?(p=s,s=t):typeof a=="boolean"&&(p=a,a=t)),a===t&&s===t?(a=0,s=1):(a=Qo(a),s===t?(s=a,a=0):s=Qo(s)),a>s){var C=a;a=s,s=C}if(p||a%1||s%1){var S=sy();return nr(a+S*(s-a+Um("1e-"+((S+"").length-1))),s)}return a1(a,s)}var NM=Al(function(a,s,p){return s=s.toLowerCase(),a+(p?M2(s):s)});function M2(a){return L1(Ft(a).toLowerCase())}function Z2(a){return a=Ft(a),a&&a.replace(tr,G).replace(pp,"")}function WM(a,s,p){a=Ft(a),s=Yr(s);var C=a.length;p=p===t?C:ms(ht(p),0,C);var S=p;return p-=s.length,p>=0&&a.slice(p,S)==s}function OM(a){return a=Ft(a),a&&Vu.test(a)?a.replace(_u,ae):a}function GM(a){return a=Ft(a),a&&Dm.test(a)?a.replace(Uu,"\\$&"):a}var LM=Al(function(a,s,p){return a+(p?"-":"")+s.toLowerCase()}),XM=Al(function(a,s,p){return a+(p?" ":"")+s.toLowerCase()}),BM=Vy("toLowerCase");function DM(a,s,p){a=Ft(a),s=ht(s);var C=s?si(a):0;if(!s||C>=s)return a;var S=(s-C)/2;return Mp(Sp(S),p)+a+Mp(xp(S),p)}function TM(a,s,p){a=Ft(a),s=ht(s);var C=s?si(a):0;return s&&C<s?a+Mp(s-C,p):a}function MM(a,s,p){a=Ft(a),s=ht(s);var C=s?si(a):0;return s&&C<s?Mp(s-C,p)+a:a}function ZM(a,s,p){return p||s==null?s=0:s&&(s=+s),PL(Ft(a).replace(Hu,""),s||0)}function _M(a,s,p){return(p?Cr(a,s,p):s===t)?s=1:s=ht(s),s1(Ft(a),s)}function kM(){var a=arguments,s=Ft(a[0]);return a.length<3?s:s.replace(a[1],a[2])}var VM=Al(function(a,s,p){return a+(p?"_":"")+s.toLowerCase()});function UM(a,s,p){return p&&typeof p!="number"&&Cr(a,s,p)&&(s=p=t),p=p===t?V:p>>>0,p?(a=Ft(a),a&&(typeof s=="string"||s!=null&&!W1(s))&&(s=Yr(s),!s&&Ve(a))?va(Oi(a),0,p):a.split(s,p)):[]}var HM=Al(function(a,s,p){return a+(p?" ":"")+L1(s)});function PM(a,s,p){return a=Ft(a),p=p==null?0:ms(ht(p),0,a.length),s=Yr(s),a.slice(p,p+s.length)==s}function YM(a,s,p){var C=N.templateSettings;p&&Cr(a,s,p)&&(s=t),a=Ft(a),s=Jp({},s,C,jy);var S=Jp({},s.imports,C.imports,jy),O=Gi(S),D=Sr(S,O),H,J,me=0,Ce=s.interpolate||hi,ye="__p += '",Oe=_o((s.escape||hi).source+"|"+Ce.source+"|"+(Ce===rl?Tm:hi).source+"|"+(s.evaluate||hi).source+"|$","g"),Ue="//# sourceURL="+(Gt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dl+"]")+`
`;a.replace(Oe,function(et,Ct,It,Qr,vr,jr){return It||(It=Qr),ye+=a.slice(me,jr).replace(Lo,Ae),Ct&&(H=!0,ye+=`' +
__e(`+Ct+`) +
'`),vr&&(J=!0,ye+=`';
`+vr+`;
__p += '`),It&&(ye+=`' +
((__t = (`+It+`)) == null ? '' : __t) +
'`),me=jr+et.length,et}),ye+=`';
`;var $e=Gt.call(s,"variable")&&s.variable;if(!$e)ye=`with (obj) {
`+ye+`
}
`;else if(qa.test($e))throw new Ke(o);ye=(J?ye.replace(sa,""):ye).replace(il,"$1").replace(Zu,"$1;"),ye="function("+($e||"obj")+`) {
`+($e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var ft=k2(function(){return bt(O,Ue+"return "+ye).apply(t,D)});if(ft.source=ye,N1(ft))throw ft;return ft}function zM(a){return Ft(a).toLowerCase()}function QM(a){return Ft(a).toUpperCase()}function jM(a,s,p){if(a=Ft(a),a&&(p||s===t))return cs(a);if(!a||!(s=Yr(s)))return a;var C=Oi(a),S=Oi(s),O=v(C,S),D=W(C,S)+1;return va(C,O,D).join("")}function JM(a,s,p){if(a=Ft(a),a&&(p||s===t))return a.slice(0,ha(a)+1);if(!a||!(s=Yr(s)))return a;var C=Oi(a),S=W(C,Oi(s))+1;return va(C,0,S).join("")}function qM(a,s,p){if(a=Ft(a),a&&(p||s===t))return a.replace(Hu,"");if(!a||!(s=Yr(s)))return a;var C=Oi(a),S=v(C,Oi(s));return va(C,S).join("")}function KM(a,s){var p=L,C=re;if(ii(s)){var S="separator"in s?s.separator:S;p="length"in s?ht(s.length):p,C="omission"in s?Yr(s.omission):C}a=Ft(a);var O=a.length;if(Ve(a)){var D=Oi(a);O=D.length}if(p>=O)return a;var H=p-si(C);if(H<1)return C;var J=D?va(D,0,H).join(""):a.slice(0,H);if(S===t)return J+C;if(D&&(H+=J.length-H),W1(S)){if(a.slice(H).search(S)){var me,Ce=J;for(S.global||(S=_o(S.source,Ft(Yu.exec(S))+"g")),S.lastIndex=0;me=S.exec(Ce);)var ye=me.index;J=J.slice(0,ye===t?H:ye)}}else if(a.indexOf(Yr(S),H)!=H){var Oe=J.lastIndexOf(S);Oe>-1&&(J=J.slice(0,Oe))}return J+C}function $M(a){return a=Ft(a),a&&ku.test(a)?a.replace(Hi,fl):a}var eZ=Al(function(a,s,p){return a+(p?" ":"")+s.toUpperCase()}),L1=Vy("toUpperCase");function _2(a,s,p){return a=Ft(a),s=p?t:s,s===t?Ne(a)?ds(a):nc(a):a.match(s)||[]}var k2=mt(function(a,s){try{return gr(a,t,s)}catch(p){return N1(p)?p:new Ke(p)}}),tZ=Po(function(a,s){return xr(s,function(p){p=no(p),Uo(a,p,F1(a[p],a))}),a});function iZ(a){var s=a==null?0:a.length,p=Je();return a=s?Vt(a,function(C){if(typeof C[1]!="function")throw new ji(n);return[p(C[0]),C[1]]}):[],mt(function(C){for(var S=-1;++S<s;){var O=a[S];if(gr(O[0],this,C))return gr(O[1],this,C)}})}function rZ(a){return FX(cn(a,d))}function X1(a){return function(){return a}}function nZ(a,s){return a==null||a!==a?s:a}var oZ=Hy(),aZ=Hy(!0);function Wr(a){return a}function B1(a){return Iy(typeof a=="function"?a:cn(a,d))}function sZ(a){return Ay(cn(a,d))}function lZ(a,s){return wy(a,cn(s,d))}var uZ=mt(function(a,s){return function(p){return gc(p,a,s)}}),cZ=mt(function(a,s){return function(p){return gc(a,p,s)}});function D1(a,s,p){var C=Gi(s),S=Op(s,C);p==null&&!(ii(s)&&(S.length||!C.length))&&(p=s,s=a,a=this,S=Op(s,Gi(s)));var O=!(ii(p)&&"chain"in p)||!!p.chain,D=zo(a);return xr(S,function(H){var J=s[H];a[H]=J,D&&(a.prototype[H]=function(){var me=this.__chain__;if(O||me){var Ce=a(this.__wrapped__),ye=Ce.__actions__=Fr(this.__actions__);return ye.push({func:J,args:arguments,thisArg:a}),Ce.__chain__=me,Ce}return J.apply(a,Nn([this.value()],arguments))})}),a}function dZ(){return yi._===this&&(yi._=DL),this}function T1(){}function pZ(a){return a=ht(a),mt(function(s){return xy(s,a)})}var hZ=g1(Vt),gZ=g1(ns),fZ=g1(as);function V2(a){return y1(a)?ls(no(a)):HX(a)}function mZ(a){return function(s){return a==null?t:bs(a,s)}}var bZ=Yy(),CZ=Yy(!0);function M1(){return[]}function Z1(){return!1}function vZ(){return{}}function IZ(){return""}function yZ(){return!0}function AZ(a,s){if(a=ht(a),a<1||a>te)return[];var p=V,C=nr(a,V);s=Je(s),a-=V;for(var S=us(C,s);++p<a;)s(p);return S}function wZ(a){return dt(a)?Vt(a,no):zr(a)?[a]:Fr(l2(Ft(a)))}function xZ(a){var s=++XL;return Ft(a)+s}var SZ=Tp(function(a,s){return a+s},0),RZ=f1("ceil"),FZ=Tp(function(a,s){return a/s},1),EZ=f1("floor");function NZ(a){return a&&a.length?Wp(a,Wr,e1):t}function WZ(a,s){return a&&a.length?Wp(a,Je(s,2),e1):t}function OZ(a){return ln(a,Wr)}function GZ(a,s){return ln(a,Je(s,2))}function LZ(a){return a&&a.length?Wp(a,Wr,n1):t}function XZ(a,s){return a&&a.length?Wp(a,Je(s,2),n1):t}var BZ=Tp(function(a,s){return a*s},1),DZ=f1("round"),TZ=Tp(function(a,s){return a-s},0);function MZ(a){return a&&a.length?Wn(a,Wr):0}function ZZ(a,s){return a&&a.length?Wn(a,Je(s,2)):0}return N.after=aT,N.ary=v2,N.assign=QT,N.assignIn=L2,N.assignInWith=Jp,N.assignWith=jT,N.at=JT,N.before=I2,N.bind=F1,N.bindAll=tZ,N.bindKey=y2,N.castArray=CT,N.chain=m2,N.chunk=FB,N.compact=EB,N.concat=NB,N.cond=iZ,N.conforms=rZ,N.constant=X1,N.countBy=TD,N.create=qT,N.curry=A2,N.curryRight=w2,N.debounce=x2,N.defaults=KT,N.defaultsDeep=$T,N.defer=sT,N.delay=lT,N.difference=WB,N.differenceBy=OB,N.differenceWith=GB,N.drop=LB,N.dropRight=XB,N.dropRightWhile=BB,N.dropWhile=DB,N.fill=TB,N.filter=ZD,N.flatMap=VD,N.flatMapDeep=UD,N.flatMapDepth=HD,N.flatten=p2,N.flattenDeep=MB,N.flattenDepth=ZB,N.flip=uT,N.flow=oZ,N.flowRight=aZ,N.fromPairs=_B,N.functions=aM,N.functionsIn=sM,N.groupBy=PD,N.initial=VB,N.intersection=UB,N.intersectionBy=HB,N.intersectionWith=PB,N.invert=uM,N.invertBy=cM,N.invokeMap=zD,N.iteratee=B1,N.keyBy=QD,N.keys=Gi,N.keysIn=Nr,N.map=Hp,N.mapKeys=pM,N.mapValues=hM,N.matches=sZ,N.matchesProperty=lZ,N.memoize=Yp,N.merge=gM,N.mergeWith=X2,N.method=uZ,N.methodOf=cZ,N.mixin=D1,N.negate=zp,N.nthArg=pZ,N.omit=fM,N.omitBy=mM,N.once=cT,N.orderBy=jD,N.over=hZ,N.overArgs=dT,N.overEvery=gZ,N.overSome=fZ,N.partial=E1,N.partialRight=S2,N.partition=JD,N.pick=bM,N.pickBy=B2,N.property=V2,N.propertyOf=mZ,N.pull=jB,N.pullAll=g2,N.pullAllBy=JB,N.pullAllWith=qB,N.pullAt=KB,N.range=bZ,N.rangeRight=CZ,N.rearg=pT,N.reject=$D,N.remove=$B,N.rest=hT,N.reverse=S1,N.sampleSize=tT,N.set=vM,N.setWith=IM,N.shuffle=iT,N.slice=eD,N.sortBy=oT,N.sortedUniq=sD,N.sortedUniqBy=lD,N.split=UM,N.spread=gT,N.tail=uD,N.take=cD,N.takeRight=dD,N.takeRightWhile=pD,N.takeWhile=hD,N.tap=ED,N.throttle=fT,N.thru=Up,N.toArray=W2,N.toPairs=D2,N.toPairsIn=T2,N.toPath=wZ,N.toPlainObject=G2,N.transform=yM,N.unary=mT,N.union=gD,N.unionBy=fD,N.unionWith=mD,N.uniq=bD,N.uniqBy=CD,N.uniqWith=vD,N.unset=AM,N.unzip=R1,N.unzipWith=f2,N.update=wM,N.updateWith=xM,N.values=Sl,N.valuesIn=SM,N.without=ID,N.words=_2,N.wrap=bT,N.xor=yD,N.xorBy=AD,N.xorWith=wD,N.zip=xD,N.zipObject=SD,N.zipObjectDeep=RD,N.zipWith=FD,N.entries=D2,N.entriesIn=T2,N.extend=L2,N.extendWith=Jp,D1(N,N),N.add=SZ,N.attempt=k2,N.camelCase=NM,N.capitalize=M2,N.ceil=RZ,N.clamp=RM,N.clone=vT,N.cloneDeep=yT,N.cloneDeepWith=AT,N.cloneWith=IT,N.conformsTo=wT,N.deburr=Z2,N.defaultTo=nZ,N.divide=FZ,N.endsWith=WM,N.eq=Ln,N.escape=OM,N.escapeRegExp=GM,N.every=MD,N.find=_D,N.findIndex=c2,N.findKey=eM,N.findLast=kD,N.findLastIndex=d2,N.findLastKey=tM,N.floor=EZ,N.forEach=b2,N.forEachRight=C2,N.forIn=iM,N.forInRight=rM,N.forOwn=nM,N.forOwnRight=oM,N.get=O1,N.gt=xT,N.gte=ST,N.has=lM,N.hasIn=G1,N.head=h2,N.identity=Wr,N.includes=YD,N.indexOf=kB,N.inRange=FM,N.invoke=dM,N.isArguments=Is,N.isArray=dt,N.isArrayBuffer=RT,N.isArrayLike=Er,N.isArrayLikeObject=fi,N.isBoolean=FT,N.isBuffer=Ia,N.isDate=ET,N.isElement=NT,N.isEmpty=WT,N.isEqual=OT,N.isEqualWith=GT,N.isError=N1,N.isFinite=LT,N.isFunction=zo,N.isInteger=R2,N.isLength=Qp,N.isMap=F2,N.isMatch=XT,N.isMatchWith=BT,N.isNaN=DT,N.isNative=TT,N.isNil=ZT,N.isNull=MT,N.isNumber=E2,N.isObject=ii,N.isObjectLike=li,N.isPlainObject=Ic,N.isRegExp=W1,N.isSafeInteger=_T,N.isSet=N2,N.isString=jp,N.isSymbol=zr,N.isTypedArray=xl,N.isUndefined=kT,N.isWeakMap=VT,N.isWeakSet=UT,N.join=YB,N.kebabCase=LM,N.last=pn,N.lastIndexOf=zB,N.lowerCase=XM,N.lowerFirst=BM,N.lt=HT,N.lte=PT,N.max=NZ,N.maxBy=WZ,N.mean=OZ,N.meanBy=GZ,N.min=LZ,N.minBy=XZ,N.stubArray=M1,N.stubFalse=Z1,N.stubObject=vZ,N.stubString=IZ,N.stubTrue=yZ,N.multiply=BZ,N.nth=QB,N.noConflict=dZ,N.noop=T1,N.now=Pp,N.pad=DM,N.padEnd=TM,N.padStart=MM,N.parseInt=ZM,N.random=EM,N.reduce=qD,N.reduceRight=KD,N.repeat=_M,N.replace=kM,N.result=CM,N.round=DZ,N.runInContext=Q,N.sample=eT,N.size=rT,N.snakeCase=VM,N.some=nT,N.sortedIndex=tD,N.sortedIndexBy=iD,N.sortedIndexOf=rD,N.sortedLastIndex=nD,N.sortedLastIndexBy=oD,N.sortedLastIndexOf=aD,N.startCase=HM,N.startsWith=PM,N.subtract=TZ,N.sum=MZ,N.sumBy=ZZ,N.template=YM,N.times=AZ,N.toFinite=Qo,N.toInteger=ht,N.toLength=O2,N.toLower=zM,N.toNumber=hn,N.toSafeInteger=zT,N.toString=Ft,N.toUpper=QM,N.trim=jM,N.trimEnd=JM,N.trimStart=qM,N.truncate=KM,N.unescape=$M,N.uniqueId=xZ,N.upperCase=eZ,N.upperFirst=L1,N.each=b2,N.eachRight=C2,N.first=h2,D1(N,function(){var a={};return io(N,function(s,p){Gt.call(N.prototype,p)||(a[p]=s)}),a}(),{chain:!1}),N.VERSION=e,xr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){N[a].placeholder=N}),xr(["drop","take"],function(a,s){vt.prototype[a]=function(p){p=p===t?1:Fi(ht(p),0);var C=this.__filtered__&&!s?new vt(this):this.clone();return C.__filtered__?C.__takeCount__=nr(p,C.__takeCount__):C.__views__.push({size:nr(p,V),type:a+(C.__dir__<0?"Right":"")}),C},vt.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),xr(["filter","map","takeWhile"],function(a,s){var p=s+1,C=p==q||p==j;vt.prototype[a]=function(S){var O=this.clone();return O.__iteratees__.push({iteratee:Je(S,3),type:p}),O.__filtered__=O.__filtered__||C,O}}),xr(["head","last"],function(a,s){var p="take"+(s?"Right":"");vt.prototype[a]=function(){return this[p](1).value()[0]}}),xr(["initial","tail"],function(a,s){var p="drop"+(s?"":"Right");vt.prototype[a]=function(){return this.__filtered__?new vt(this):this[p](1)}}),vt.prototype.compact=function(){return this.filter(Wr)},vt.prototype.find=function(a){return this.filter(a).head()},vt.prototype.findLast=function(a){return this.reverse().find(a)},vt.prototype.invokeMap=mt(function(a,s){return typeof a=="function"?new vt(this):this.map(function(p){return gc(p,a,s)})}),vt.prototype.reject=function(a){return this.filter(zp(Je(a)))},vt.prototype.slice=function(a,s){a=ht(a);var p=this;return p.__filtered__&&(a>0||s<0)?new vt(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),s!==t&&(s=ht(s),p=s<0?p.dropRight(-s):p.take(s-a)),p)},vt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},vt.prototype.toArray=function(){return this.take(V)},io(vt.prototype,function(a,s){var p=/^(?:filter|find|map|reject)|While$/.test(s),C=/^(?:head|last)$/.test(s),S=N[C?"take"+(s=="last"?"Right":""):s],O=C||/^find/.test(s);S&&(N.prototype[s]=function(){var D=this.__wrapped__,H=C?[1]:arguments,J=D instanceof vt,me=H[0],Ce=J||dt(D),ye=function(Ct){var It=S.apply(N,Nn([Ct],H));return C&&Oe?It[0]:It};Ce&&p&&typeof me=="function"&&me.length!=1&&(J=Ce=!1);var Oe=this.__chain__,Ue=!!this.__actions__.length,$e=O&&!Oe,ft=J&&!Ue;if(!O&&Ce){D=ft?D:new vt(this);var et=a.apply(D,H);return et.__actions__.push({func:Up,args:[ye],thisArg:t}),new un(et,Oe)}return $e&&ft?a.apply(this,H):(et=this.thru(ye),$e?C?et.value()[0]:et.value():et)})}),xr(["pop","push","shift","sort","splice","unshift"],function(a){var s=On[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",C=/^(?:pop|shift)$/.test(a);N.prototype[a]=function(){var S=arguments;if(C&&!this.__chain__){var O=this.value();return s.apply(dt(O)?O:[],S)}return this[p](function(D){return s.apply(dt(D)?D:[],S)})}}),io(vt.prototype,function(a,s){var p=N[s];if(p){var C=p.name+"";Gt.call(vl,C)||(vl[C]=[]),vl[C].push({name:s,func:p})}}),vl[Dp(t,A).name]=[{name:"wrapper",func:t}],vt.prototype.clone=KL,vt.prototype.reverse=$L,vt.prototype.value=eX,N.prototype.at=ND,N.prototype.chain=WD,N.prototype.commit=OD,N.prototype.next=GD,N.prototype.plant=XD,N.prototype.reverse=BD,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=DD,N.prototype.first=N.prototype.head,sc&&(N.prototype[sc]=LD),N},rr=Pr();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(yi._=rr,define(function(){return rr})):hr?((hr.exports=rr)._=rr,tc._=rr):yi._=rr}).call(Gl)});var U={};Kt(U,{closest:()=>Tx,collapseOptions:()=>Bt,constrain:()=>FV,contentIsIndexable:()=>mV,convertTransformIntoMatrixStyleString:()=>vV,decompose:()=>Gh,deviceType:()=>Xl,easeInOutCubic:()=>IV,easeInOutSine:()=>AV,easeOutCubic:()=>yV,filterZoomLinks:()=>NV,getCSSValueAndUnit:()=>X0,getCorrectRenderContextForGivenPID:()=>GV,getFiletypeAndOembedFromURL:()=>wV,getHeight:()=>RV,getWidth:()=>SV,isAdminEdit:()=>iV,isChrome:()=>cV,isDateInFuture:()=>OV,isEdge:()=>dV,isFirefox:()=>lV,isIE:()=>Dx,isIE8:()=>pV,isIOS:()=>hV,isIOSWebView:()=>gV,isLocalEnv:()=>Gx,isMac:()=>sV,isMobile:()=>oV,isMobileWindowSize:()=>bV,isProduction:()=>Xh,isProductionTestingAcct:()=>eV,isPromoCodeTransitionPeriod:()=>EV,isSafari:()=>uV,isServer:()=>Ll,isServerRendered:()=>tV,isSitePreview:()=>rV,mergeRefs:()=>xV,parseMatrixStyleString:()=>CV,sitePreviewHostname:()=>nV,stringReplaceMultiple:()=>fV,stripTLD:()=>WV,viewportOrientation:()=>aV});var Lh,Gx,Xh,eV,Ll,tV,Lx,iV,Xx,Bx,rV,nV,oV,aV,Xl,sV,lV,uV,cV,Dx,dV,pV,hV,gV,fV,mV,bV,CV,vV,Gh,X0,IV,yV,AV,Bt,wV,xV,SV,RV,Tx,FV,EV,NV,WV,OV,GV,ui=R(()=>{Lh=pe(ve()),Gx=/^local.*/.test("production"),Xh=!0,eV=t=>[1,12,14494300,18,39,75,14497410,14065331,14229062].includes(t),Ll=!(typeof window<"u"&&window.document&&window.document.createElement),tV=!Ll&&window.hasOwnProperty("__PRELOADED_STATE__"),Lx=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(Lx=!0)}catch{(!Ll||!Gx)&&console.log("Unable to determine if in admin.")}iV=Lx,Xx=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(Bx=t.groups?.hostname,Xx=!0)}}catch{console.log("Unable to determine if in site preview")}rV=Xx,nV=Bx,oV=function(){if(Ll)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),aV=()=>{let t=window.matchMedia("(max-aspect-ratio: 1:1)");return Ll?!1:t?"portrait":"landscape"},Xl=()=>{if(Ll)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(hover:none)"),i=window.matchMedia("(any-pointer:fine)"),r=window.matchMedia("(pointer:coarse)"),n=window.matchMedia("(pointer:none)");if(e.matches&&r.matches)return"touch";if(t.matches&&i.matches)return"mouse"},sV=()=>navigator?.userAgent?.includes("Mac"),lV=()=>/Firefox\/\d+\.\d+/.test(navigator.userAgent),uV=()=>navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,cV=()=>window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,Dx=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent),dV=()=>/Edge/.test(navigator.userAgent),pV=()=>{var t=-1;if(Dx()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},hV=()=>!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),gV=()=>{var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),i=/safari/.test(e),r=/iphone|ipod|ipad/.test(e);if(r){if(!t&&i)return!1;if(t&&!i)return!1;if(!t&&!i)return!0}return!1},fV=(t,e)=>{for(var i in e)t=t.replace(new RegExp(i,"g"),e[i]);return t},mV=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin||t.overlay):!1,bV=t=>t<770,CV=t=>{let e=t.indexOf("matrix(")>-1,i=t.indexOf("matrix3d(")>-1,r,n;return e?(r=t.replace("matrix(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Gh(r[0],r[1],r[2],r[3],r[4],r[5],!1)):i?(r=t.replace("matrix3d(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Gh(r[0],r[1],r[4],r[5],r[12],r[13],!1),n.translate.z=r[14]):n=Gh(0,0,0,0,0,0,!1),n},vV=t=>{let e=t.hasOwnProperty("translate"),i=t.hasOwnProperty("scale"),r=i&&t.scale.x||1,n=i&&t.scale.y||1,o=e&&t.translate.x||0,l=e&&t.translate.y||0,u=e&&t.translate.z||0,c=t.rotation||0,d=e&&t.translate.hasOwnProperty("z"),g;if(d){let m=[Math.cos(c)/r,-Math.sin(c),0,o,Math.sin(c),Math.cos(c)/n,0,l,0,0,1,u,0,0,0,1];g=`matrix3d(${m[0]}, ${m[4]}, ${m[8]}, ${m[12]}, ${m[1]}, ${m[5]}, ${m[9]}, ${m[13]}, ${m[2]}, ${m[6]}, ${m[10]}, ${m[14]}, ${m[3]}, ${m[7]}, ${m[11]}, ${m[15]})`}else{let m=[Math.cos(c)/r,-Math.sin(c),o,Math.sin(c),Math.cos(c)/n,l,0,0,1];g=`matrix(${m[0]}, ${m[3]}, ${m[1]}, ${m[4]}, ${m[2]}, ${m[5]})`}return g},Gh=(t=0,e=0,i=0,r=0,n=0,o=0,l=!1)=>{var u=Math.acos,c=Math.atan,d=Math.sqrt,g=Math.PI,m={x:n,y:o},b=0,I={x:1,y:1},x={x:0,y:0},A=t*r-e*i;if(l)t?(x={x:c(i/t),y:c(e/t)},I={x:t,y:A/t}):e?(b=g*.5,I={x:e,y:A/e},x.x=c(r/e)):(I={x:i,y:r},x.x=g*.25);else if(t||e){var F=d(t*t+e*e);b=e>0?u(t/F):-u(t/F),I={x:F,y:A/F},x.x=c((t*i+e*r)/(F*F))}else if(i||r){var E=d(i*i+r*r);b=g*.5-(r>0?u(-i/E):-u(i/E)),I={x:A/E,y:E},x.y=c((t*i+e*r)/(E*E))}else I={x:0,y:0};return{scale:I,translate:m,rotation:b,skew:x}},X0=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let i=parseFloat(t.replace(/[^\d.-]/g,"")),r=t.replace(i+"","").trim();return r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(i="",r=t),[i,r]},IV=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,yV=t=>1-Math.pow(-1*t+1,3),AV=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,Bt=t=>{let e={},i=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(o=>{e[o.name]=o.value}):n.type=="checkbox-color"&&i([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(l=>l.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let o;n.defaultUnit!==void 0&&(o=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[o]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[o]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[o]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&i([n.toggle]),n.children&&i(n.children)})};return i(t),e},wV=(t,e={width:250})=>{let i=null,r=null,n=t.toLowerCase();if(n.endsWith(".mov")||n.endsWith(".mp4")||n.endsWith(".webm"))return{fileType:"video",oembedURL:null,id:null};if(n.endsWith(".png")||n.endsWith(".webp")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")||n.endsWith(".avif")||n.endsWith(".apng")||n.endsWith(".svg"))return{fileType:"image",oembedURL:null,id:null};i="url";var o="",l="",u="",c=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,m=t.match(c);if(m&&m[0]){let b=m[0].split(/\/|\?h=|&|\?/);for(var d=0;d<b.length;d++)!b[d].includes(":")&&!b[d].includes(".")&&!b[d].includes("vimeo")&&!b[d].includes("=")&&!b[d].includes("video")&&!b[d].includes("showcase")&&!b[d].includes("player")&&b[d].length>3&&(o.length==0?o=b[d]:o+="/"+b[d]);i="vimeo",r="https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+o+"&width="+e.width}var g=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,m=t.match(g);return m&&m[7].length==11&&(o=m[7],i="youtube",o?r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+o:r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+(t.indexOf("?")>-1?t.split("?")[0]:t)),{fileType:i,oembedURL:r,id:o}},xV=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:i=>{for(let r of e)typeof r=="function"?r(i):r&&(r.current=i)}:null},SV=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},RV=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},Tx=(t,e)=>{var i=t&&(e(t)?t:Tx(t.parentNode,e));return i||null},FV=(t,e,i)=>t>i?i:t<e?e:t,EV=t=>{let e=new Date,r=new Date(t).getTime()-e.getTime(),n=Math.floor(r/(1e3*60*60*24));return n>0&&n<=15},NV=t=>(t=Lh.default.filter(t,e=>{var i=e.getAttribute("href");return!(i&&(i===""||i=="#"||i.indexOf("mailto:")==0||i.indexOf("tel:")==0))}),t),WV=t=>{if(!t)return[null,null];let e=/(\.[^.]+)$/,i=t.match(e);if(i){let r=i[1],n=t.slice(0,-r.length);return[r,n]}else return[null,t]},OV=t=>{if(!t)return!0;let e=new Date(t),i=Math.floor(e.getTime()/1e3),n=Math.floor(Date.now()/1e3)-15*24*60*60;return i>=n},GV=(t,e,i)=>{let r=t.pages.byId[i],n=e.getHomepageId(t),o=e.getHiddenHomepageId(t),l=t.sets.byId[Lh.default.findKey(t.structure.byParent,d=>d.includes(n))],u=t.sets.byId[Lh.default.findKey(t.structure.byParent,d=>d.includes(i))],c=i;if(t.sets.byId.root?.stack===!0)r?.display===!1?c=r.id:c=u?.id||"root";else if(r){if(r.pin||r.overlay||u?.stack)if(c=u?.id,(r.pin||r.overlay)&&u?.stack===!1){if(u?.id===l?.id&&(c="root"),u.page_count>=1){let d=t.structure.byParent[u.id]?.filter(g=>t.structure.indexById[g]!==null&&t.sets.byId[g]===void 0&&t.pages.byId[g]?.password_enabled!==!0&&g!==o);d.length>0&&(d.includes(n)?c=n:c=d[0])}}else r?.display===!1&&u?.stack===!0&&(c=r.id);else c=r.id;c==="root"&&n&&(c=n)}return c}});var LV,Mx,Zx=R(()=>{Fe();ui();LV=pe(ve());Y();Mx=Te.createContext({children:null,innerUI:null,event:null,type:null,offset:null,updateInnerUI:()=>null,onOpen:()=>null,onConfirm:()=>null,onClose:t=>null})});var _x=R(()=>{Fe();ui();Y()});var kx=R(()=>{Wx();Ox();Zx();_x()});var Vx=R(()=>{});var Ux=R(()=>{Vx()});var Hx=R(()=>{});var XV,Px,Yx=R(()=>{Fe();Fe();XV=pe(ve());Hx();Y();Px=Te.createContext({innerText:null,shortcutText:null,icon:null,onOpen:()=>null,onClose:()=>null})});var zx=R(()=>{Yx()});var Qx=R(()=>{});var jx=R(()=>{});var Jx=R(()=>{});var qx=R(()=>{});var Kx=R(()=>{});var $x=R(()=>{Qx();jx();Jx();qx();Kx()});var e5=R(()=>{});var t5=R(()=>{Fe();Y()});var B0=R(()=>{e5();t5()});function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}var D0=R(()=>{});function T0(t,e){if(Ra(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i5=R(()=>{D0()});function M0(t){var e=T0(t,"string");return Ra(e)=="symbol"?e:String(e)}var r5=R(()=>{D0();i5()});function Z0(t,e,i){return e=M0(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var n5=R(()=>{r5()});function o5(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Bh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(i),!0).forEach(function(r){Z0(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o5(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var a5=R(()=>{n5()});var u5={};Kt(u5,{__DO_NOT_USE__ActionTypes:()=>Qc,applyMiddleware:()=>k0,bindActionCreators:()=>xt,combineReducers:()=>Mn,compose:()=>Dh,createStore:()=>jc,legacy_createStore:()=>DV});function qi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function BV(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function jc(t,e,i){var r;if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(qi(1));return i(jc)(t,e)}if(typeof t!="function")throw new Error(qi(2));var n=t,o=e,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function g(){if(c)throw new Error(qi(3));return o}function m(A){if(typeof A!="function")throw new Error(qi(4));if(c)throw new Error(qi(5));var F=!0;return d(),u.push(A),function(){if(F){if(c)throw new Error(qi(6));F=!1,d();var M=u.indexOf(A);u.splice(M,1),l=null}}}function b(A){if(!BV(A))throw new Error(qi(7));if(typeof A.type>"u")throw new Error(qi(8));if(c)throw new Error(qi(9));try{c=!0,o=n(o,A)}finally{c=!1}for(var F=l=u,E=0;E<F.length;E++){var M=F[E];M()}return A}function I(A){if(typeof A!="function")throw new Error(qi(10));n=A,b({type:Qc.REPLACE})}function x(){var A,F=m;return A={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(qi(11));function k(){M.next&&M.next(g())}k();var T=F(k);return{unsubscribe:T}}},A[s5]=function(){return this},A}return b({type:Qc.INIT}),r={dispatch:b,subscribe:m,getState:g,replaceReducer:I},r[s5]=x,r}function TV(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:Qc.INIT});if(typeof r>"u")throw new Error(qi(12));if(typeof i(void 0,{type:Qc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qi(13))})}function Mn(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r];typeof t[n]=="function"&&(i[n]=t[n])}var o=Object.keys(i),l,u;try{TV(i)}catch(c){u=c}return function(d,g){if(d===void 0&&(d={}),u)throw u;if(0)var m;for(var b=!1,I={},x=0;x<o.length;x++){var A=o[x],F=i[A],E=d[A],M=F(E,g);if(typeof M>"u"){var k=g&&g.type;throw new Error(qi(14))}I[A]=M,b=b||M!==E}return b=b||o.length!==Object.keys(d).length,b?I:d}}function l5(t,e){return function(){return e(t.apply(this,arguments))}}function xt(t,e){if(typeof t=="function")return l5(t,e);if(typeof t!="object"||t===null)throw new Error(qi(16));var i={};for(var r in t){var n=t[r];typeof n=="function"&&(i[r]=l5(n,e))}return i}function Dh(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function k0(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),o=function(){throw new Error(qi(15))},l={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=e.map(function(c){return c(l)});return o=Dh.apply(void 0,u)(n.dispatch),Bh(Bh({},n),{},{dispatch:o})}}}var s5,_0,Qc,DV,ri=R(()=>{a5();s5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_0=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qc={INIT:"@@redux/INIT"+_0(),REPLACE:"@@redux/REPLACE"+_0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_0()}};DV=jc});function ZV(t){return!!t&&typeof t=="object"}function _V(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||UV(t)}function UV(t){return t.$$typeof===VV}function HV(t){return Array.isArray(t)?[]:{}}function Th(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Mh(HV(t),t,e):t}function PV(t,e,i){return t.concat(e).map(function(r){return Th(r,i)})}function YV(t,e,i){var r={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Th(t[n],i)}),Object.keys(e).forEach(function(n){!i.isMergeableObject(e[n])||!t[n]?r[n]=Th(e[n],i):r[n]=Mh(t[n],e[n],i)}),r}function Mh(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||PV,i.isMergeableObject=i.isMergeableObject||MV;var r=Array.isArray(e),n=Array.isArray(t),o=r===n;return o?r?i.arrayMerge(t,e,i):YV(t,e,i):Th(e,i)}var MV,kV,VV,c5=R(()=>{MV=function(e){return ZV(e)&&!_V(e)};kV=typeof Symbol=="function"&&Symbol.for,VV=kV?Symbol.for("react.element"):60103;Mh.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return Mh(r,n,i)},{})}});var zV,Zh,V0=R(()=>{zV=typeof global=="object"&&global&&global.Object===Object&&global,Zh=zV});var QV,jV,Si,Zn=R(()=>{V0();QV=typeof self=="object"&&self&&self.Object===Object&&self,jV=Zh||QV||Function("return this")(),Si=jV});var JV,vn,Jc=R(()=>{Zn();JV=Si.Symbol,vn=JV});function $V(t){var e=qV.call(t,qc),i=t[qc];try{t[qc]=void 0;var r=!0}catch{}var n=KV.call(t);return r&&(e?t[qc]=i:delete t[qc]),n}var d5,qV,KV,qc,p5,h5=R(()=>{Jc();d5=Object.prototype,qV=d5.hasOwnProperty,KV=d5.toString,qc=vn?vn.toStringTag:void 0;p5=$V});function iU(t){return tU.call(t)}var eU,tU,g5,f5=R(()=>{eU=Object.prototype,tU=eU.toString;g5=iU});function oU(t){return t==null?t===void 0?nU:rU:m5&&m5 in Object(t)?p5(t):g5(t)}var rU,nU,m5,_n,Bl=R(()=>{Jc();h5();f5();rU="[object Null]",nU="[object Undefined]",m5=vn?vn.toStringTag:void 0;_n=oU});function aU(t,e){return function(i){return t(e(i))}}var _h,U0=R(()=>{_h=aU});var sU,kh,H0=R(()=>{U0();sU=_h(Object.getPrototypeOf,Object),kh=sU});function lU(t){return t!=null&&typeof t=="object"}var In,Ns=R(()=>{In=lU});var I5=P((rpe,v5)=>{"use strict";var b5=Array.isArray,C5=Object.keys,uU=Object.prototype.hasOwnProperty,cU=typeof Element<"u";function P0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=b5(t),r=b5(e),n,o,l;if(i&&r){if(o=t.length,o!=e.length)return!1;for(n=o;n--!==0;)if(!P0(t[n],e[n]))return!1;return!0}if(i!=r)return!1;var u=t instanceof Date,c=e instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,g=e instanceof RegExp;if(d!=g)return!1;if(d&&g)return t.toString()==e.toString();var m=C5(t);if(o=m.length,o!==C5(e).length)return!1;for(n=o;n--!==0;)if(!uU.call(e,m[n]))return!1;if(cU&&t instanceof Element&&e instanceof Element)return t===e;for(n=o;n--!==0;)if(l=m[n],!(l==="_owner"&&t.$$typeof)&&!P0(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}v5.exports=function(e,i){try{return P0(e,i)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}});function dU(){this.__data__=[],this.size=0}var y5,A5=R(()=>{y5=dU});function pU(t,e){return t===e||t!==t&&e!==e}var Vh,Y0=R(()=>{Vh=pU});function hU(t,e){for(var i=t.length;i--;)if(Vh(t[i][0],e))return i;return-1}var Fa,Kc=R(()=>{Y0();Fa=hU});function mU(t){var e=this.__data__,i=Fa(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():fU.call(e,i,1),--this.size,!0}var gU,fU,w5,x5=R(()=>{Kc();gU=Array.prototype,fU=gU.splice;w5=mU});function bU(t){var e=this.__data__,i=Fa(e,t);return i<0?void 0:e[i][1]}var S5,R5=R(()=>{Kc();S5=bU});function CU(t){return Fa(this.__data__,t)>-1}var F5,E5=R(()=>{Kc();F5=CU});function vU(t,e){var i=this.__data__,r=Fa(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var N5,W5=R(()=>{Kc();N5=vU});function Dl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ea,$c=R(()=>{A5();x5();R5();E5();W5();Dl.prototype.clear=y5;Dl.prototype.delete=w5;Dl.prototype.get=S5;Dl.prototype.has=F5;Dl.prototype.set=N5;Ea=Dl});function IU(){this.__data__=new Ea,this.size=0}var O5,G5=R(()=>{$c();O5=IU});function yU(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var L5,X5=R(()=>{L5=yU});function AU(t){return this.__data__.get(t)}var B5,D5=R(()=>{B5=AU});function wU(t){return this.__data__.has(t)}var T5,M5=R(()=>{T5=wU});function xU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ao,Tl=R(()=>{ao=xU});function NU(t){if(!ao(t))return!1;var e=_n(t);return e==RU||e==FU||e==SU||e==EU}var SU,RU,FU,EU,Uh,z0=R(()=>{Bl();Tl();SU="[object AsyncFunction]",RU="[object Function]",FU="[object GeneratorFunction]",EU="[object Proxy]";Uh=NU});var WU,Hh,Z5=R(()=>{Zn();WU=Si["__core-js_shared__"],Hh=WU});function OU(t){return!!_5&&_5 in t}var _5,k5,V5=R(()=>{Z5();_5=function(){var t=/[^.]+$/.exec(Hh&&Hh.keys&&Hh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();k5=OU});function XU(t){if(t!=null){try{return LU.call(t)}catch{}try{return t+""}catch{}}return""}var GU,LU,Ko,Q0=R(()=>{GU=Function.prototype,LU=GU.toString;Ko=XU});function VU(t){if(!ao(t)||k5(t))return!1;var e=Uh(t)?kU:DU;return e.test(Ko(t))}var BU,DU,TU,MU,ZU,_U,kU,U5,H5=R(()=>{z0();V5();Tl();Q0();BU=/[\\^$.*+?()[\]{}|]/g,DU=/^\[object .+?Constructor\]$/,TU=Function.prototype,MU=Object.prototype,ZU=TU.toString,_U=MU.hasOwnProperty,kU=RegExp("^"+ZU.call(_U).replace(BU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");U5=VU});function UU(t,e){return t?.[e]}var P5,Y5=R(()=>{P5=UU});function HU(t,e){var i=P5(t,e);return U5(i)?i:void 0}var Lr,Na=R(()=>{H5();Y5();Lr=HU});var PU,Wa,Ph=R(()=>{Na();Zn();PU=Lr(Si,"Map"),Wa=PU});var YU,$o,ed=R(()=>{Na();YU=Lr(Object,"create"),$o=YU});function zU(){this.__data__=$o?$o(null):{},this.size=0}var z5,Q5=R(()=>{ed();z5=zU});function QU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var j5,J5=R(()=>{j5=QU});function KU(t){var e=this.__data__;if($o){var i=e[t];return i===jU?void 0:i}return qU.call(e,t)?e[t]:void 0}var jU,JU,qU,q5,K5=R(()=>{ed();jU="__lodash_hash_undefined__",JU=Object.prototype,qU=JU.hasOwnProperty;q5=KU});function tH(t){var e=this.__data__;return $o?e[t]!==void 0:eH.call(e,t)}var $U,eH,$5,e3=R(()=>{ed();$U=Object.prototype,eH=$U.hasOwnProperty;$5=tH});function rH(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=$o&&e===void 0?iH:e,this}var iH,t3,i3=R(()=>{ed();iH="__lodash_hash_undefined__";t3=rH});function Ml(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var j0,r3=R(()=>{Q5();J5();K5();e3();i3();Ml.prototype.clear=z5;Ml.prototype.delete=j5;Ml.prototype.get=q5;Ml.prototype.has=$5;Ml.prototype.set=t3;j0=Ml});function nH(){this.size=0,this.__data__={hash:new j0,map:new(Wa||Ea),string:new j0}}var n3,o3=R(()=>{r3();$c();Ph();n3=nH});function oH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var a3,s3=R(()=>{a3=oH});function aH(t,e){var i=t.__data__;return a3(e)?i[typeof e=="string"?"string":"hash"]:i.map}var Oa,td=R(()=>{s3();Oa=aH});function sH(t){var e=Oa(this,t).delete(t);return this.size-=e?1:0,e}var l3,u3=R(()=>{td();l3=sH});function lH(t){return Oa(this,t).get(t)}var c3,d3=R(()=>{td();c3=lH});function uH(t){return Oa(this,t).has(t)}var p3,h3=R(()=>{td();p3=uH});function cH(t,e){var i=Oa(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var g3,f3=R(()=>{td();g3=cH});function Zl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var id,J0=R(()=>{o3();u3();d3();h3();f3();Zl.prototype.clear=n3;Zl.prototype.delete=l3;Zl.prototype.get=c3;Zl.prototype.has=p3;Zl.prototype.set=g3;id=Zl});function pH(t,e){var i=this.__data__;if(i instanceof Ea){var r=i.__data__;if(!Wa||r.length<dH-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new id(r)}return i.set(t,e),this.size=i.size,this}var dH,m3,b3=R(()=>{$c();Ph();J0();dH=200;m3=pH});function _l(t){var e=this.__data__=new Ea(t);this.size=e.size}var C3,v3=R(()=>{$c();G5();X5();D5();M5();b3();_l.prototype.clear=O5;_l.prototype.delete=L5;_l.prototype.get=B5;_l.prototype.has=T5;_l.prototype.set=m3;C3=_l});function hH(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var I3,y3=R(()=>{I3=hH});var gH,q0,A3=R(()=>{Na();gH=function(){try{var t=Lr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),q0=gH});function fH(t,e,i){e=="__proto__"&&q0?q0(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Yh,K0=R(()=>{A3();Yh=fH});function CH(t,e,i){var r=t[e];(!(bH.call(t,e)&&Vh(r,i))||i===void 0&&!(e in t))&&Yh(t,e,i)}var mH,bH,zh,$0=R(()=>{K0();Y0();mH=Object.prototype,bH=mH.hasOwnProperty;zh=CH});function vH(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?Yh(i,u,c):zh(i,u,c)}return i}var Ga,rd=R(()=>{$0();K0();Ga=vH});function IH(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var w3,x3=R(()=>{w3=IH});function AH(t){return In(t)&&_n(t)==yH}var yH,eb,S3=R(()=>{Bl();Ns();yH="[object Arguments]";eb=AH});var R3,wH,xH,SH,F3,E3=R(()=>{S3();Ns();R3=Object.prototype,wH=R3.hasOwnProperty,xH=R3.propertyIsEnumerable,SH=eb(function(){return arguments}())?eb:function(t){return In(t)&&wH.call(t,"callee")&&!xH.call(t,"callee")},F3=SH});var RH,so,kl=R(()=>{RH=Array.isArray,so=RH});function FH(){return!1}var N3,W3=R(()=>{N3=FH});var L3,O3,EH,G3,NH,WH,Qh,tb=R(()=>{Zn();W3();L3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O3=L3&&typeof module=="object"&&module&&!module.nodeType&&module,EH=O3&&O3.exports===L3,G3=EH?Si.Buffer:void 0,NH=G3?G3.isBuffer:void 0,WH=NH||N3,Qh=WH});function LH(t,e){var i=typeof t;return e=e??OH,!!e&&(i=="number"||i!="symbol"&&GH.test(t))&&t>-1&&t%1==0&&t<e}var OH,GH,X3,B3=R(()=>{OH=9007199254740991,GH=/^(?:0|[1-9]\d*)$/;X3=LH});function BH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=XH}var XH,jh,ib=R(()=>{XH=9007199254740991;jh=BH});function aP(t){return In(t)&&jh(t.length)&&!!zt[_n(t)]}var DH,TH,MH,ZH,_H,kH,VH,UH,HH,PH,YH,zH,QH,jH,JH,qH,KH,$H,eP,tP,iP,rP,nP,oP,zt,D3,T3=R(()=>{Bl();ib();Ns();DH="[object Arguments]",TH="[object Array]",MH="[object Boolean]",ZH="[object Date]",_H="[object Error]",kH="[object Function]",VH="[object Map]",UH="[object Number]",HH="[object Object]",PH="[object RegExp]",YH="[object Set]",zH="[object String]",QH="[object WeakMap]",jH="[object ArrayBuffer]",JH="[object DataView]",qH="[object Float32Array]",KH="[object Float64Array]",$H="[object Int8Array]",eP="[object Int16Array]",tP="[object Int32Array]",iP="[object Uint8Array]",rP="[object Uint8ClampedArray]",nP="[object Uint16Array]",oP="[object Uint32Array]",zt={};zt[qH]=zt[KH]=zt[$H]=zt[eP]=zt[tP]=zt[iP]=zt[rP]=zt[nP]=zt[oP]=!0;zt[DH]=zt[TH]=zt[jH]=zt[MH]=zt[JH]=zt[ZH]=zt[_H]=zt[kH]=zt[VH]=zt[UH]=zt[HH]=zt[PH]=zt[YH]=zt[zH]=zt[QH]=!1;D3=aP});function sP(t){return function(e){return t(e)}}var Vl,Jh=R(()=>{Vl=sP});var M3,nd,lP,rb,uP,ea,qh=R(()=>{V0();M3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nd=M3&&typeof module=="object"&&module&&!module.nodeType&&module,lP=nd&&nd.exports===M3,rb=lP&&Zh.process,uP=function(){try{var t=nd&&nd.require&&nd.require("util").types;return t||rb&&rb.binding&&rb.binding("util")}catch{}}(),ea=uP});var Z3,cP,_3,k3=R(()=>{T3();Jh();qh();Z3=ea&&ea.isTypedArray,cP=Z3?Vl(Z3):D3,_3=cP});function hP(t,e){var i=so(t),r=!i&&F3(t),n=!i&&!r&&Qh(t),o=!i&&!r&&!n&&_3(t),l=i||r||n||o,u=l?w3(t.length,String):[],c=u.length;for(var d in t)(e||pP.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||X3(d,c)))&&u.push(d);return u}var dP,pP,Kh,nb=R(()=>{x3();E3();kl();tb();B3();k3();dP=Object.prototype,pP=dP.hasOwnProperty;Kh=hP});function fP(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||gP;return t===i}var gP,Ul,$h=R(()=>{gP=Object.prototype;Ul=fP});var mP,V3,U3=R(()=>{U0();mP=_h(Object.keys,Object),V3=mP});function vP(t){if(!Ul(t))return V3(t);var e=[];for(var i in Object(t))CP.call(t,i)&&i!="constructor"&&e.push(i);return e}var bP,CP,H3,P3=R(()=>{$h();U3();bP=Object.prototype,CP=bP.hasOwnProperty;H3=vP});function IP(t){return t!=null&&jh(t.length)&&!Uh(t)}var eg,ob=R(()=>{z0();ib();eg=IP});function yP(t){return eg(t)?Kh(t):H3(t)}var Hl,tg=R(()=>{nb();P3();ob();Hl=yP});function AP(t,e){return t&&Ga(e,Hl(e),t)}var Y3,z3=R(()=>{rd();tg();Y3=AP});function wP(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var Q3,j3=R(()=>{Q3=wP});function RP(t){if(!ao(t))return Q3(t);var e=Ul(t),i=[];for(var r in t)r=="constructor"&&(e||!SP.call(t,r))||i.push(r);return i}var xP,SP,J3,q3=R(()=>{Tl();$h();j3();xP=Object.prototype,SP=xP.hasOwnProperty;J3=RP});function FP(t){return eg(t)?Kh(t,!0):J3(t)}var Pl,ig=R(()=>{nb();q3();ob();Pl=FP});function EP(t,e){return t&&Ga(e,Pl(e),t)}var K3,$3=R(()=>{rd();ig();K3=EP});function WP(t,e){if(e)return t.slice();var i=t.length,r=i7?i7(i):new t.constructor(i);return t.copy(r),r}var r7,e7,NP,t7,i7,n7,o7=R(()=>{Zn();r7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,e7=r7&&typeof module=="object"&&module&&!module.nodeType&&module,NP=e7&&e7.exports===r7,t7=NP?Si.Buffer:void 0,i7=t7?t7.allocUnsafe:void 0;n7=WP});function OP(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var rg,ab=R(()=>{rg=OP});function GP(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}var a7,s7=R(()=>{a7=GP});function LP(){return[]}var ng,sb=R(()=>{ng=LP});var XP,BP,l7,DP,Yl,og=R(()=>{s7();sb();XP=Object.prototype,BP=XP.propertyIsEnumerable,l7=Object.getOwnPropertySymbols,DP=l7?function(t){return t==null?[]:(t=Object(t),a7(l7(t),function(e){return BP.call(t,e)}))}:ng,Yl=DP});function TP(t,e){return Ga(t,Yl(t),e)}var u7,c7=R(()=>{rd();og();u7=TP});function MP(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var ag,lb=R(()=>{ag=MP});var ZP,_P,sg,ub=R(()=>{lb();H0();og();sb();ZP=Object.getOwnPropertySymbols,_P=ZP?function(t){for(var e=[];t;)ag(e,Yl(t)),t=kh(t);return e}:ng,sg=_P});function kP(t,e){return Ga(t,sg(t),e)}var d7,p7=R(()=>{rd();ub();d7=kP});function VP(t,e,i){var r=e(t);return so(t)?r:ag(r,i(t))}var lg,cb=R(()=>{lb();kl();lg=VP});function UP(t){return lg(t,Hl,Yl)}var h7,g7=R(()=>{cb();og();tg();h7=UP});function HP(t){return lg(t,Pl,sg)}var f7,m7=R(()=>{cb();ub();ig();f7=HP});var PP,ug,b7=R(()=>{Na();Zn();PP=Lr(Si,"DataView"),ug=PP});var YP,cg,C7=R(()=>{Na();Zn();YP=Lr(Si,"Promise"),cg=YP});var zP,dg,v7=R(()=>{Na();Zn();zP=Lr(Si,"Set"),dg=zP});var QP,pg,I7=R(()=>{Na();Zn();QP=Lr(Si,"WeakMap"),pg=QP});var y7,jP,A7,w7,x7,S7,JP,qP,KP,$P,eY,Ws,zl,hg=R(()=>{b7();Ph();C7();v7();I7();Bl();Q0();y7="[object Map]",jP="[object Object]",A7="[object Promise]",w7="[object Set]",x7="[object WeakMap]",S7="[object DataView]",JP=Ko(ug),qP=Ko(Wa),KP=Ko(cg),$P=Ko(dg),eY=Ko(pg),Ws=_n;(ug&&Ws(new ug(new ArrayBuffer(1)))!=S7||Wa&&Ws(new Wa)!=y7||cg&&Ws(cg.resolve())!=A7||dg&&Ws(new dg)!=w7||pg&&Ws(new pg)!=x7)&&(Ws=function(t){var e=_n(t),i=e==jP?t.constructor:void 0,r=i?Ko(i):"";if(r)switch(r){case JP:return S7;case qP:return y7;case KP:return A7;case $P:return w7;case eY:return x7}return e});zl=Ws});function rY(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&iY.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var tY,iY,R7,F7=R(()=>{tY=Object.prototype,iY=tY.hasOwnProperty;R7=rY});var nY,db,E7=R(()=>{Zn();nY=Si.Uint8Array,db=nY});function oY(t){var e=new t.constructor(t.byteLength);return new db(e).set(new db(t)),e}var Ql,gg=R(()=>{E7();Ql=oY});function aY(t,e){var i=e?Ql(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var N7,W7=R(()=>{gg();N7=aY});function lY(t){var e=new t.constructor(t.source,sY.exec(t));return e.lastIndex=t.lastIndex,e}var sY,O7,G7=R(()=>{sY=/\w*$/;O7=lY});function uY(t){return X7?Object(X7.call(t)):{}}var L7,X7,B7,D7=R(()=>{Jc();L7=vn?vn.prototype:void 0,X7=L7?L7.valueOf:void 0;B7=uY});function cY(t,e){var i=e?Ql(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var T7,M7=R(()=>{gg();T7=cY});function WY(t,e,i){var r=t.constructor;switch(e){case vY:return Ql(t);case dY:case pY:return new r(+t);case IY:return N7(t,i);case yY:case AY:case wY:case xY:case SY:case RY:case FY:case EY:case NY:return T7(t,i);case hY:return new r;case gY:case bY:return new r(t);case fY:return O7(t);case mY:return new r;case CY:return B7(t)}}var dY,pY,hY,gY,fY,mY,bY,CY,vY,IY,yY,AY,wY,xY,SY,RY,FY,EY,NY,Z7,_7=R(()=>{gg();W7();G7();D7();M7();dY="[object Boolean]",pY="[object Date]",hY="[object Map]",gY="[object Number]",fY="[object RegExp]",mY="[object Set]",bY="[object String]",CY="[object Symbol]",vY="[object ArrayBuffer]",IY="[object DataView]",yY="[object Float32Array]",AY="[object Float64Array]",wY="[object Int8Array]",xY="[object Int16Array]",SY="[object Int32Array]",RY="[object Uint8Array]",FY="[object Uint8ClampedArray]",EY="[object Uint16Array]",NY="[object Uint32Array]";Z7=WY});var k7,OY,V7,U7=R(()=>{Tl();k7=Object.create,OY=function(){function t(){}return function(e){if(!ao(e))return{};if(k7)return k7(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),V7=OY});function GY(t){return typeof t.constructor=="function"&&!Ul(t)?V7(kh(t)):{}}var H7,P7=R(()=>{U7();H0();$h();H7=GY});function XY(t){return In(t)&&zl(t)==LY}var LY,Y7,z7=R(()=>{hg();Ns();LY="[object Map]";Y7=XY});var Q7,BY,j7,J7=R(()=>{z7();Jh();qh();Q7=ea&&ea.isMap,BY=Q7?Vl(Q7):Y7,j7=BY});function TY(t){return In(t)&&zl(t)==DY}var DY,q7,K7=R(()=>{hg();Ns();DY="[object Set]";q7=TY});var $7,MY,e4,t4=R(()=>{K7();Jh();qh();$7=ea&&ea.isSet,MY=$7?Vl($7):q7,e4=MY});function fg(t,e,i,r,n,o){var l,u=e&ZY,c=e&_Y,d=e&kY;if(i&&(l=n?i(t,r,n,o):i(t)),l!==void 0)return l;if(!ao(t))return t;var g=so(t);if(g){if(l=R7(t),!u)return rg(t,l)}else{var m=zl(t),b=m==r4||m==YY;if(Qh(t))return n7(t,u);if(m==n4||m==i4||b&&!n){if(l=c||b?{}:H7(t),!u)return c?d7(t,K3(l,t)):u7(t,Y3(l,t))}else{if(!Yt[m])return n?t:{};l=Z7(t,m,u)}}o||(o=new C3);var I=o.get(t);if(I)return I;o.set(t,l),e4(t)?t.forEach(function(F){l.add(fg(F,e,i,F,t,o))}):j7(t)&&t.forEach(function(F,E){l.set(E,fg(F,e,i,E,t,o))});var x=d?c?f7:h7:c?Pl:Hl,A=g?void 0:x(t);return I3(A||t,function(F,E){A&&(E=F,F=t[E]),zh(l,E,fg(F,e,i,E,t,o))}),l}var ZY,_Y,kY,i4,VY,UY,HY,PY,r4,YY,zY,QY,n4,jY,JY,qY,KY,$Y,ez,tz,iz,rz,nz,oz,az,sz,lz,uz,cz,Yt,mg,pb=R(()=>{v3();y3();$0();z3();$3();o7();ab();c7();p7();g7();m7();hg();F7();_7();P7();kl();tb();J7();Tl();t4();tg();ig();ZY=1,_Y=2,kY=4,i4="[object Arguments]",VY="[object Array]",UY="[object Boolean]",HY="[object Date]",PY="[object Error]",r4="[object Function]",YY="[object GeneratorFunction]",zY="[object Map]",QY="[object Number]",n4="[object Object]",jY="[object RegExp]",JY="[object Set]",qY="[object String]",KY="[object Symbol]",$Y="[object WeakMap]",ez="[object ArrayBuffer]",tz="[object DataView]",iz="[object Float32Array]",rz="[object Float64Array]",nz="[object Int8Array]",oz="[object Int16Array]",az="[object Int32Array]",sz="[object Uint8Array]",lz="[object Uint8ClampedArray]",uz="[object Uint16Array]",cz="[object Uint32Array]",Yt={};Yt[i4]=Yt[VY]=Yt[ez]=Yt[tz]=Yt[UY]=Yt[HY]=Yt[iz]=Yt[rz]=Yt[nz]=Yt[oz]=Yt[az]=Yt[zY]=Yt[QY]=Yt[n4]=Yt[jY]=Yt[JY]=Yt[qY]=Yt[KY]=Yt[sz]=Yt[lz]=Yt[uz]=Yt[cz]=!0;Yt[PY]=Yt[r4]=Yt[$Y]=!1;mg=fg});function pz(t){return mg(t,dz)}var dz,hb,o4=R(()=>{pb();dz=4;hb=pz});function hz(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var bg,gb=R(()=>{bg=hz});function fz(t){return typeof t=="symbol"||In(t)&&_n(t)==gz}var gz,jl,Cg=R(()=>{Bl();Ns();gz="[object Symbol]";jl=fz});function fb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mz);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(fb.Cache||id),i}var mz,a4,s4=R(()=>{J0();mz="Expected a function";fb.Cache=id;a4=fb});function Cz(t){var e=a4(t,function(r){return i.size===bz&&i.clear(),r}),i=e.cache;return e}var bz,l4,u4=R(()=>{s4();bz=500;l4=Cz});var vz,Iz,yz,c4,d4=R(()=>{u4();vz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iz=/\\(\\)?/g,yz=l4(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vz,function(i,r,n,o){e.push(n?o.replace(Iz,"$1"):r||i)}),e}),c4=yz});function wz(t){if(typeof t=="string"||jl(t))return t;var e=t+"";return e=="0"&&1/t==-Az?"-0":e}var Az,p4,h4=R(()=>{Cg();Az=1/0;p4=wz});function m4(t){if(typeof t=="string")return t;if(so(t))return bg(t,m4)+"";if(jl(t))return f4?f4.call(t):"";var e=t+"";return e=="0"&&1/t==-xz?"-0":e}var xz,g4,f4,b4,C4=R(()=>{Jc();gb();kl();Cg();xz=1/0,g4=vn?vn.prototype:void 0,f4=g4?g4.toString:void 0;b4=m4});function Sz(t){return t==null?"":b4(t)}var v4,I4=R(()=>{C4();v4=Sz});function Rz(t){return so(t)?bg(t,p4):jl(t)?[t]:rg(c4(v4(t)))}var mb,y4=R(()=>{gb();ab();kl();Cg();d4();h4();I4();mb=Rz});function Nz(t){return mg(t,Fz|Ez)}var Fz,Ez,A4,w4=R(()=>{pb();Fz=1,Ez=4;A4=Nz});function Os(){return Os=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Os.apply(this,arguments)}function Wz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function W4(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function x4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(){var t=mn(vg);return t||w0(!1),t}function Jl(t,e,i,r){r===void 0&&(r=0);for(var n=mb(e);t&&r<n.length;)t=t[n[r++]];return r!==n.length&&!t||t===void 0?i:t}function bb(t,e,i){for(var r=hb(t),n=r,o=0,l=mb(e);o<l.length-1;o++){var u=l[o],c=Jl(t,l.slice(0,o+1));if(c&&(O4(c)||Array.isArray(c)))n=n[u]=hb(c);else{var d=l[o+1];n=n[u]=Lz(d)&&Number(d)>=0?[]:{}}}return(o===0?t:n)[l[o]]===i?t:(i===void 0?delete n[l[o]]:n[l[o]]=i,o===0&&i===void 0&&delete r[l[o]],r)}function G4(t){var e=function(n){return St(Oz,null,function(o){return o||w0(!1),St(t,Os({},n,{formik:o}))})},i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+i+")",(0,N4.default)(e,t)}var E4,N4,vg,Q1e,Oz,S4,R4,O4,Lz,Xz,j1e,Bz,Dz,Tz,Cb,Mz,Gs,F4,Zz,L4=R(()=>{c5();Fe();E4=pe(I5());ex();o4();y4();N4=pe(bh());w4();vg=gn(void 0);vg.displayName="FormikContext";Q1e=vg.Provider,Oz=vg.Consumer;S4=function(e){return Array.isArray(e)&&e.length===0},R4=function(e){return typeof e=="function"},O4=function(e){return e!==null&&typeof e=="object"},Lz=function(e){return String(Math.floor(Number(e)))===e},Xz=function(e){return Nc.count(e)===0};j1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?fn:bi,Bz=Or(function(t,e){var i=t.action,r=W4(t,["action"]),n=i??"#",o=Gz(),l=o.handleReset,u=o.handleSubmit;return St("form",Os({onSubmit:u,ref:e,onReset:l,action:n},r))});Bz.displayName="Form";Dz=function(e,i,r){var n=Gs(e),o=n[i];return n.splice(i,1),n.splice(r,0,o),n},Tz=function(e,i,r){var n=Gs(e),o=n[i];return n[i]=n[r],n[r]=o,n},Cb=function(e,i,r){var n=Gs(e);return n.splice(i,0,r),n},Mz=function(e,i,r){var n=Gs(e);return n[i]=r,n},Gs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var i=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,n){return n>r?n:r},0);return Array.from(Os({},e,{length:i+1}))}else return[]},F4=function(e,i){var r=typeof e=="function"?e:i;return function(n){if(Array.isArray(n)||O4(n)){var o=Gs(n);return r(o)}return n}},Zz=function(t){Wz(e,t);function e(r){var n;return n=t.call(this,r)||this,n.updateArrayField=function(o,l,u){var c=n.props,d=c.name,g=c.formik.setFormikState;g(function(m){var b=F4(u,o),I=F4(l,o),x=bb(m.values,d,o(Jl(m.values,d))),A=u?b(Jl(m.errors,d)):void 0,F=l?I(Jl(m.touched,d)):void 0;return S4(A)&&(A=void 0),S4(F)&&(F=void 0),Os({},m,{values:x,errors:u?bb(m.errors,d,A):m.errors,touched:l?bb(m.touched,d,F):m.touched})})},n.push=function(o){return n.updateArrayField(function(l){return[].concat(Gs(l),[A4(o)])},!1,!1)},n.handlePush=function(o){return function(){return n.push(o)}},n.swap=function(o,l){return n.updateArrayField(function(u){return Tz(u,o,l)},!0,!0)},n.handleSwap=function(o,l){return function(){return n.swap(o,l)}},n.move=function(o,l){return n.updateArrayField(function(u){return Dz(u,o,l)},!0,!0)},n.handleMove=function(o,l){return function(){return n.move(o,l)}},n.insert=function(o,l){return n.updateArrayField(function(u){return Cb(u,o,l)},function(u){return Cb(u,o,null)},function(u){return Cb(u,o,null)})},n.handleInsert=function(o,l){return function(){return n.insert(o,l)}},n.replace=function(o,l){return n.updateArrayField(function(u){return Mz(u,o,l)},!1,!1)},n.handleReplace=function(o,l){return function(){return n.replace(o,l)}},n.unshift=function(o){var l=-1;return n.updateArrayField(function(u){var c=u?[o].concat(u):[o];return l=c.length,c},function(u){return u?[null].concat(u):[null]},function(u){return u?[null].concat(u):[null]}),l},n.handleUnshift=function(o){return function(){return n.unshift(o)}},n.handleRemove=function(o){return function(){return n.remove(o)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(x4(n)),n.pop=n.pop.bind(x4(n)),n}var i=e.prototype;return i.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,E4.default)(Jl(n.formik.values,n.name),Jl(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(n){var o;return this.updateArrayField(function(l){var u=l?Gs(l):[];return o||(o=u[n]),R4(u.splice)&&u.splice(n,1),R4(u.every)&&u.every(function(c){return c===void 0})?[]:u},!0,!0),o},i.pop=function(){var n;return this.updateArrayField(function(o){var l=o.slice();return n||(n=l&&l.pop&&l.pop()),l},!0,!0),n},i.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,l=o.component,u=o.render,c=o.children,d=o.name,g=o.formik,m=W4(g,["validate","validationSchema"]),b=Os({},n,{form:m,name:d});return l?St(l,b):u?u(b):c?typeof c=="function"?c(b):Xz(c)?null:Nc.only(c):null},e}(oe);Zz.defaultProps={validateOnChange:!0}});var B4=P((q1e,X4)=>{function _z(){this.__data__=[],this.size=0}X4.exports=_z});var ql=P((K1e,D4)=>{function kz(t,e){return t===e||t!==t&&e!==e}D4.exports=kz});var od=P(($1e,T4)=>{var Vz=ql();function Uz(t,e){for(var i=t.length;i--;)if(Vz(t[i][0],e))return i;return-1}T4.exports=Uz});var Z4=P((e0e,M4)=>{var Hz=od(),Pz=Array.prototype,Yz=Pz.splice;function zz(t){var e=this.__data__,i=Hz(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():Yz.call(e,i,1),--this.size,!0}M4.exports=zz});var k4=P((t0e,_4)=>{var Qz=od();function jz(t){var e=this.__data__,i=Qz(e,t);return i<0?void 0:e[i][1]}_4.exports=jz});var U4=P((i0e,V4)=>{var Jz=od();function qz(t){return Jz(this.__data__,t)>-1}V4.exports=qz});var P4=P((r0e,H4)=>{var Kz=od();function $z(t,e){var i=this.__data__,r=Kz(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}H4.exports=$z});var ad=P((n0e,Y4)=>{var eQ=B4(),tQ=Z4(),iQ=k4(),rQ=U4(),nQ=P4();function Kl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Kl.prototype.clear=eQ;Kl.prototype.delete=tQ;Kl.prototype.get=iQ;Kl.prototype.has=rQ;Kl.prototype.set=nQ;Y4.exports=Kl});var Q4=P((o0e,z4)=>{var oQ=ad();function aQ(){this.__data__=new oQ,this.size=0}z4.exports=aQ});var J4=P((a0e,j4)=>{function sQ(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}j4.exports=sQ});var K4=P((s0e,q4)=>{function lQ(t){return this.__data__.get(t)}q4.exports=lQ});var e9=P((l0e,$4)=>{function uQ(t){return this.__data__.has(t)}$4.exports=uQ});var vb=P((u0e,t9)=>{var cQ=typeof global=="object"&&global&&global.Object===Object&&global;t9.exports=cQ});var kn=P((c0e,i9)=>{var dQ=vb(),pQ=typeof self=="object"&&self&&self.Object===Object&&self,hQ=dQ||pQ||Function("return this")();i9.exports=hQ});var sd=P((d0e,r9)=>{var gQ=kn(),fQ=gQ.Symbol;r9.exports=fQ});var s9=P((p0e,a9)=>{var n9=sd(),o9=Object.prototype,mQ=o9.hasOwnProperty,bQ=o9.toString,ld=n9?n9.toStringTag:void 0;function CQ(t){var e=mQ.call(t,ld),i=t[ld];try{t[ld]=void 0;var r=!0}catch{}var n=bQ.call(t);return r&&(e?t[ld]=i:delete t[ld]),n}a9.exports=CQ});var u9=P((h0e,l9)=>{var vQ=Object.prototype,IQ=vQ.toString;function yQ(t){return IQ.call(t)}l9.exports=yQ});var Ls=P((g0e,p9)=>{var c9=sd(),AQ=s9(),wQ=u9(),xQ="[object Null]",SQ="[object Undefined]",d9=c9?c9.toStringTag:void 0;function RQ(t){return t==null?t===void 0?SQ:xQ:d9&&d9 in Object(t)?AQ(t):wQ(t)}p9.exports=RQ});var lo=P((f0e,h9)=>{function FQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}h9.exports=FQ});var Ig=P((m0e,g9)=>{var EQ=Ls(),NQ=lo(),WQ="[object AsyncFunction]",OQ="[object Function]",GQ="[object GeneratorFunction]",LQ="[object Proxy]";function XQ(t){if(!NQ(t))return!1;var e=EQ(t);return e==OQ||e==GQ||e==WQ||e==LQ}g9.exports=XQ});var m9=P((b0e,f9)=>{var BQ=kn(),DQ=BQ["__core-js_shared__"];f9.exports=DQ});var v9=P((C0e,C9)=>{var Ib=m9(),b9=function(){var t=/[^.]+$/.exec(Ib&&Ib.keys&&Ib.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function TQ(t){return!!b9&&b9 in t}C9.exports=TQ});var yb=P((v0e,I9)=>{var MQ=Function.prototype,ZQ=MQ.toString;function _Q(t){if(t!=null){try{return ZQ.call(t)}catch{}try{return t+""}catch{}}return""}I9.exports=_Q});var A9=P((I0e,y9)=>{var kQ=Ig(),VQ=v9(),UQ=lo(),HQ=yb(),PQ=/[\\^$.*+?()[\]{}|]/g,YQ=/^\[object .+?Constructor\]$/,zQ=Function.prototype,QQ=Object.prototype,jQ=zQ.toString,JQ=QQ.hasOwnProperty,qQ=RegExp("^"+jQ.call(JQ).replace(PQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KQ(t){if(!UQ(t)||VQ(t))return!1;var e=kQ(t)?qQ:YQ;return e.test(HQ(t))}y9.exports=KQ});var x9=P((y0e,w9)=>{function $Q(t,e){return t?.[e]}w9.exports=$Q});var La=P((A0e,S9)=>{var ej=A9(),tj=x9();function ij(t,e){var i=tj(t,e);return ej(i)?i:void 0}S9.exports=ij});var yg=P((w0e,R9)=>{var rj=La(),nj=kn(),oj=rj(nj,"Map");R9.exports=oj});var ud=P((x0e,F9)=>{var aj=La(),sj=aj(Object,"create");F9.exports=sj});var W9=P((S0e,N9)=>{var E9=ud();function lj(){this.__data__=E9?E9(null):{},this.size=0}N9.exports=lj});var G9=P((R0e,O9)=>{function uj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}O9.exports=uj});var X9=P((F0e,L9)=>{var cj=ud(),dj="__lodash_hash_undefined__",pj=Object.prototype,hj=pj.hasOwnProperty;function gj(t){var e=this.__data__;if(cj){var i=e[t];return i===dj?void 0:i}return hj.call(e,t)?e[t]:void 0}L9.exports=gj});var D9=P((E0e,B9)=>{var fj=ud(),mj=Object.prototype,bj=mj.hasOwnProperty;function Cj(t){var e=this.__data__;return fj?e[t]!==void 0:bj.call(e,t)}B9.exports=Cj});var M9=P((N0e,T9)=>{var vj=ud(),Ij="__lodash_hash_undefined__";function yj(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=vj&&e===void 0?Ij:e,this}T9.exports=yj});var _9=P((W0e,Z9)=>{var Aj=W9(),wj=G9(),xj=X9(),Sj=D9(),Rj=M9();function $l(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}$l.prototype.clear=Aj;$l.prototype.delete=wj;$l.prototype.get=xj;$l.prototype.has=Sj;$l.prototype.set=Rj;Z9.exports=$l});var U9=P((O0e,V9)=>{var k9=_9(),Fj=ad(),Ej=yg();function Nj(){this.size=0,this.__data__={hash:new k9,map:new(Ej||Fj),string:new k9}}V9.exports=Nj});var P9=P((G0e,H9)=>{function Wj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}H9.exports=Wj});var cd=P((L0e,Y9)=>{var Oj=P9();function Gj(t,e){var i=t.__data__;return Oj(e)?i[typeof e=="string"?"string":"hash"]:i.map}Y9.exports=Gj});var Q9=P((X0e,z9)=>{var Lj=cd();function Xj(t){var e=Lj(this,t).delete(t);return this.size-=e?1:0,e}z9.exports=Xj});var J9=P((B0e,j9)=>{var Bj=cd();function Dj(t){return Bj(this,t).get(t)}j9.exports=Dj});var K9=P((D0e,q9)=>{var Tj=cd();function Mj(t){return Tj(this,t).has(t)}q9.exports=Mj});var e6=P((T0e,$9)=>{var Zj=cd();function _j(t,e){var i=Zj(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}$9.exports=_j});var Ag=P((M0e,t6)=>{var kj=U9(),Vj=Q9(),Uj=J9(),Hj=K9(),Pj=e6();function eu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}eu.prototype.clear=kj;eu.prototype.delete=Vj;eu.prototype.get=Uj;eu.prototype.has=Hj;eu.prototype.set=Pj;t6.exports=eu});var r6=P((Z0e,i6)=>{var Yj=ad(),zj=yg(),Qj=Ag(),jj=200;function Jj(t,e){var i=this.__data__;if(i instanceof Yj){var r=i.__data__;if(!zj||r.length<jj-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new Qj(r)}return i.set(t,e),this.size=i.size,this}i6.exports=Jj});var wg=P((_0e,n6)=>{var qj=ad(),Kj=Q4(),$j=J4(),eJ=K4(),tJ=e9(),iJ=r6();function tu(t){var e=this.__data__=new qj(t);this.size=e.size}tu.prototype.clear=Kj;tu.prototype.delete=$j;tu.prototype.get=eJ;tu.prototype.has=tJ;tu.prototype.set=iJ;n6.exports=tu});var a6=P((k0e,o6)=>{var rJ="__lodash_hash_undefined__";function nJ(t){return this.__data__.set(t,rJ),this}o6.exports=nJ});var l6=P((V0e,s6)=>{function oJ(t){return this.__data__.has(t)}s6.exports=oJ});var c6=P((U0e,u6)=>{var aJ=Ag(),sJ=a6(),lJ=l6();function xg(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new aJ;++e<i;)this.add(t[e])}xg.prototype.add=xg.prototype.push=sJ;xg.prototype.has=lJ;u6.exports=xg});var p6=P((H0e,d6)=>{function uJ(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}d6.exports=uJ});var g6=P((P0e,h6)=>{function cJ(t,e){return t.has(e)}h6.exports=cJ});var Ab=P((Y0e,f6)=>{var dJ=c6(),pJ=p6(),hJ=g6(),gJ=1,fJ=2;function mJ(t,e,i,r,n,o){var l=i&gJ,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var d=o.get(t),g=o.get(e);if(d&&g)return d==e&&g==t;var m=-1,b=!0,I=i&fJ?new dJ:void 0;for(o.set(t,e),o.set(e,t);++m<u;){var x=t[m],A=e[m];if(r)var F=l?r(A,x,m,e,t,o):r(x,A,m,t,e,o);if(F!==void 0){if(F)continue;b=!1;break}if(I){if(!pJ(e,function(E,M){if(!hJ(I,M)&&(x===E||n(x,E,i,r,o)))return I.push(M)})){b=!1;break}}else if(!(x===A||n(x,A,i,r,o))){b=!1;break}}return o.delete(t),o.delete(e),b}f6.exports=mJ});var wb=P((z0e,m6)=>{var bJ=kn(),CJ=bJ.Uint8Array;m6.exports=CJ});var C6=P((Q0e,b6)=>{function vJ(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}b6.exports=vJ});var I6=P((j0e,v6)=>{function IJ(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}v6.exports=IJ});var S6=P((J0e,x6)=>{var y6=sd(),A6=wb(),yJ=ql(),AJ=Ab(),wJ=C6(),xJ=I6(),SJ=1,RJ=2,FJ="[object Boolean]",EJ="[object Date]",NJ="[object Error]",WJ="[object Map]",OJ="[object Number]",GJ="[object RegExp]",LJ="[object Set]",XJ="[object String]",BJ="[object Symbol]",DJ="[object ArrayBuffer]",TJ="[object DataView]",w6=y6?y6.prototype:void 0,xb=w6?w6.valueOf:void 0;function MJ(t,e,i,r,n,o,l){switch(i){case TJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DJ:return!(t.byteLength!=e.byteLength||!o(new A6(t),new A6(e)));case FJ:case EJ:case OJ:return yJ(+t,+e);case NJ:return t.name==e.name&&t.message==e.message;case GJ:case XJ:return t==e+"";case WJ:var u=wJ;case LJ:var c=r&SJ;if(u||(u=xJ),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;r|=RJ,l.set(t,e);var g=AJ(u(t),u(e),r,n,o,l);return l.delete(t),g;case BJ:if(xb)return xb.call(t)==xb.call(e)}return!1}x6.exports=MJ});var Sb=P((q0e,R6)=>{function ZJ(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}R6.exports=ZJ});var uo=P((K0e,F6)=>{var _J=Array.isArray;F6.exports=_J});var Rb=P(($0e,E6)=>{var kJ=Sb(),VJ=uo();function UJ(t,e,i){var r=e(t);return VJ(t)?r:kJ(r,i(t))}E6.exports=UJ});var W6=P((ebe,N6)=>{function HJ(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}N6.exports=HJ});var Fb=P((tbe,O6)=>{function PJ(){return[]}O6.exports=PJ});var Eb=P((ibe,L6)=>{var YJ=W6(),zJ=Fb(),QJ=Object.prototype,jJ=QJ.propertyIsEnumerable,G6=Object.getOwnPropertySymbols,JJ=G6?function(t){return t==null?[]:(t=Object(t),YJ(G6(t),function(e){return jJ.call(t,e)}))}:zJ;L6.exports=JJ});var B6=P((rbe,X6)=>{function qJ(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}X6.exports=qJ});var Xa=P((nbe,D6)=>{function KJ(t){return t!=null&&typeof t=="object"}D6.exports=KJ});var M6=P((obe,T6)=>{var $J=Ls(),eq=Xa(),tq="[object Arguments]";function iq(t){return eq(t)&&$J(t)==tq}T6.exports=iq});var Sg=P((abe,k6)=>{var Z6=M6(),rq=Xa(),_6=Object.prototype,nq=_6.hasOwnProperty,oq=_6.propertyIsEnumerable,aq=Z6(function(){return arguments}())?Z6:function(t){return rq(t)&&nq.call(t,"callee")&&!oq.call(t,"callee")};k6.exports=aq});var U6=P((sbe,V6)=>{function sq(){return!1}V6.exports=sq});var Rg=P((dd,iu)=>{var lq=kn(),uq=U6(),Y6=typeof dd=="object"&&dd&&!dd.nodeType&&dd,H6=Y6&&typeof iu=="object"&&iu&&!iu.nodeType&&iu,cq=H6&&H6.exports===Y6,P6=cq?lq.Buffer:void 0,dq=P6?P6.isBuffer:void 0,pq=dq||uq;iu.exports=pq});var pd=P((lbe,z6)=>{var hq=9007199254740991,gq=/^(?:0|[1-9]\d*)$/;function fq(t,e){var i=typeof t;return e=e??hq,!!e&&(i=="number"||i!="symbol"&&gq.test(t))&&t>-1&&t%1==0&&t<e}z6.exports=fq});var Fg=P((ube,Q6)=>{var mq=9007199254740991;function bq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mq}Q6.exports=bq});var J6=P((cbe,j6)=>{var Cq=Ls(),vq=Fg(),Iq=Xa(),yq="[object Arguments]",Aq="[object Array]",wq="[object Boolean]",xq="[object Date]",Sq="[object Error]",Rq="[object Function]",Fq="[object Map]",Eq="[object Number]",Nq="[object Object]",Wq="[object RegExp]",Oq="[object Set]",Gq="[object String]",Lq="[object WeakMap]",Xq="[object ArrayBuffer]",Bq="[object DataView]",Dq="[object Float32Array]",Tq="[object Float64Array]",Mq="[object Int8Array]",Zq="[object Int16Array]",_q="[object Int32Array]",kq="[object Uint8Array]",Vq="[object Uint8ClampedArray]",Uq="[object Uint16Array]",Hq="[object Uint32Array]",Qt={};Qt[Dq]=Qt[Tq]=Qt[Mq]=Qt[Zq]=Qt[_q]=Qt[kq]=Qt[Vq]=Qt[Uq]=Qt[Hq]=!0;Qt[yq]=Qt[Aq]=Qt[Xq]=Qt[wq]=Qt[Bq]=Qt[xq]=Qt[Sq]=Qt[Rq]=Qt[Fq]=Qt[Eq]=Qt[Nq]=Qt[Wq]=Qt[Oq]=Qt[Gq]=Qt[Lq]=!1;function Pq(t){return Iq(t)&&vq(t.length)&&!!Qt[Cq(t)]}j6.exports=Pq});var K6=P((dbe,q6)=>{function Yq(t){return function(e){return t(e)}}q6.exports=Yq});var eS=P((hd,ru)=>{var zq=vb(),$6=typeof hd=="object"&&hd&&!hd.nodeType&&hd,gd=$6&&typeof ru=="object"&&ru&&!ru.nodeType&&ru,Qq=gd&&gd.exports===$6,Nb=Qq&&zq.process,jq=function(){try{var t=gd&&gd.require&&gd.require("util").types;return t||Nb&&Nb.binding&&Nb.binding("util")}catch{}}();ru.exports=jq});var Eg=P((pbe,rS)=>{var Jq=J6(),qq=K6(),tS=eS(),iS=tS&&tS.isTypedArray,Kq=iS?qq(iS):Jq;rS.exports=Kq});var Wb=P((hbe,nS)=>{var $q=B6(),eK=Sg(),tK=uo(),iK=Rg(),rK=pd(),nK=Eg(),oK=Object.prototype,aK=oK.hasOwnProperty;function sK(t,e){var i=tK(t),r=!i&&eK(t),n=!i&&!r&&iK(t),o=!i&&!r&&!n&&nK(t),l=i||r||n||o,u=l?$q(t.length,String):[],c=u.length;for(var d in t)(e||aK.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||rK(d,c)))&&u.push(d);return u}nS.exports=sK});var Ng=P((gbe,oS)=>{var lK=Object.prototype;function uK(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||lK;return t===i}oS.exports=uK});var Ob=P((fbe,aS)=>{function cK(t,e){return function(i){return t(e(i))}}aS.exports=cK});var lS=P((mbe,sS)=>{var dK=Ob(),pK=dK(Object.keys,Object);sS.exports=pK});var cS=P((bbe,uS)=>{var hK=Ng(),gK=lS(),fK=Object.prototype,mK=fK.hasOwnProperty;function bK(t){if(!hK(t))return gK(t);var e=[];for(var i in Object(t))mK.call(t,i)&&i!="constructor"&&e.push(i);return e}uS.exports=bK});var fd=P((Cbe,dS)=>{var CK=Ig(),vK=Fg();function IK(t){return t!=null&&vK(t.length)&&!CK(t)}dS.exports=IK});var Gb=P((vbe,pS)=>{var yK=Wb(),AK=cS(),wK=fd();function xK(t){return wK(t)?yK(t):AK(t)}pS.exports=xK});var gS=P((Ibe,hS)=>{var SK=Rb(),RK=Eb(),FK=Gb();function EK(t){return SK(t,FK,RK)}hS.exports=EK});var bS=P((ybe,mS)=>{var fS=gS(),NK=1,WK=Object.prototype,OK=WK.hasOwnProperty;function GK(t,e,i,r,n,o){var l=i&NK,u=fS(t),c=u.length,d=fS(e),g=d.length;if(c!=g&&!l)return!1;for(var m=c;m--;){var b=u[m];if(!(l?b in e:OK.call(e,b)))return!1}var I=o.get(t),x=o.get(e);if(I&&x)return I==e&&x==t;var A=!0;o.set(t,e),o.set(e,t);for(var F=l;++m<c;){b=u[m];var E=t[b],M=e[b];if(r)var k=l?r(M,E,b,e,t,o):r(E,M,b,t,e,o);if(!(k===void 0?E===M||n(E,M,i,r,o):k)){A=!1;break}F||(F=b=="constructor")}if(A&&!F){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(A=!1)}return o.delete(t),o.delete(e),A}mS.exports=GK});var vS=P((Abe,CS)=>{var LK=La(),XK=kn(),BK=LK(XK,"DataView");CS.exports=BK});var yS=P((wbe,IS)=>{var DK=La(),TK=kn(),MK=DK(TK,"Promise");IS.exports=MK});var wS=P((xbe,AS)=>{var ZK=La(),_K=kn(),kK=ZK(_K,"Set");AS.exports=kK});var SS=P((Sbe,xS)=>{var VK=La(),UK=kn(),HK=VK(UK,"WeakMap");xS.exports=HK});var LS=P((Rbe,GS)=>{var Lb=vS(),Xb=yg(),Bb=yS(),Db=wS(),Tb=SS(),OS=Ls(),nu=yb(),RS="[object Map]",PK="[object Object]",FS="[object Promise]",ES="[object Set]",NS="[object WeakMap]",WS="[object DataView]",YK=nu(Lb),zK=nu(Xb),QK=nu(Bb),jK=nu(Db),JK=nu(Tb),Xs=OS;(Lb&&Xs(new Lb(new ArrayBuffer(1)))!=WS||Xb&&Xs(new Xb)!=RS||Bb&&Xs(Bb.resolve())!=FS||Db&&Xs(new Db)!=ES||Tb&&Xs(new Tb)!=NS)&&(Xs=function(t){var e=OS(t),i=e==PK?t.constructor:void 0,r=i?nu(i):"";if(r)switch(r){case YK:return WS;case zK:return RS;case QK:return FS;case jK:return ES;case JK:return NS}return e});GS.exports=Xs});var kS=P((Fbe,_S)=>{var Mb=wg(),qK=Ab(),KK=S6(),$K=bS(),XS=LS(),BS=uo(),DS=Rg(),e$=Eg(),t$=1,TS="[object Arguments]",MS="[object Array]",Wg="[object Object]",i$=Object.prototype,ZS=i$.hasOwnProperty;function r$(t,e,i,r,n,o){var l=BS(t),u=BS(e),c=l?MS:XS(t),d=u?MS:XS(e);c=c==TS?Wg:c,d=d==TS?Wg:d;var g=c==Wg,m=d==Wg,b=c==d;if(b&&DS(t)){if(!DS(e))return!1;l=!0,g=!1}if(b&&!g)return o||(o=new Mb),l||e$(t)?qK(t,e,i,r,n,o):KK(t,e,c,i,r,n,o);if(!(i&t$)){var I=g&&ZS.call(t,"__wrapped__"),x=m&&ZS.call(e,"__wrapped__");if(I||x){var A=I?t.value():t,F=x?e.value():e;return o||(o=new Mb),n(A,F,i,r,o)}}return b?(o||(o=new Mb),$K(t,e,i,r,n,o)):!1}_S.exports=r$});var Zb=P((Ebe,HS)=>{var n$=kS(),VS=Xa();function US(t,e,i,r,n){return t===e?!0:t==null||e==null||!VS(t)&&!VS(e)?t!==t&&e!==e:n$(t,e,i,r,US,n)}HS.exports=US});var YS=P((Nbe,PS)=>{var o$=wg(),a$=Zb(),s$=1,l$=2;function u$(t,e,i,r){var n=i.length,o=n,l=!r;if(t==null)return!o;for(t=Object(t);n--;){var u=i[n];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<o;){u=i[n];var c=u[0],d=t[c],g=u[1];if(l&&u[2]){if(d===void 0&&!(c in t))return!1}else{var m=new o$;if(r)var b=r(d,g,c,t,e,m);if(!(b===void 0?a$(g,d,s$|l$,r,m):b))return!1}}return!0}PS.exports=u$});var _b=P((Wbe,zS)=>{var c$=lo();function d$(t){return t===t&&!c$(t)}zS.exports=d$});var jS=P((Obe,QS)=>{var p$=_b(),h$=Gb();function g$(t){for(var e=h$(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,p$(n)]}return e}QS.exports=g$});var kb=P((Gbe,JS)=>{function f$(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}JS.exports=f$});var KS=P((Lbe,qS)=>{var m$=YS(),b$=jS(),C$=kb();function v$(t){var e=b$(t);return e.length==1&&e[0][2]?C$(e[0][0],e[0][1]):function(i){return i===t||m$(i,t,e)}}qS.exports=v$});var Og=P((Xbe,$S)=>{var I$=Ls(),y$=Xa(),A$="[object Symbol]";function w$(t){return typeof t=="symbol"||y$(t)&&I$(t)==A$}$S.exports=w$});var Gg=P((Bbe,eR)=>{var x$=uo(),S$=Og(),R$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F$=/^\w*$/;function E$(t,e){if(x$(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||S$(t)?!0:F$.test(t)||!R$.test(t)||e!=null&&t in Object(e)}eR.exports=E$});var rR=P((Dbe,iR)=>{var tR=Ag(),N$="Expected a function";function Vb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(N$);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(Vb.Cache||tR),i}Vb.Cache=tR;iR.exports=Vb});var oR=P((Tbe,nR)=>{var W$=rR(),O$=500;function G$(t){var e=W$(t,function(r){return i.size===O$&&i.clear(),r}),i=e.cache;return e}nR.exports=G$});var sR=P((Mbe,aR)=>{var L$=oR(),X$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B$=/\\(\\)?/g,D$=L$(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(X$,function(i,r,n,o){e.push(n?o.replace(B$,"$1"):r||i)}),e});aR.exports=D$});var Ub=P((Zbe,lR)=>{function T$(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}lR.exports=T$});var gR=P((_be,hR)=>{var uR=sd(),M$=Ub(),Z$=uo(),_$=Og(),k$=1/0,cR=uR?uR.prototype:void 0,dR=cR?cR.toString:void 0;function pR(t){if(typeof t=="string")return t;if(Z$(t))return M$(t,pR)+"";if(_$(t))return dR?dR.call(t):"";var e=t+"";return e=="0"&&1/t==-k$?"-0":e}hR.exports=pR});var mR=P((kbe,fR)=>{var V$=gR();function U$(t){return t==null?"":V$(t)}fR.exports=U$});var md=P((Vbe,bR)=>{var H$=uo(),P$=Gg(),Y$=sR(),z$=mR();function Q$(t,e){return H$(t)?t:P$(t,e)?[t]:Y$(z$(t))}bR.exports=Q$});var ou=P((Ube,CR)=>{var j$=Og(),J$=1/0;function q$(t){if(typeof t=="string"||j$(t))return t;var e=t+"";return e=="0"&&1/t==-J$?"-0":e}CR.exports=q$});var Lg=P((Hbe,vR)=>{var K$=md(),$$=ou();function eee(t,e){e=K$(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[$$(e[i++])];return i&&i==r?t:void 0}vR.exports=eee});var yR=P((Pbe,IR)=>{var tee=Lg();function iee(t,e,i){var r=t==null?void 0:tee(t,e);return r===void 0?i:r}IR.exports=iee});var wR=P((Ybe,AR)=>{function ree(t,e){return t!=null&&e in Object(t)}AR.exports=ree});var SR=P((zbe,xR)=>{var nee=md(),oee=Sg(),aee=uo(),see=pd(),lee=Fg(),uee=ou();function cee(t,e,i){e=nee(e,t);for(var r=-1,n=e.length,o=!1;++r<n;){var l=uee(e[r]);if(!(o=t!=null&&i(t,l)))break;t=t[l]}return o||++r!=n?o:(n=t==null?0:t.length,!!n&&lee(n)&&see(l,n)&&(aee(t)||oee(t)))}xR.exports=cee});var FR=P((Qbe,RR)=>{var dee=wR(),pee=SR();function hee(t,e){return t!=null&&pee(t,e,dee)}RR.exports=hee});var NR=P((jbe,ER)=>{var gee=Zb(),fee=yR(),mee=FR(),bee=Gg(),Cee=_b(),vee=kb(),Iee=ou(),yee=1,Aee=2;function wee(t,e){return bee(t)&&Cee(e)?vee(Iee(t),e):function(i){var r=fee(i,t);return r===void 0&&r===e?mee(i,t):gee(e,r,yee|Aee)}}ER.exports=wee});var Xg=P((Jbe,WR)=>{function xee(t){return t}WR.exports=xee});var GR=P((qbe,OR)=>{function See(t){return function(e){return e?.[t]}}OR.exports=See});var XR=P((Kbe,LR)=>{var Ree=Lg();function Fee(t){return function(e){return Ree(e,t)}}LR.exports=Fee});var DR=P(($be,BR)=>{var Eee=GR(),Nee=XR(),Wee=Gg(),Oee=ou();function Gee(t){return Wee(t)?Eee(Oee(t)):Nee(t)}BR.exports=Gee});var Hb=P((eCe,TR)=>{var Lee=KS(),Xee=NR(),Bee=Xg(),Dee=uo(),Tee=DR();function Mee(t){return typeof t=="function"?t:t==null?Bee:typeof t=="object"?Dee(t)?Xee(t[0],t[1]):Lee(t):Tee(t)}TR.exports=Mee});var ZR=P((tCe,MR)=>{var Zee="Expected a function";function _ee(t){if(typeof t!="function")throw new TypeError(Zee);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}MR.exports=_ee});var Pb=P((iCe,_R)=>{var kee=La(),Vee=function(){try{var t=kee(Object,"defineProperty");return t({},"",{}),t}catch{}}();_R.exports=Vee});var Bg=P((rCe,VR)=>{var kR=Pb();function Uee(t,e,i){e=="__proto__"&&kR?kR(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}VR.exports=Uee});var Yb=P((nCe,UR)=>{var Hee=Bg(),Pee=ql(),Yee=Object.prototype,zee=Yee.hasOwnProperty;function Qee(t,e,i){var r=t[e];(!(zee.call(t,e)&&Pee(r,i))||i===void 0&&!(e in t))&&Hee(t,e,i)}UR.exports=Qee});var YR=P((oCe,PR)=>{var jee=Yb(),Jee=md(),qee=pd(),HR=lo(),Kee=ou();function $ee(t,e,i,r){if(!HR(t))return t;e=Jee(e,t);for(var n=-1,o=e.length,l=o-1,u=t;u!=null&&++n<o;){var c=Kee(e[n]),d=i;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(n!=l){var g=u[c];d=r?r(g,c,u):void 0,d===void 0&&(d=HR(g)?g:qee(e[n+1])?[]:{})}jee(u,c,d),u=u[c]}return t}PR.exports=$ee});var QR=P((aCe,zR)=>{var ete=Lg(),tte=YR(),ite=md();function rte(t,e,i){for(var r=-1,n=e.length,o={};++r<n;){var l=e[r],u=ete(t,l);i(u,l)&&tte(o,ite(l,t),u)}return o}zR.exports=rte});var Dg=P((sCe,jR)=>{var nte=Ob(),ote=nte(Object.getPrototypeOf,Object);jR.exports=ote});var qR=P((lCe,JR)=>{var ate=Sb(),ste=Dg(),lte=Eb(),ute=Fb(),cte=Object.getOwnPropertySymbols,dte=cte?function(t){for(var e=[];t;)ate(e,lte(t)),t=ste(t);return e}:ute;JR.exports=dte});var $R=P((uCe,KR)=>{function pte(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}KR.exports=pte});var t8=P((cCe,e8)=>{var hte=lo(),gte=Ng(),fte=$R(),mte=Object.prototype,bte=mte.hasOwnProperty;function Cte(t){if(!hte(t))return fte(t);var e=gte(t),i=[];for(var r in t)r=="constructor"&&(e||!bte.call(t,r))||i.push(r);return i}e8.exports=Cte});var Tg=P((dCe,i8)=>{var vte=Wb(),Ite=t8(),yte=fd();function Ate(t){return yte(t)?vte(t,!0):Ite(t)}i8.exports=Ate});var n8=P((pCe,r8)=>{var wte=Rb(),xte=qR(),Ste=Tg();function Rte(t){return wte(t,Ste,xte)}r8.exports=Rte});var a8=P((hCe,o8)=>{var Fte=Ub(),Ete=Hb(),Nte=QR(),Wte=n8();function Ote(t,e){if(t==null)return{};var i=Fte(Wte(t),function(r){return[r]});return e=Ete(e),Nte(t,i,function(r,n){return e(r,n[0])})}o8.exports=Ote});var l8=P((gCe,s8)=>{var Gte=Hb(),Lte=ZR(),Xte=a8();function Bte(t,e){return Xte(t,Lte(Gte(e)))}s8.exports=Bte});var u8,c8,zb,Qb,Mg=R(()=>{Fe();L4();u8=pe(l8()),c8=pe(ve()),zb=class extends Te.Component{render(){return null}componentDidUpdate(e){if(!c8.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let i=(0,u8.default)(this.props.formik.values,function(r,n){return e.formik.values[n]===r});Object.keys(i).length>0&&this.props.onChange(i,this.props.formik)}},Qb=G4(zb)});var jb=P((CCe,d8)=>{"use strict";d8.exports=function(e,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(i,n)}}});var Bi=P((vCe,g8)=>{"use strict";var Dte=jb(),qb=Object.prototype.toString,Kb=function(t){return function(e){var i=qb.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Bs(t){return t=t.toLowerCase(),function(i){return Kb(i)===t}}function $b(t){return Array.isArray(t)}function _g(t){return typeof t>"u"}function Tte(t){return t!==null&&!_g(t)&&t.constructor!==null&&!_g(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var p8=Bs("ArrayBuffer");function Mte(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&p8(t.buffer),e}function Zte(t){return typeof t=="string"}function _te(t){return typeof t=="number"}function h8(t){return t!==null&&typeof t=="object"}function Zg(t){if(Kb(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var kte=Bs("Date"),Vte=Bs("File"),Ute=Bs("Blob"),Hte=Bs("FileList");function eC(t){return qb.call(t)==="[object Function]"}function Pte(t){return h8(t)&&eC(t.pipe)}function Yte(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||qb.call(t)===e||eC(t.toString)&&t.toString()===e)}var zte=Bs("URLSearchParams");function Qte(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function jte(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function tC(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),$b(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function Jb(){var t={};function e(n,o){Zg(t[o])&&Zg(n)?t[o]=Jb(t[o],n):Zg(n)?t[o]=Jb({},n):$b(n)?t[o]=n.slice():t[o]=n}for(var i=0,r=arguments.length;i<r;i++)tC(arguments[i],e);return t}function Jte(t,e,i){return tC(e,function(n,o){i&&typeof n=="function"?t[o]=Dte(n,i):t[o]=n}),t}function qte(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Kte(t,e,i,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,i&&Object.assign(t.prototype,i)}function $te(t,e,i){var r,n,o,l={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],l[o]||(e[o]=t[o],l[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e}function eie(t,e,i){t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;var r=t.indexOf(e,i);return r!==-1&&r===i}function tie(t){if(!t)return null;var e=t.length;if(_g(e))return null;for(var i=new Array(e);e-- >0;)i[e]=t[e];return i}var iie=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));g8.exports={isArray:$b,isArrayBuffer:p8,isBuffer:Tte,isFormData:Yte,isArrayBufferView:Mte,isString:Zte,isNumber:_te,isObject:h8,isPlainObject:Zg,isUndefined:_g,isDate:kte,isFile:Vte,isBlob:Ute,isFunction:eC,isStream:Pte,isURLSearchParams:zte,isStandardBrowserEnv:jte,forEach:tC,merge:Jb,extend:Jte,trim:Qte,stripBOM:qte,inherits:Kte,toFlatObject:$te,kindOf:Kb,kindOfTest:Bs,endsWith:eie,toArray:tie,isTypedArray:iie,isFileList:Hte}});var iC=P((ICe,m8)=>{"use strict";var au=Bi();function f8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}m8.exports=function(e,i,r){if(!i)return e;var n;if(r)n=r(i);else if(au.isURLSearchParams(i))n=i.toString();else{var o=[];au.forEach(i,function(c,d){c===null||typeof c>"u"||(au.isArray(c)?d=d+"[]":c=[c],au.forEach(c,function(m){au.isDate(m)?m=m.toISOString():au.isObject(m)&&(m=JSON.stringify(m)),o.push(f8(d)+"="+f8(m))}))}),n=o.join("&")}if(n){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var C8=P((yCe,b8)=>{"use strict";var rie=Bi();function kg(){this.handlers=[]}kg.prototype.use=function(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};kg.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};kg.prototype.forEach=function(e){rie.forEach(this.handlers,function(r){r!==null&&e(r)})};b8.exports=kg});var I8=P((ACe,v8)=>{"use strict";var nie=Bi();v8.exports=function(e,i){nie.forEach(e,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(e[i]=n,delete e[o])})}});var Ds=P((wCe,x8)=>{"use strict";var y8=Bi();function su(t,e,i,r,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}y8.inherits(su,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var A8=su.prototype,w8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){w8[t]={value:t}});Object.defineProperties(su,w8);Object.defineProperty(A8,"isAxiosError",{value:!0});su.from=function(t,e,i,r,n,o){var l=Object.create(A8);return y8.toFlatObject(t,l,function(c){return c!==Error.prototype}),su.call(l,t.message,e,i,r,n),l.name=t.name,o&&Object.assign(l,o),l};x8.exports=su});var rC=P((xCe,S8)=>{"use strict";S8.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var nC=P((SCe,R8)=>{"use strict";var Vn=Bi();function oie(t,e){e=e||new FormData;var i=[];function r(o){return o===null?"":Vn.isDate(o)?o.toISOString():Vn.isArrayBuffer(o)||Vn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,l){if(Vn.isPlainObject(o)||Vn.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+l);i.push(o),Vn.forEach(o,function(c,d){if(!Vn.isUndefined(c)){var g=l?l+"."+d:d,m;if(c&&!l&&typeof c=="object"){if(Vn.endsWith(d,"{}"))c=JSON.stringify(c);else if(Vn.endsWith(d,"[]")&&(m=Vn.toArray(c))){m.forEach(function(b){!Vn.isUndefined(b)&&e.append(g,r(b))});return}}n(c,g)}}),i.pop()}else e.append(l,r(o))}return n(t),e}R8.exports=oie});var E8=P((RCe,F8)=>{"use strict";var oC=Ds();F8.exports=function(e,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):i(new oC("Request failed with status code "+r.status,[oC.ERR_BAD_REQUEST,oC.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var W8=P((FCe,N8)=>{"use strict";var Vg=Bi();N8.exports=Vg.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,l,u){var c=[];c.push(i+"="+encodeURIComponent(r)),Vg.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Vg.isString(o)&&c.push("path="+o),Vg.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var G8=P((ECe,O8)=>{"use strict";O8.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var X8=P((NCe,L8)=>{"use strict";L8.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var aC=P((WCe,B8)=>{"use strict";var aie=G8(),sie=X8();B8.exports=function(e,i){return e&&!aie(i)?sie(e,i):i}});var T8=P((OCe,D8)=>{"use strict";var sC=Bi(),lie=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];D8.exports=function(e){var i={},r,n,o;return e&&sC.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),r=sC.trim(u.substr(0,o)).toLowerCase(),n=sC.trim(u.substr(o+1)),r){if(i[r]&&lie.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i}});var _8=P((GCe,Z8)=>{"use strict";var M8=Bi();Z8.exports=M8.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var l=o;return e&&(i.setAttribute("href",l),l=i.href),i.setAttribute("href",l),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(l){var u=M8.isString(l)?n(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}()});var bd=P((LCe,V8)=>{"use strict";var lC=Ds(),uie=Bi();function k8(t){lC.call(this,t??"canceled",lC.ERR_CANCELED),this.name="CanceledError"}uie.inherits(k8,lC,{__CANCEL__:!0});V8.exports=k8});var H8=P((XCe,U8)=>{"use strict";U8.exports=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}});var uC=P((BCe,P8)=>{"use strict";var Cd=Bi(),cie=E8(),die=W8(),pie=iC(),hie=aC(),gie=T8(),fie=_8(),mie=rC(),ta=Ds(),bie=bd(),Cie=H8();P8.exports=function(e){return new Promise(function(r,n){var o=e.data,l=e.headers,u=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Cd.isFormData(o)&&Cd.isStandardBrowserEnv()&&delete l["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(m+":"+b)}var I=hie(e.baseURL,e.url);g.open(e.method.toUpperCase(),pie(I,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function x(){if(g){var E="getAllResponseHeaders"in g?gie(g.getAllResponseHeaders()):null,M=!u||u==="text"||u==="json"?g.responseText:g.response,k={data:M,status:g.status,statusText:g.statusText,headers:E,config:e,request:g};cie(function(_){r(_),d()},function(_){n(_),d()},k),g=null}}if("onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(n(new ta("Request aborted",ta.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new ta("Network Error",ta.ERR_NETWORK,e,g,g)),g=null},g.ontimeout=function(){var M=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",k=e.transitional||mie;e.timeoutErrorMessage&&(M=e.timeoutErrorMessage),n(new ta(M,k.clarifyTimeoutError?ta.ETIMEDOUT:ta.ECONNABORTED,e,g)),g=null},Cd.isStandardBrowserEnv()){var A=(e.withCredentials||fie(I))&&e.xsrfCookieName?die.read(e.xsrfCookieName):void 0;A&&(l[e.xsrfHeaderName]=A)}"setRequestHeader"in g&&Cd.forEach(l,function(M,k){typeof o>"u"&&k.toLowerCase()==="content-type"?delete l[k]:g.setRequestHeader(k,M)}),Cd.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),u&&u!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(E){g&&(n(!E||E&&E.type?new bie:E),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null);var F=Cie(I);if(F&&["http","https","file"].indexOf(F)===-1){n(new ta("Unsupported protocol "+F+":",ta.ERR_BAD_REQUEST,e));return}g.send(o)})}});var z8=P((DCe,Y8)=>{Y8.exports=null});var Hg=P((TCe,q8)=>{"use strict";var Di=Bi(),Q8=I8(),j8=Ds(),vie=rC(),Iie=nC(),yie={"Content-Type":"application/x-www-form-urlencoded"};function J8(t,e){!Di.isUndefined(t)&&Di.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Aie(){var t;return typeof XMLHttpRequest<"u"?t=uC():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=uC()),t}function wie(t,e,i){if(Di.isString(t))try{return(e||JSON.parse)(t),Di.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}var Ug={transitional:vie,adapter:Aie(),transformRequest:[function(e,i){if(Q8(i,"Accept"),Q8(i,"Content-Type"),Di.isFormData(e)||Di.isArrayBuffer(e)||Di.isBuffer(e)||Di.isStream(e)||Di.isFile(e)||Di.isBlob(e))return e;if(Di.isArrayBufferView(e))return e.buffer;if(Di.isURLSearchParams(e))return J8(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Di.isObject(e),n=i&&i["Content-Type"],o;if((o=Di.isFileList(e))||r&&n==="multipart/form-data"){var l=this.env&&this.env.FormData;return Iie(o?{"files[]":e}:e,l&&new l)}else if(r||n==="application/json")return J8(i,"application/json"),wie(e);return e}],transformResponse:[function(e){var i=this.transitional||Ug.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&Di.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?j8.from(l,j8.ERR_BAD_RESPONSE,this,null,this.response):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:z8()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Di.forEach(["delete","get","head"],function(e){Ug.headers[e]={}});Di.forEach(["post","put","patch"],function(e){Ug.headers[e]=Di.merge(yie)});q8.exports=Ug});var $8=P((MCe,K8)=>{"use strict";var xie=Bi(),Sie=Hg();K8.exports=function(e,i,r){var n=this||Sie;return xie.forEach(r,function(l){e=l.call(n,e,i)}),e}});var cC=P((ZCe,eF)=>{"use strict";eF.exports=function(e){return!!(e&&e.__CANCEL__)}});var rF=P((_Ce,iF)=>{"use strict";var tF=Bi(),dC=$8(),Rie=cC(),Fie=Hg(),Eie=bd();function pC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eie}iF.exports=function(e){pC(e),e.headers=e.headers||{},e.data=dC.call(e,e.data,e.headers,e.transformRequest),e.headers=tF.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),tF.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var i=e.adapter||Fie.adapter;return i(e).then(function(n){return pC(e),n.data=dC.call(e,n.data,n.headers,e.transformResponse),n},function(n){return Rie(n)||(pC(e),n&&n.response&&(n.response.data=dC.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var hC=P((kCe,nF)=>{"use strict";var qr=Bi();nF.exports=function(e,i){i=i||{};var r={};function n(g,m){return qr.isPlainObject(g)&&qr.isPlainObject(m)?qr.merge(g,m):qr.isPlainObject(m)?qr.merge({},m):qr.isArray(m)?m.slice():m}function o(g){if(qr.isUndefined(i[g])){if(!qr.isUndefined(e[g]))return n(void 0,e[g])}else return n(e[g],i[g])}function l(g){if(!qr.isUndefined(i[g]))return n(void 0,i[g])}function u(g){if(qr.isUndefined(i[g])){if(!qr.isUndefined(e[g]))return n(void 0,e[g])}else return n(void 0,i[g])}function c(g){if(g in i)return n(e[g],i[g]);if(g in e)return n(void 0,e[g])}var d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return qr.forEach(Object.keys(e).concat(Object.keys(i)),function(m){var b=d[m]||o,I=b(m);qr.isUndefined(I)&&b!==c||(r[m]=I)}),r}});var gC=P((VCe,oF)=>{oF.exports={version:"0.27.2"}});var lF=P((UCe,sF)=>{"use strict";var Nie=gC().version,Ba=Ds(),fC={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){fC[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var aF={};fC.transitional=function(e,i,r){function n(o,l){return"[Axios v"+Nie+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return function(o,l,u){if(e===!1)throw new Ba(n(l," has been removed"+(i?" in "+i:"")),Ba.ERR_DEPRECATED);return i&&!aF[l]&&(aF[l]=!0,console.warn(n(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,l,u):!0}};function Wie(t,e,i){if(typeof t!="object")throw new Ba("options must be an object",Ba.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),n=r.length;n-- >0;){var o=r[n],l=e[o];if(l){var u=t[o],c=u===void 0||l(u,o,t);if(c!==!0)throw new Ba("option "+o+" must be "+c,Ba.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ba("Unknown option "+o,Ba.ERR_BAD_OPTION)}}sF.exports={assertOptions:Wie,validators:fC}});var gF=P((HCe,hF)=>{"use strict";var dF=Bi(),Oie=iC(),uF=C8(),cF=rF(),Pg=hC(),Gie=aC(),pF=lF(),lu=pF.validators;function uu(t){this.defaults=t,this.interceptors={request:new uF,response:new uF}}uu.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Pg(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&pF.assertOptions(r,{silentJSONParsing:lu.transitional(lu.boolean),forcedJSONParsing:lu.transitional(lu.boolean),clarifyTimeoutError:lu.transitional(lu.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(i)===!1||(o=o&&I.synchronous,n.unshift(I.fulfilled,I.rejected))});var l=[];this.interceptors.response.forEach(function(I){l.push(I.fulfilled,I.rejected)});var u;if(!o){var c=[cF,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(l),u=Promise.resolve(i);c.length;)u=u.then(c.shift(),c.shift());return u}for(var d=i;n.length;){var g=n.shift(),m=n.shift();try{d=g(d)}catch(b){m(b);break}}try{u=cF(d)}catch(b){return Promise.reject(b)}for(;l.length;)u=u.then(l.shift(),l.shift());return u};uu.prototype.getUri=function(e){e=Pg(this.defaults,e);var i=Gie(e.baseURL,e.url);return Oie(i,e.params,e.paramsSerializer)};dF.forEach(["delete","get","head","options"],function(e){uu.prototype[e]=function(i,r){return this.request(Pg(r||{},{method:e,url:i,data:(r||{}).data}))}});dF.forEach(["post","put","patch"],function(e){function i(r){return function(o,l,u){return this.request(Pg(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}uu.prototype[e]=i(),uu.prototype[e+"Form"]=i(!0)});hF.exports=uu});var mF=P((PCe,fF)=>{"use strict";var Lie=bd();function cu(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var i=this;this.promise.then(function(r){if(i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(l){i.subscribe(l),n=l}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},t(function(n){i.reason||(i.reason=new Lie(n),e(i.reason))})}cu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};cu.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};cu.prototype.unsubscribe=function(e){if(this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};cu.source=function(){var e,i=new cu(function(n){e=n});return{token:i,cancel:e}};fF.exports=cu});var CF=P((YCe,bF)=>{"use strict";bF.exports=function(e){return function(r){return e.apply(null,r)}}});var IF=P((zCe,vF)=>{"use strict";var Xie=Bi();vF.exports=function(e){return Xie.isObject(e)&&e.isAxiosError===!0}});var wF=P((QCe,mC)=>{"use strict";var yF=Bi(),Bie=jb(),Yg=gF(),Die=hC(),Tie=Hg();function AF(t){var e=new Yg(t),i=Bie(Yg.prototype.request,e);return yF.extend(i,Yg.prototype,e),yF.extend(i,e),i.create=function(n){return AF(Die(t,n))},i}var Xr=AF(Tie);Xr.Axios=Yg;Xr.CanceledError=bd();Xr.CancelToken=mF();Xr.isCancel=cC();Xr.VERSION=gC().version;Xr.toFormData=nC();Xr.AxiosError=Ds();Xr.Cancel=Xr.CanceledError;Xr.all=function(e){return Promise.all(e)};Xr.spread=CF();Xr.isAxiosError=IF();mC.exports=Xr;mC.exports.default=Xr});var Kr=P((jCe,xF)=>{xF.exports=wF()});var zg,SF,RF=R(()=>{zg=()=>new Map,SF=(t,e,i)=>{let r=t.get(e);return r===void 0&&t.set(e,r=i()),r}});var FF,EF=R(()=>{FF=()=>new Set});var NF,JCe,WF=R(()=>{NF=Array.from,JCe=Array.isArray});var du,bC=R(()=>{RF();EF();WF();du=class{constructor(){this._observers=zg()}on(e,i){SF(this._observers,e,FF).add(i)}once(e,i){let r=(...n)=>{this.off(e,r),i(...n)};this.on(e,r)}off(e,i){let r=this._observers.get(e);r!==void 0&&(r.delete(i),r.size===0&&this._observers.delete(e))}emit(e,i){return NF((this._observers.get(e)||zg()).values()).forEach(r=>r(...i))}destroy(){this._observers=zg()}}});var kie,Qg,vd,CC,Vie,OF=R(()=>{bC();kie=typeof window<"u"&&window.fetch,Qg=null,vd=async(t,e,i)=>{i.headers=i.headers||{},i.headers.Accept="application/json, text/plain, */*",i.withCredentials&&!i.hasOwnProperty("credentials")&&(delete i.withCredentials,i.credentials="include"),t.hasAuthorization()&&(i.headers.Authorization="Bearer "+Qg);let r;try{r=await kie(e,i)}catch(n){throw t.emit("error",[n,i]),n}if(i.responseType==="blob")r.data=await r.blob();else{let n=await r.text();try{r.data=JSON.parse(n)}catch{r.data=n}}if(r.status<200||r.status>=300)throw t.emit("rejected",[r,i]),r;return r},CC=class extends du{setAuthorization=e=>{Qg=e};hasAuthorization=()=>typeof Qg=="string"&&Qg.length>0;get=(e,i={})=>(i.method="GET",vd(this,e,i));post=(e,i,r={})=>{if(r.method="POST",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return vd(this,e,r)};put=(e,i,r={})=>{if(r.method="PUT",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return vd(this,e,r)};patch=(e,i,r={})=>{if(r.method="PATCH",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return vd(this,e,r)};delete=(e,i,r={})=>{if(r.method="DELETE",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return vd(this,e,r)}},Vie=new CC});var GF=R(()=>{});var LF=R(()=>{Fe();GF();Y()});var XF=R(()=>{});var co,Id=R(()=>{Fe();XF();Y();co=({customStyle:t,className:e})=>f("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var BF,jg,DF=R(()=>{Fe();BF=pe(ve());LF();Id();Y();jg=class extends oe{constructor(e){super(e),this.ref=Te.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(BF.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return f("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[f("span",{className:"slide-message",children:this.props.slideMessage}),f("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),f("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?f(co,{className:"accent"}):null]})}}});var TF=R(()=>{});var vC,yd,Jg,qg=R(()=>{Fe();vC=pe(ve());DF();Id();TF();Y();yd=Te.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null}),Jg=class extends oe{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=Te.createRef(),this.inputRef=Te.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let i=vC.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),i.onOpen&&i.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),i.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),window.addEventListener("keydown",this.onTabKeyDown),i.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...i},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),i.frontendData&&i.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let i=vC.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current)this.state.onConfirm&&this.state.onConfirm(this.inputRef.current.value);else{let i={};i.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(i)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventCancel||this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let i=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&i&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",i=this.state.denyButton||"Cancel",r=this.state.header&&f("div",{className:"header",children:this.state.header}),n=this.state.message&&f("div",{className:"sub-message",children:this.state.message}),o=this.state.htmlHeader&&f("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),l=this.state.htmlMessage&&f("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),u=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&f("button",{className:"confirm rounded",onClick:E=>this.confirmModal(E,null),children:[e,this.state.processConfirm?f(co,{className:"default-border-radius"}):""]}),g=!this.state.preventCancel&&f("button",{className:"deny rounded",onClick:this.denyModal,children:i}),m=this.state.children&&!this.state.wrapperlessChildren?f("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,b=()=>f(ee,{children:[f("div",{className:"message",children:[r,n]}),f("div",{className:"opt-buttons",children:[g,d]})]}),I=()=>f(ee,{children:[f("div",{className:"message",children:[r,n,o,l]}),f("div",{className:"input"}),f("div",{className:"buttons",children:d})]}),x=()=>f(ee,{children:[f("div",{className:"message",children:[r,o,n,l]}),m,f("div",{className:"input"}),f("div",{className:"buttons",children:[g,d]})]}),A=()=>f(ee,{children:[f("div",{className:"message",children:[r,n]}),f("div",{className:"input",children:this.state.maxInputLength?f("input",{type:"text",maxLength:this.state.maxInputLength,placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef}):f("input",{type:"text",placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef})}),f("div",{className:"buttons",children:[f("button",{className:"deny rounded",onClick:this.denyModal,children:"Cancel"}),f("button",{className:"confirm rounded",onClick:E=>this.confirmModal(E,null),children:"OK"})]})]}),F=()=>f(ee,{children:[f("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?f("div",{className:"footer",children:f("label",{onClick:E=>{E.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,f("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,f("div",{className:"buttons",children:[this.state.cancelButton?f("button",{className:"deny rounded",onClick:this.cancelModal,children:"Cancel"}):null,f("button",{className:"deny rounded",onClick:this.denyModal,children:this.state.denyButton}),f("button",{className:"confirm rounded",onClick:E=>this.confirmModal(E,null),children:this.state.confirmButton})]})]});return f(yd.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal},children:[this.state.modalOpen?f(ee,{children:[this.state.HotKeyProxy?f(ee,{children:[this.state.type!=="slide-confirm"&&this.state.HotKeyProxy("enter","all",this.confirmModal),this.state.HotKeyProxy("escape","all",this.cancelModal)]}):null,f("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancel||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:f("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[this.state.type==="alert"&&f(b,{}),this.state.type==="notice"&&f(I,{}),this.state.type==="confirm"&&f(x,{}),this.state.type==="dialog"&&f(A,{}),this.state.type==="publish"&&f(F,{}),this.state.type==="custom"&&f(ee,{children:[f("div",{className:"message",children:[r,n]}),m]}),this.state.type==="slide-confirm"&&f(ee,{children:[f("div",{className:"message",children:[r,n,o,l,m]}),f("div",{className:"buttons",children:[f("br",{}),f("br",{}),f("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),f(jg,{onConfirm:E=>this.confirmModal(E,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})]}):null,this.props.children]})}}});var Gve,IC=R(()=>{Fe();Gve=pe(ve());ut();qg();Ze();Y()});var MF=R(()=>{Fe();Fe();Ze();B0();Y()});var jve,Jve,qve,ZF=R(()=>{jve=Object.freeze({New:0,Published:1,Draft:2,Deleted:3}),Jve=Object.freeze({Error:-1,Publishing:0,Published:1,Draft:2,Discarding:3,Discarded:4,SavingAs:5}),qve=Object.freeze({Undoable:0,Publishable:1,NotUndoable:2,NotPublishable:3,NotUndoableNotPublishable:4})});var Kg=R(()=>{Fe();Fe();Ze();ZF();Y()});var Hie,kF=R(()=>{Fe();Hie=pe(ve());Ze();IC();MF();Kg();Y()});var VF=R(()=>{});var yIe,Pie,Yie,UF=R(()=>{Fe();yIe=pe(ve());Y();Pie=Or((t,e)=>{let{field:i,form:r,onEnter:n,onBlur:o,onFocus:l,onKeyDown:u,setHint:c,setSuggestion:d,maxLength:g,focusOnInit:m,formatFields:b,setIsFocused:I,placeholder:x,deriveSuggestion:A,suggestion:F}=t,E=Ei();bi(()=>{function Z(L){L.detail.name===i.name&&(r.setFieldValue(i.name,L.detail.message,!1),T(),d(""),c(""))}return document.addEventListener("set-autofill-from-parent",Z),()=>{document.removeEventListener("set-autofill-from-parent",Z)}},[]),bi(()=>{E.current.textContent=i.value,m&&T()},[]),bi(()=>{E.current.textContent!==i.value&&(i.value===""||!i.value?E.current.innerHTML="":E.current.textContent=i.value)},[i.value]),bi(()=>{let Z=E.current,L=new MutationObserver(function(de){for(var $ of de)$.type==="childList"&&$.addedNodes.length>0&&$.addedNodes.forEach(function(q){q.nodeType!==Node.TEXT_NODE&&q.remove()})}),re={childList:!0,subtree:!0};return L.observe(Z,re),()=>{L.disconnect()}},[]);let M=Z=>{if(Z&&Z.which!==13&&(k(Z.which)||Z.which===91)){let L=Z.target.textContent;L.replace(/\s+/g,""),r&&L!==i.value&&r.setFieldValue(i.name,L,!1),typeof value<"u"&&value!==null&&L.trim()===""&&L.length===0&&(E.current.innerHTML="")}Z&&(Z.which==13||Z.key==="Enter")&&F&&F.length>0&&(Z.preventDefault(),r.setFieldValue(i.name,F,!1),A(null),T()),Z.type==="keyup"&&(Z.which==13||Z.key==="Enter")&&(!F||F?.length===0)&&(Z.preventDefault(),n&&n(Z))},k=Z=>Z>7&&Z<14||Z>45&&Z<58||Z==32||Z>64&&Z<91||Z>95&&Z<112||Z>185&&Z<193||Z>218&&Z<223,T=()=>{window.requestAnimationFrame(()=>{let Z=i?.value.length||0;E?.current&&Z!==void 0&&(E?.current.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd(),E.current.parentElement.scrollLeft=E.current.parentElement.scrollWidth)})},_=Z=>{b();let L=E?.current?.textContent.length||0;if(u&&u(Z),g&&L+1>=g){if(Z.which==8)return;Z.preventDefault(),Z.nativeEvent.stopImmediatePropagation();return}return Z&&(Z.which==9||Z.key==="Tab")&&F&&F.length>0&&(Z.preventDefault(),r.setFieldValue(i.name,F,!1),A(null),T()),Z.which==13&&Z.preventDefault(),Z.which!=13},ne=Z=>{let L=Z.nativeEvent.clipboardData.getData("text/plain");Z.stopPropagation(),Z.preventDefault(),L=L.replace(/\s+/g," ").trim(),E.current.textContent=L,A(E.current.textContent),T()};return f("span",{ref:E,contentEditable:!0,suppressContentEditableWarning:!0,className:"editable-value admin-content-editable-input",tabIndex:"0",maxLength:g,placeholder:x,onFocus:Z=>{I(!0),l&&l(Z),M(Z)},onBlur:Z=>{I(!1),o&&o(Z)},onKeyDown:Z=>{_(Z)},onPaste:Z=>{ne(Z)},onKeyUp:Z=>{M(Z)},onChange:Z=>{M(Z)},onInput:Z=>{A(E.current.textContent)}})},(t,e)=>t.field.value===e.field.value&&t.form===e.form),Yie=Te.memo(Pie)});var zie,HF=R(()=>{Fe();ui();zie=pe(ve());VF();UF();Y()});var yC=R(()=>{Fe();Y()});var jie,Jie,PF=R(()=>{Fe();ut();Mg();Ze();jie=pe(Kr());OF();Jie=pe(ve());Ze();IC();kF();HF();Kg();yC();Id();Y()});var YF=R(()=>{});var qie,zF=R(()=>{Fe();qie=pe(ve());YF();Y()});var QF=R(()=>{PF();zF()});var jF=R(()=>{Fe();Y()});var JF=R(()=>{Fe();Y()});var Kie,qF=R(()=>{Kie=pe(ve())});var KF=R(()=>{Ze();Fe();Y()});var $F=R(()=>{});var $ie,eE=R(()=>{Fe();$ie=pe(ve());Kg();jF();yC();qg();JF();Mg();qF();KF();$F();Y()});var tE=R(()=>{eE()});var wC={};Kt(wC,{default:()=>ere});var AC,ere,iE=R(()=>{ui();AC={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};AC.defaults=Bt(AC.options);ere=AC});var xC={};Kt(xC,{default:()=>tre});var ef,tre,rE=R(()=>{ui();ef={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};ef.defaults=Bt(ef.options);ef.customShuffle=t=>{let e={...t},i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:i=r=n=0;break;case 1:i=r=n=255;break;case 2:case 3:i=r=n;break}e["color-one"]="rgb("+i+", "+r+", "+n+")";let l=[];if(Math.random()>.3)for(var u=0;u<3;u++)l.push(Math.random()*240+-120);else l[0]=l[1]=l[2]=Math.random()*240+-120;let c=Math.floor(i+l[0]+1024)%256,d=Math.floor(r+l[1]+1024)%256,g=Math.floor(n+l[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+g+")";let m=Math.floor((i+l[0]+1024)*2)%256,b=Math.floor((r+l[1]+1024)*2)%256,I=Math.floor((n+l[2]+1024)*2)%256;return e["color-three"]="rgb("+m+", "+b+", "+I+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};tre=ef});var RC={};Kt(RC,{default:()=>rre,onChangeCustom:()=>ire});var t2e,ire,SC,rre,nE=R(()=>{ui();t2e=pe(ve()),ire=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=JSON.parse(e.filters);for(let[o,l]of Object.entries(r))switch(o){case"filters":i.UpdateFilters(n);break;case"rgb":case"film":case"badtv":i.ToggleComponent(n);break;case"image":i.UpdateImage(l);break;default:i.UpdateSettings(e)}},SC={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};SC.defaults=Bt(SC.options);rre=SC});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Ge(t,e){if(t=t||"",e=e||{},t instanceof Ge)return t;if(!(this instanceof Ge))return new Ge(t,e);var i=are(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function are(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,o=null,l=!1,u=!1;return typeof t=="string"&&(t=Rre(t)),tf(t)=="object"&&(ia(t.r)&&ia(t.g)&&ia(t.b)?(e=sre(t.r,t.g,t.b),l=!0,u=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ia(t.h)&&ia(t.s)&&ia(t.v)?(r=Ad(t.s),n=Ad(t.v),e=ure(t.h,r,n),l=!0,u="hsv"):ia(t.h)&&ia(t.s)&&ia(t.l)&&(r=Ad(t.s),o=Ad(t.l),e=lre(t.h,r,o),l=!0,u="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=dE(i),{ok:l,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function sre(t,e,i){return{r:$t(t,255)*255,g:$t(e,255)*255,b:$t(i,255)*255}}function oE(t,e,i){t=$t(t,255),e=$t(e,255),i=$t(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=(r+n)/2;if(r==n)o=l=0;else{var c=r-n;switch(l=u>.5?c/(2-r-n):c/(r+n),r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,l:u}}function lre(t,e,i){var r,n,o;t=$t(t,360),e=$t(e,100),i=$t(i,100);function l(d,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?d+(g-d)*6*m:m<1/2?g:m<2/3?d+(g-d)*(2/3-m)*6:d}if(e===0)r=n=o=i;else{var u=i<.5?i*(1+e):i+e-i*e,c=2*i-u;r=l(c,u,t+1/3),n=l(c,u,t),o=l(c,u,t-1/3)}return{r:r*255,g:n*255,b:o*255}}function aE(t,e,i){t=$t(t,255),e=$t(e,255),i=$t(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=r,c=r-n;if(l=r===0?0:c/r,r==n)o=0;else{switch(r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,v:u}}function ure(t,e,i){t=$t(t,360)*6,e=$t(e,100),i=$t(i,100);var r=Math.floor(t),n=t-r,o=i*(1-e),l=i*(1-n*e),u=i*(1-(1-n)*e),c=r%6,d=[i,l,o,o,u,i][c],g=[u,i,i,l,o,o][c],m=[o,o,u,i,i,l][c];return{r:d*255,g:g*255,b:m*255}}function sE(t,e,i,r){var n=[Hn(Math.round(t).toString(16)),Hn(Math.round(e).toString(16)),Hn(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function cre(t,e,i,r,n){var o=[Hn(Math.round(t).toString(16)),Hn(Math.round(e).toString(16)),Hn(Math.round(i).toString(16)),Hn(pE(r))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function lE(t,e,i,r){var n=[Hn(pE(r)),Hn(Math.round(t).toString(16)),Hn(Math.round(e).toString(16)),Hn(Math.round(i).toString(16))];return n.join("")}function dre(t,e){e=e===0?0:e||10;var i=Ge(t).toHsl();return i.s-=e/100,i.s=rf(i.s),Ge(i)}function pre(t,e){e=e===0?0:e||10;var i=Ge(t).toHsl();return i.s+=e/100,i.s=rf(i.s),Ge(i)}function hre(t){return Ge(t).desaturate(100)}function gre(t,e){e=e===0?0:e||10;var i=Ge(t).toHsl();return i.l+=e/100,i.l=rf(i.l),Ge(i)}function fre(t,e){e=e===0?0:e||10;var i=Ge(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Ge(i)}function mre(t,e){e=e===0?0:e||10;var i=Ge(t).toHsl();return i.l-=e/100,i.l=rf(i.l),Ge(i)}function bre(t,e){var i=Ge(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Ge(i)}function Cre(t){var e=Ge(t).toHsl();return e.h=(e.h+180)%360,Ge(e)}function uE(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Ge(t).toHsl(),r=[Ge(t)],n=360/e,o=1;o<e;o++)r.push(Ge({h:(i.h+o*n)%360,s:i.s,l:i.l}));return r}function vre(t){var e=Ge(t).toHsl(),i=e.h;return[Ge(t),Ge({h:(i+72)%360,s:e.s,l:e.l}),Ge({h:(i+216)%360,s:e.s,l:e.l})]}function Ire(t,e,i){e=e||6,i=i||30;var r=Ge(t).toHsl(),n=360/i,o=[Ge(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,o.push(Ge(r));return o}function yre(t,e){e=e||6;for(var i=Ge(t).toHsv(),r=i.h,n=i.s,o=i.v,l=[],u=1/e;e--;)l.push(Ge({h:r,s:n,v:o})),o=(o+u)%1;return l}function wre(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function dE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function $t(t,e){xre(t)&&(t="100%");var i=Sre(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function rf(t){return Math.min(1,Math.max(0,t))}function $r(t){return parseInt(t,16)}function xre(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Sre(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Hn(t){return t.length==1?"0"+t:""+t}function Ad(t){return t<=1&&(t=t*100+"%"),t}function pE(t){return Math.round(parseFloat(t)*255).toString(16)}function cE(t){return $r(t)/255}function ia(t){return!!Un.CSS_UNIT.exec(t)}function Rre(t){t=t.replace(nre,"").replace(ore,"").toLowerCase();var e=!1;if(FC[t])t=FC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Un.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Un.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Un.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Un.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Un.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Un.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Un.hex8.exec(t))?{r:$r(i[1]),g:$r(i[2]),b:$r(i[3]),a:cE(i[4]),format:e?"name":"hex8"}:(i=Un.hex6.exec(t))?{r:$r(i[1]),g:$r(i[2]),b:$r(i[3]),format:e?"name":"hex"}:(i=Un.hex4.exec(t))?{r:$r(i[1]+""+i[1]),g:$r(i[2]+""+i[2]),b:$r(i[3]+""+i[3]),a:cE(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=Un.hex3.exec(t))?{r:$r(i[1]+""+i[1]),g:$r(i[2]+""+i[2]),b:$r(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function Fre(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}var nre,ore,FC,Are,Un,po=R(()=>{nre=/^\s+/,ore=/\s+$/;Ge.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,n,o,l,u;return i=e.r/255,r=e.g/255,n=e.b/255,i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*o+.7152*l+.0722*u},setAlpha:function(e){return this._a=dE(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=aE(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=aE(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+n+"%)":"hsva("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=oE(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=oE(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+n+"%)":"hsla("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return sE(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return cre(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round($t(this._r,255)*100)+"%",g:Math.round($t(this._g,255)*100)+"%",b:Math.round($t(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round($t(this._r,255)*100)+"%, "+Math.round($t(this._g,255)*100)+"%, "+Math.round($t(this._b,255)*100)+"%)":"rgba("+Math.round($t(this._r,255)*100)+"%, "+Math.round($t(this._g,255)*100)+"%, "+Math.round($t(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Are[sE(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+lE(this._r,this._g,this._b,this._a),r=i,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ge(e);r="#"+lE(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!i&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ge(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(gre,arguments)},brighten:function(){return this._applyModification(fre,arguments)},darken:function(){return this._applyModification(mre,arguments)},desaturate:function(){return this._applyModification(dre,arguments)},saturate:function(){return this._applyModification(pre,arguments)},greyscale:function(){return this._applyModification(hre,arguments)},spin:function(){return this._applyModification(bre,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(Ire,arguments)},complement:function(){return this._applyCombination(Cre,arguments)},monochromatic:function(){return this._applyCombination(yre,arguments)},splitcomplement:function(){return this._applyCombination(vre,arguments)},triad:function(){return this._applyCombination(uE,[3])},tetrad:function(){return this._applyCombination(uE,[4])}};Ge.fromRatio=function(t,e){if(tf(t)=="object"){var i={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?i[r]=t[r]:i[r]=Ad(t[r]));t=i}return Ge(t,e)};Ge.equals=function(t,e){return!t||!e?!1:Ge(t).toRgbString()==Ge(e).toRgbString()};Ge.random=function(){return Ge.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Ge.mix=function(t,e,i){i=i===0?0:i||50;var r=Ge(t).toRgb(),n=Ge(e).toRgb(),o=i/100,l={r:(n.r-r.r)*o+r.r,g:(n.g-r.g)*o+r.g,b:(n.b-r.b)*o+r.b,a:(n.a-r.a)*o+r.a};return Ge(l)};Ge.readability=function(t,e){var i=Ge(t),r=Ge(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Ge.isReadable=function(t,e,i){var r=Ge.readability(t,e),n,o;switch(o=!1,n=Fre(i),n.level+n.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Ge.mostReadable=function(t,e,i){var r=null,n=0,o,l,u,c;i=i||{},l=i.includeFallbackColors,u=i.level,c=i.size;for(var d=0;d<e.length;d++)o=Ge.readability(t,e[d]),o>n&&(n=o,r=Ge(e[d]));return Ge.isReadable(t,r,{level:u,size:c})||!l?r:(i.includeFallbackColors=!1,Ge.mostReadable(t,["#fff","#000"],i))};FC=Ge.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Are=Ge.hexNames=wre(FC);Un=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var EC={};Kt(EC,{default:()=>Nre,onChangeCustom:()=>Ere});var o2e,Ere,wd,Nre,hE=R(()=>{ui();o2e=pe(ve());po();Ere=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color_r")&&(i.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(i.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(i.Update("color_b",r.color_b),delete r.color_b);for(let[n,o]of Object.entries(r))i.Update(n,o)},wd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};wd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}if(e.background_color){let i=Ge(e.background_color),r=i.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=i.toHexString()}return e};wd.defaults=Bt(wd.options);wd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Nre=wd});var NC={};Kt(NC,{default:()=>Ore,onChangeCustom:()=>Wre});var u2e,Wre,pu,Ore,gE=R(()=>{ui();u2e=pe(ve());po();Wre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},pu={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};pu.defaults=Bt(pu.options);pu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";pu.defaults.rgb={value:"rgb(255,255,255)"};pu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let i=Ge(e.color);e.rgb=i.toRgbString(),e.color=i.toRgbString(),e.alpha=i.getAlpha()}return e};Ore=pu});var WC={};Kt(WC,{default:()=>Lre,onChangeCustom:()=>Gre});var h2e,Gre,hu,Lre,fE=R(()=>{ui();h2e=pe(ve());po();Gre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},hu={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};hu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};hu.defaults=Bt(hu.options);hu.defaults.alpha={value:0};hu.defaults.hex={value:"#fff"};Lre=hu});var OC={};Kt(OC,{default:()=>Bre,onChangeCustom:()=>Xre});var b2e,Xre,gu,Bre,mE=R(()=>{ui();b2e=pe(ve());po();Xre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},gu={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};gu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};gu.defaults=Bt(gu.options);gu.defaults.alpha={value:0};gu.defaults.hex={value:"#000000"};Bre=gu});var GC={};Kt(GC,{default:()=>Tre,onChangeCustom:()=>Dre});var y2e,Dre,Ts,Tre,bE=R(()=>{ui();y2e=pe(ve());po();Dre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Ts={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};Ts.defaults=Bt(Ts.options);Ts.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Ts.defaults.rgb={value:"rgb(255,255,255)"};Ts.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Ts.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);Tre=Ts});var LC={};Kt(LC,{default:()=>Zre,onChangeCustom:()=>Mre});var S2e,Mre,xd,Zre,CE=R(()=>{ui();S2e=pe(ve());po();Mre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r)){let l=!0;if(n==="image"&&(o!==void 0&&o?i.obj.loadImage(o):l=!1),n!==void 0&&l===!0){let u={};u[n]=o,i.Update(n,o),i.obj.updateSettings(u)}}},xd={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};xd.transformChanges=(t,e)=>{if(e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};xd.defaults=Bt(xd.options);xd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Zre=xd});var XC={};Kt(XC,{default:()=>kre,onChangeCustom:()=>_re});var N2e,_re,Sd,kre,vE=R(()=>{ui();N2e=pe(ve());po();_re=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Sd={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Sd.defaults=Bt(Sd.options);Sd.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Sd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}return e};kre=Sd});var BC={};Kt(BC,{default:()=>Ure,onChangeCustom:()=>Vre});var L2e,Vre,Rd,Ure,IE=R(()=>{ui();L2e=pe(ve());po();Vre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Rd={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};Rd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Rd.defaults=Bt(Rd.options);Rd.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";Ure=Rd});var DC={};Kt(DC,{default:()=>Pre,onChangeCustom:()=>Hre});var T2e,Hre,nf,Pre,yE=R(()=>{ui();T2e=pe(ve()),Hre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},nf={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};nf.defaults=Bt(nf.options);nf.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Pre=nf});var TC={};Kt(TC,{default:()=>zre,onChangeCustom:()=>Yre});var _2e,Yre,fu,zre,AE=R(()=>{ui();_2e=pe(ve());po();Yre=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=[];for(let[o,l]of Object.entries(r))i.Update(o,l)},fu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};fu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ge(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};fu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};fu.defaults=Bt(fu.options);fu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";zre=fu});var MC={};Kt(MC,{default:()=>jre,onChangeCustom:()=>Qre});var H2e,wE,Qre,Fd,jre,xE=R(()=>{ui();H2e=pe(ve()),wE={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},Qre=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,o]of Object.entries(r))i.Update(n,o)},Fd={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};Fd.transformChanges=(t,e)=>(e.preset_pattern&&(wE[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...wE[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);Fd.defaults=Bt(Fd.options);Fd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";jre=Fd});var Ta={};Kt(Ta,{badtv:()=>RC,gradient:()=>xC,halftone:()=>TC,kaleidoscope:()=>LC,morphovision:()=>BC,parallax:()=>EC,pixelation:()=>GC,polygon_engine:()=>XC,refraction:()=>NC,ripple:()=>WC,slitscan:()=>OC,video:()=>MC,wallpaper:()=>wC,wave:()=>DC});var SE=R(()=>{iE();rE();nE();hE();gE();fE();mE();bE();CE();vE();IE();yE();AE();xE()});var mu,ZC,Da,ni,$g,Ms,_C,kC,VC=R(()=>{mu="cargo.site",ZC="wss://w.s.cargo.site",Da="https://u.cargo.site",ni="https://api.cargo.site/v1",$g="https://cargo.site/_api",Ms="https://cargo.site",_C="https://cargo.site/_api/v1-p",kC="yjhpd2ug";switch("production"){case"localhost":case"local-ssr":mu="local.dev.cargo.site",ZC="wss://ws.dev.cargo.site",Da="https://u.local.dev.cargo.site",ni="https://api.dev.cargo.site/v1",$g="https://dev.cargo.site/_api",Ms="https://dev.cargo.site",_C="https://dev.cargo.site/_api/v1-p",kC="na91uuyv";break;case"local-crdt":mu="local.dev.cargo.site",ZC="wss://ws.local.dev.cargo.site:4443",Da="https://u.local.dev.cargo.site",ni="https://api.dev.cargo.site/v1",$g="https://dev.cargo.site/_api",Ms="https://dev.cargo.site",_C="https://dev.cargo.site/_api/v1-p",kC="na91uuyv";break;case"dev":mu="dev.cargo.site",ZC="wss://ws.dev.cargo.site",Da="https://u.dev.cargo.site",ni="https://api.dev.cargo.site/v1",$g="https://dev.cargo.site/_api",Ms="https://dev.cargo.site",_C="https://dev.cargo.site/_api/v1-p",kC="na91uuyv";break}});var RE=R(()=>{});var FE,EE,UC,NE,WE=R(()=>{Fe();ut();ri();VC();Id();RE();Y();FE=0,EE=null;typeof window<"u"&&window.__ACCESS_TOKEN_NONCE__&&(EE=window.__ACCESS_TOKEN_NONCE__,delete window.__ACCESS_TOKEN_NONCE__);UC=class extends oe{constructor(e){super(e),this.state={error:null,loading:!1,checkingCookieAuth:!0,formView:e.canCreateNewAccount?"newAcct":"login",resetEmail:null,prevFormState:null},this.containerRef=Te.createRef();let i=new URLSearchParams(window.location.search),r=i.get("t");if(i.has("t")){i.delete("t");let n=i.toString();n.length>0&&(n="?"+n),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+n)}if(this.props.loginToUdotCargoOnly){this.state.checkingCookieAuth=!1;return}if(FE>=1){this.state.checkingCookieAuth=!1;return}if(r==="")this.state.checkingCookieAuth=!1;else{let n=!1;this.props.domain_active&&r===null&&(n=!0);let o={timeout:3e3,jwt:r,bounce:n,nonce:EE};this.props.site_url&&(o.site_url=this.props.site_url),this.props.site_id&&(o.site_id=this.props.site_id),this.props.getAuthToken(o).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{FE++,!n&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingCookieAuth:!1})})})}}render(){return this.state.checkingCookieAuth||this.props.cookieAuthOnly?null:f("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:e=>{if(this.props.canClickout&&!e.target.closest(".login-modal")){let i=new CustomEvent("remove-login-form");document.dispatchEvent(i),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:f("div",{className:"login-modal custom login-frame",children:[f("div",{className:"login-header",children:[f("div",{className:"logo-box",children:f("div",{className:"logo",children:f("svg",{width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.521458 11.5988H4.49769C4.90909 11.5988 5.2426 11.9403 5.2426 12.3615C5.2426 12.4348 5.23229 12.5076 5.212 12.5779L3.26311 19.3227C3.21643 19.4842 3.3065 19.6539 3.46431 19.7017C3.58148 19.7372 3.70795 19.6959 3.78333 19.5974L11.8889 9.01082C12.0666 8.77877 12.0269 8.44319 11.8002 8.26129C11.7084 8.18761 11.5952 8.14758 11.4785 8.14758H7.64746C7.23606 8.14758 6.90255 7.80611 6.90255 7.3849C6.90255 7.31158 6.91287 7.23865 6.9332 7.16835L8.89307 0.391703C8.93979 0.23015 8.84976 0.0604064 8.69197 0.0125694C8.57559 -0.0227134 8.44994 0.0178057 8.37431 0.115005L0.113608 10.7323C-0.065826 10.9629 -0.0286851 11.2988 0.196564 11.4825C0.288885 11.5578 0.403425 11.5988 0.521458 11.5988Z",fill:"var(--ui-color-flat-reverse)"})})})}),f("div",{className:"title",children:this.state.formView==="newAcct"?"Login or Sign Up":this.state.formView==="login"?"Login":"Reset Password"})]}),this.state.loading&&"",this.state.formView==="newAcct"?f("form",{children:[f("div",{className:"input-fields",children:[f("div",{className:"text-input bars",children:f("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),f("div",{className:"text-input bars",children:f("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&f("div",{className:"error",style:{color:"red"},children:[f("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),f("div",{className:"login-options",children:[f("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(i)&&this.login(i)},children:[this.state.loading&&f(co,{className:"accent default-border-radius"}),"OK"]}),f("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"newAcct"})},children:"Forgot?"})]})]}):null,this.state.formView==="login"?f("form",{children:[f("div",{className:"input-fields",children:[f("div",{className:"text-input bars",children:f("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),f("div",{className:"text-input bars",children:f("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&f("div",{className:"error",style:{color:"red"},children:[f("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),f("div",{className:"login-options",children:[f("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.login(i)},children:[this.state.loading&&f(co,{className:"accent default-border-radius"}),"OK"]}),f("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})]})]}):null,this.state.formView==="forgot"?f(ee,{children:f("form",{children:[f("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),f("div",{className:"input-fields",children:[f("div",{className:"text-input bars",children:f("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&f("div",{className:"error",style:{color:"red"},children:[f("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),f("div",{className:"login-options",children:[f("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.forgot(i)},children:[this.state.loading&&f(co,{className:"accent default-border-radius"}),"Submit"]}),f("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?f(ee,{children:f("form",{children:[f("div",{className:"enter-email",children:[this.state.resetEmail?f(ee,{children:["We\u2019ve sent a reset code to ",f("br",{}),this.state.resetEmail]}):f(ee,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),f("div",{className:"input-fields",children:[f("div",{className:"text-input bars",children:f("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),f("div",{className:"text-input bars",children:f("input",{type:"password",name:"password",autocomplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),f("div",{className:"text-input bars",children:f("input",{type:"password",name:"password_reset_confirm",autocomplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&f("div",{className:"error",style:{color:"red"},children:[f("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),f("div",{className:"login-options",children:[f("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault();let i=new FormData(this.containerRef.current.querySelector("form")),r=this.validateForm(i);r&&(this.setState({error:null,loading:!0}),this.forgot(i)),r||this.setState({loading:!1})},children:[this.state.loading&&f(co,{className:"accent default-border-radius"}),"OK"]}),f("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null]})})}login=e=>{let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),o=Ms==="https://cargo.site"?1597765:1123779;if(n){let l=n.templates.sites;if(l.length>0){let u=l.length-1,c=Math.floor(Math.random()*u),d=l[c];d&&(o=d?.id?d.id:o)}}e.append("site_id",o)}fetch(Ms+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let o=await n.json(),{access_token:l,id:u,bounce_jwt:c}=o.jdata||{};l&&u?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(l,u),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.props.onLoginSuccess?.(o.jdata)}):this.props.onLoginSuccess?.(o.jdata)):this.setState({error:o?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(Ms+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async i=>{let r=await i.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(i=>{console.log(i),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateLogin(e){let i=null;for(let r of e.entries()){let[n,o]=r;n==="email"&&(o===""||!o)&&(i="Incorrect Username or Password."),n==="password"&&(o===""||!o)&&i===null&&(i="Password cannot be empty.")}return i?(this.setState({error:i,loading:!1}),!1):!0}validateForm(e){var i=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return i==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer()};componentDidUpdate=()=>{this.animateContainer()};animateContainer=()=>{this.props.animateIn===!1?setTimeout(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&setTimeout(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})}},NE=De(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>xt({getAuthToken:e.getAuthTokenAction,setAuthData:(i,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:i,id:r}}})},t))(UC)});var Ze=R(()=>{kx();Ux();zx();$x();B0();QF();tE();Mg();ui();SE();VC();WE()});var HC=P(Pn=>{"use strict";Pn.__esModule=!0;Pn.createDynamicMiddlewares=Pn.resetMiddlewares=Pn.removeMiddleware=Pn.addMiddleware=void 0;var Jre=(ri(),yc(u5)),OE=function(){var e=[],i=[],r=void 0,n=function(d){return r=d,function(g){return function(m){return Jre.compose.apply(void 0,i)(g)(m)}}},o=function(){for(var d,g,m=arguments.length,b=Array(m),I=0;I<m;I++)b[I]=arguments[I];(d=i).push.apply(d,b.map(function(x){return x(r)})),(g=e).push.apply(g,b)},l=function(d){var g=e.findIndex(function(m){return m===d});if(g===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(m,b){return b!==g}),i=i.filter(function(m,b){return b!==g})},u=function(){i=[],e=[]};return{enhancer:n,addMiddleware:o,removeMiddleware:l,resetMiddlewares:u}},of=OE();Pn.default=of.enhancer;var qre=of.addMiddleware,Kre=of.removeMiddleware,$re=of.resetMiddlewares;Pn.addMiddleware=qre;Pn.removeMiddleware=Kre;Pn.resetMiddlewares=$re;Pn.createDynamicMiddlewares=OE});function GE(t){var e=function(r){var n=r.dispatch,o=r.getState;return function(l){return function(u){return typeof u=="function"?u(n,o,t):l(u)}}};return e}var LE,XE,BE=R(()=>{LE=GE();LE.withExtraArgument=GE;XE=LE});var PC=P((mAe,DE)=>{var ene=Bg(),tne=ql();function ine(t,e,i){(i!==void 0&&!tne(t[e],i)||i===void 0&&!(e in t))&&ene(t,e,i)}DE.exports=ine});var ME=P((bAe,TE)=>{function rne(t){return function(e,i,r){for(var n=-1,o=Object(e),l=r(e),u=l.length;u--;){var c=l[t?u:++n];if(i(o[c],c,o)===!1)break}return e}}TE.exports=rne});var _E=P((CAe,ZE)=>{var nne=ME(),one=nne();ZE.exports=one});var PE=P((Ed,bu)=>{var ane=kn(),HE=typeof Ed=="object"&&Ed&&!Ed.nodeType&&Ed,kE=HE&&typeof bu=="object"&&bu&&!bu.nodeType&&bu,sne=kE&&kE.exports===HE,VE=sne?ane.Buffer:void 0,UE=VE?VE.allocUnsafe:void 0;function lne(t,e){if(e)return t.slice();var i=t.length,r=UE?UE(i):new t.constructor(i);return t.copy(r),r}bu.exports=lne});var QE=P((vAe,zE)=>{var YE=wb();function une(t){var e=new t.constructor(t.byteLength);return new YE(e).set(new YE(t)),e}zE.exports=une});var JE=P((IAe,jE)=>{var cne=QE();function dne(t,e){var i=e?cne(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}jE.exports=dne});var KE=P((yAe,qE)=>{function pne(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}qE.exports=pne});var tN=P((AAe,eN)=>{var hne=lo(),$E=Object.create,gne=function(){function t(){}return function(e){if(!hne(e))return{};if($E)return $E(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();eN.exports=gne});var rN=P((wAe,iN)=>{var fne=tN(),mne=Dg(),bne=Ng();function Cne(t){return typeof t.constructor=="function"&&!bne(t)?fne(mne(t)):{}}iN.exports=Cne});var oN=P((xAe,nN)=>{var vne=fd(),Ine=Xa();function yne(t){return Ine(t)&&vne(t)}nN.exports=yne});var lN=P((SAe,sN)=>{var Ane=Ls(),wne=Dg(),xne=Xa(),Sne="[object Object]",Rne=Function.prototype,Fne=Object.prototype,aN=Rne.toString,Ene=Fne.hasOwnProperty,Nne=aN.call(Object);function Wne(t){if(!xne(t)||Ane(t)!=Sne)return!1;var e=wne(t);if(e===null)return!0;var i=Ene.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&aN.call(i)==Nne}sN.exports=Wne});var YC=P((RAe,uN)=>{function One(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}uN.exports=One});var dN=P((FAe,cN)=>{var Gne=Yb(),Lne=Bg();function Xne(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?Lne(i,u,c):Gne(i,u,c)}return i}cN.exports=Xne});var hN=P((EAe,pN)=>{var Bne=dN(),Dne=Tg();function Tne(t){return Bne(t,Dne(t))}pN.exports=Tne});var vN=P((NAe,CN)=>{var gN=PC(),Mne=PE(),Zne=JE(),_ne=KE(),kne=rN(),fN=Sg(),mN=uo(),Vne=oN(),Une=Rg(),Hne=Ig(),Pne=lo(),Yne=lN(),zne=Eg(),bN=YC(),Qne=hN();function jne(t,e,i,r,n,o,l){var u=bN(t,i),c=bN(e,i),d=l.get(c);if(d){gN(t,i,d);return}var g=o?o(u,c,i+"",t,e,l):void 0,m=g===void 0;if(m){var b=mN(c),I=!b&&Une(c),x=!b&&!I&&zne(c);g=c,b||I||x?mN(u)?g=u:Vne(u)?g=_ne(u):I?(m=!1,g=Mne(c,!0)):x?(m=!1,g=Zne(c,!0)):g=[]:Yne(c)||fN(c)?(g=u,fN(u)?g=Qne(u):(!Pne(u)||Hne(u))&&(g=kne(c))):m=!1}m&&(l.set(c,g),n(g,c,r,o,l),l.delete(c)),gN(t,i,g)}CN.exports=jne});var AN=P((WAe,yN)=>{var Jne=wg(),qne=PC(),Kne=_E(),$ne=vN(),eoe=lo(),toe=Tg(),ioe=YC();function IN(t,e,i,r,n){t!==e&&Kne(e,function(o,l){if(n||(n=new Jne),eoe(o))$ne(t,e,l,i,IN,r,n);else{var u=r?r(ioe(t,l),o,l+"",t,e,n):void 0;u===void 0&&(u=o),qne(t,l,u)}},toe)}yN.exports=IN});var xN=P((OAe,wN)=>{function roe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}wN.exports=roe});var FN=P((GAe,RN)=>{var noe=xN(),SN=Math.max;function ooe(t,e,i){return e=SN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=SN(r.length-e,0),l=Array(o);++n<o;)l[n]=r[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=r[n];return u[e]=i(l),noe(t,this,u)}}RN.exports=ooe});var NN=P((LAe,EN)=>{function aoe(t){return function(){return t}}EN.exports=aoe});var GN=P((XAe,ON)=>{var soe=NN(),WN=Pb(),loe=Xg(),uoe=WN?function(t,e){return WN(t,"toString",{configurable:!0,enumerable:!1,value:soe(e),writable:!0})}:loe;ON.exports=uoe});var XN=P((BAe,LN)=>{var coe=800,doe=16,poe=Date.now;function hoe(t){var e=0,i=0;return function(){var r=poe(),n=doe-(r-i);if(i=r,n>0){if(++e>=coe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}LN.exports=hoe});var DN=P((DAe,BN)=>{var goe=GN(),foe=XN(),moe=foe(goe);BN.exports=moe});var MN=P((TAe,TN)=>{var boe=Xg(),Coe=FN(),voe=DN();function Ioe(t,e){return voe(Coe(t,e,boe),t+"")}TN.exports=Ioe});var _N=P((MAe,ZN)=>{var yoe=ql(),Aoe=fd(),woe=pd(),xoe=lo();function Soe(t,e,i){if(!xoe(i))return!1;var r=typeof e;return(r=="number"?Aoe(i)&&woe(e,i.length):r=="string"&&e in i)?yoe(i[e],t):!1}ZN.exports=Soe});var VN=P((ZAe,kN)=>{var Roe=MN(),Foe=_N();function Eoe(t){return Roe(function(e,i){var r=-1,n=i.length,o=n>1?i[n-1]:void 0,l=n>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(n--,o):void 0,l&&Foe(i[0],i[1],l)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var u=i[r];u&&t(e,u,r,o)}return e})}kN.exports=Eoe});var HN=P((_Ae,UN)=>{var Noe=AN(),Woe=VN(),Ooe=Woe(function(t,e,i){Noe(t,e,i)});UN.exports=Ooe});function Zs(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var zC=R(()=>{});function QC(t={}){let e=t.promiseTypeSuffixes||Goe,i=t.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return o=>l=>{let u,c;if(l.payload){let E=l.payload;if(Zs(E))u=E;else if(Zs(E.promise))u=E.promise,c=E.data;else if(typeof E=="function"||typeof E.promise=="function"){if(u=E.promise?E.promise():E(),c=E.promise?E.data:void 0,!Zs(u))return o({...l,payload:u})}else return o(l)}else return o(l);let d=l.type,g=l.meta,[m,b,I]=e,x=(E,M)=>({type:[d,M?I:b].join(i),...E===null||typeof E>"u"?{}:{payload:E},...g!==void 0?{meta:g}:{},...M?{error:!0}:{}}),A=E=>{let M=x(E,!0);n(M)},F=(E=null)=>{let M=x(E,!1);return n(M),{value:E,action:M}};return o({type:[d,m].join(i),...c!==void 0?{payload:c}:{},...g!==void 0?{meta:g}:{}}),u.then(F,A).catch(E=>{if(U.isServer&&E.response)console.error("Request to",E.response.config.url,"failed with code",E.response.status);else{if(E&&E.response&&E.response.status===401){console.warn("No auth for request to",E.response.config.url);return}console.error(E)}}),u}}}var af,sf,lf,Goe,jC=R(()=>{zC();Ze();af="PENDING",sf="FULFILLED",lf="REJECTED",Goe=[af,sf,lf]});function Loe(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:uf},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function Xoe(t,e){var i=[];function r(u){var c=i.findIndex(function(g){return e(u,g.key)});if(c>-1){var d=i[c];return c>0&&(i.splice(c,1),i.unshift(d)),d.value}return uf}function n(u,c){r(u)===uf&&(i.unshift({key:u,value:c}),i.length>t&&i.pop())}function o(){return i}function l(){i=[]}return{get:r,put:n,getEntries:o,clear:l}}function Boe(t){return function(i,r){if(i===null||r===null||i.length!==r.length)return!1;for(var n=i.length,o=0;o<n;o++)if(!t(i[o],r[o]))return!1;return!0}}function YN(t,e){var i=typeof e=="object"?e:{equalityCheck:e},r=i.equalityCheck,n=r===void 0?PN:r,o=i.maxSize,l=o===void 0?1:o,u=i.resultEqualityCheck,c=Boe(n),d=l===1?Loe(c):Xoe(l,c);function g(){var m=d.get(arguments);if(m===uf){if(m=t.apply(null,arguments),u){var b=d.getEntries(),I=b.find(function(x){return u(x.value,m)});I&&(m=I.value)}d.put(arguments,m)}return m}return g.clearCache=function(){return d.clear()},g}var uf,PN,zN=R(()=>{uf="NOT_FOUND";PN=function(e,i){return e===i}});function Doe(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var i=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}function JC(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=0,g,m={memoizeOptions:void 0},b=u.pop();if(typeof b=="object"&&(m=b,b=u.pop()),typeof b!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof b+"]");var I=m,x=I.memoizeOptions,A=x===void 0?i:x,F=Array.isArray(A)?A:[A],E=Doe(u),M=t.apply(void 0,[function(){return d++,b.apply(null,arguments)}].concat(F)),k=t(function(){for(var _=[],ne=E.length,Z=0;Z<ne;Z++)_.push(E[Z].apply(null,arguments));return g=M.apply(null,_),g});return Object.assign(k,{resultFunc:b,memoizedResultFunc:M,dependencies:E,lastResult:function(){return g},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),k};return n}var QN,jN=R(()=>{zN();QN=JC(YN)});var qC={};Kt(qC,{ADMIN_FRAME:()=>Ie,CRDTState:()=>Mt,FRONTEND_DATA:()=>cf});var Ie,cf,Mt,Dt=R(()=>{Ie={adminWindow:null},cf={},Mt=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var Ci,rt,ci,tt,Ri=R(()=>{jN();Ci=pe(ve(),1);Ze();Dt();rt={};U.isServer?ci=JC(t=>t):ci=function(){return QN.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};rt.getItemParentId=(t,e)=>rt.flatByParentList(t)[e];rt.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;rt.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,i=t.site?.homepage_id;return e===i?null:t.frontendState.isMobile?i:e};rt.getHomepagePurl=t=>t.frontendState.isMobile?t.site?.mobile_homepage_purl:t.site?.homepage_purl;rt.flatByParentList=ci(t=>t.structure.byParent,t=>{let e={};for(let i in t)for(let r in t[i])e[t[i][r]]=i;return e});rt.getSetsByParent=ci(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});rt.getPagesByParent=ci(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});rt.getParentSetList=ci(rt.getItemParentId,rt.flatByParentList,(t,e)=>{let i=[];for(;t;)i.push(t),t=t!==e[t]?e[t]:null;return i});rt.getSetContents=ci((t,e)=>e,rt.getHomepageId,(t,e,i)=>i,(t,e,i)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,i={},r,n=[],o,l)=>{let u;return Ci.default.without(n.map(c=>{if(u=o[c]||l[c],i.includeNotIndexable===!0||u&&(u.id===e||U.contentIsIndexable(u)))return u}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});rt.getSetContentsByIndex=ci(rt.getSetContents,(t,e,i)=>t.structure.indexById,(t,e)=>t.reduce((i,r)=>(i[e[r.id]]=r,i),{}));rt.getSetDepthsById=ci(t=>t.sets.byId,rt.flatByParentList,(t,e)=>{let i={};return Object.keys(t).forEach(r=>{let n=0,o=r;for(;e[o];)n++,o=e[o];i[r]=n}),i});rt.getPinsForSet=ci(rt.getParentSetList,rt.getSetDepthsById,(t,e,i,r)=>e,(t,e,i,r)=>i,(t,e,i,r)=>r,(t,e,i,r)=>t.structure.bySort,(t,e,i,r)=>t.pages.byId,rt.getPagesByParent,t=>t.frontendState.isMobile,(t,e,i,r,n,o,l={},u={},c)=>{if(!i)return[];let d=i,g=0,m={},b=[];return t.concat([i]).forEach(x=>{u[x]&&u[x].forEach(A=>{if(l[A]&&l[A].pin&&l[A].pin_options&&l[A].pin_options.position===r){if(A!==n&&(l[A].pin_options.screen_visibility==="mobile"&&!c||l[A].pin_options.screen_visibility==="desktop"&&c))return;b.push(l[A]),m[A]=l[A].pin_options.fixed?0:e[x]}})}),b.sort((x,A)=>{let F=o[x.id],E=o[A.id];return x.pin_options.fixed?F+=r==="bottom"?9e9:-9e9:x.pin_options.overlay&&(F+=r==="bottom"?9e5:-9e5),A.pin_options.fixed?E+=r==="bottom"?9e9:-9e9:A.pin_options.overlay&&(E+=r==="bottom"?9e5:-9e5),F-E}),b.sort((x,A)=>r==="bottom"?m[A.id]-m[x.id]:m[x.id]-m[A.id]),b});rt.getAutoRenderableOverlaysForSet=ci(rt.getParentSetList,rt.getSetDepthsById,(t,e,i)=>e,(t,e,i)=>i,(t,e,i)=>t.pages.byId,(t,e,i)=>t.frontendState.PIDToEdit,rt.getPagesByParent,(t,e,i,r,n={},o,l={})=>{if(!i||U.isServer)return[];let u=i,c=0,d=[];return t.concat([i]).forEach(m=>{l[m]&&l[m].forEach(b=>{n[b]&&n[b].overlay&&(n[b].id===o||n[b].overlay_options?.openOnLoad||n[b].purl?.toLowerCase()===r?.toLowerCase())&&d.push(n[b])})}),d});rt.getContentById=ci((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);rt.getContentByPurl=ci((t,e)=>e,(t,e)=>t.pages.byId[rt.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[rt.getSetsByUrl(t)[e?.toLowerCase()]],(t,e)=>e);rt.getLoadedIndexesForSet=ci(rt.getSetContents,t=>t.structure.indexById,(t,e)=>Ci.default.without(t.map(i=>{if(U.contentIsIndexable(i))return e[i.id]}),void 0));rt.getMissingIndexesForSet=ci((t,e)=>t.sets.byId[e],rt.getLoadedIndexesForSet,(t,e)=>t?Ci.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);rt.getSortedListOfIndexPairs=ci(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,rt.getSetsByParent,(t,e,i,r,n)=>{let o=l=>{let u=rt.getContentById(t,l);if(!u)return[];let c=[...Array(Math.max(u.page_count||0,0)).keys()].map(d=>[u.id,d]);return n[u.id]&&(n[u.id]||[]).map(d=>i[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,o(d.id))}),c};return Ci.default.chunk(Ci.default.flattenDeep(o(e)),2)});rt.getSortedListOfMissingIndexPairs=ci(t=>t,rt.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,rt.getSetsByParent,(t,e,i,r)=>{let n=[];return Ci.default.uniq(e.map(o=>o[0])).forEach(o=>{n=n.concat(rt.getLoadedIndexesForSet(t,o).map(l=>[o,l]))}),Ci.default.differenceWith(e,n,Ci.default.isEqual)});rt.getGappedSetMap=ci(t=>t,rt.getSortedListOfIndexPairs,rt.getSortedListOfMissingIndexPairs,(t,e,i)=>{let r=i[0];if(r){let n=Ci.default.uniq(e.map(u=>u[0])).reduce((u,c)=>(u[c]=0,u),{}),o=Ci.default.findIndex(e,u=>Ci.default.isEqual(u,r)),l=Ci.default.fromPairs(e.slice(0,o));return Ci.default.merge(n,l)}return{}});rt.getPagesByUrl=ci(t=>t.pages.byId,t=>Ci.default.transform(Ci.default.omitBy(t,e=>e.crdt_state===Mt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));rt.getSetsByUrl=ci(t=>t.sets.byId,t=>Ci.default.transform(Ci.default.omitBy(t,e=>e.crdt_state===Mt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));rt.getMediaByHash=t=>{let e={};return Ci.default.each(t.pages.byId,i=>{Ci.default.each(i.media,r=>{r.crdt_state!==Mt.Deleted&&(e[r.hash]=r)})}),e};rt.getMediaByParent=ci(t=>t.pages.byId,t=>{let e={};return Ci.default.each(t,i=>{e[i.id]=i.media?.filter(r=>r.crdt_state!==Mt.Deleted)}),e});rt.getRenderedPageModels=ci(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0));tt=rt});var ev={};Kt(ev,{actionTypes:()=>Re,actions:()=>Me});var en,Vs,$C,Me,Toe,JN,Re,df,KC,_s,ks,Zt=R(()=>{en=pe(Kr(),1),Vs=pe(ve(),1);jC();Ze();Ri();$C=pe(ve(),1),Me={},Toe=U.isServer?3e4:1e4,JN={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Vs.each)(JN,function(t,e,i){i[t+"_"+sf]=e+"_"+sf,i[t+"_"+af]=e+"_"+af,i[t+"_"+lf]=e+"_"+lf});Re=(0,Vs.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},JN);Me.getAuthToken=function(t={}){let e=new Promise((i,r)=>{let n="https://cargo.site/accesstoken";if(t.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=n+"/bounce?site_url="+t.site_url;return}let o={};t.site_url&&(o.site_url=t.site_url),t.site_id&&(o.site_id=t.site_id),t.jwt&&(o.jwt=t.jwt);let l={};t.nonce&&(l["x-cargo-access-token-nonce"]=t.nonce),en.default.get(n,{use_auth:!1,withCredentials:!0,params:o,headers:l,timeout:t?.timeout||Toe}).then(function(u){if(!u||u.token===null)return r("No token found.");i(u)}).catch(u=>{r(u)})});return{type:Re.AUTHENTICATE_USER,payload:e}};Me.setAuthentication=t=>({type:Re.AUTHENTICATE_USER_FULFILLED,payload:t});Me.rejectAuthentication=()=>({type:Re.AUTHENTICATE_USER_REJECTED,payload:{}});Me.fetchScaffolding=function(){return function(t,e){let r=`/pages/${e().site.id}/scaffolding`;return t({type:Re.FETCH_SCAFFOLDING,payload:en.default.get(ni+r)})}};Me.fetchFiles=function(){return function(t,e){let r=`/sites/${e().site.id}/media/files`;return t({type:Re.FETCH_MEDIA,payload:en.default.get(ni+r)})}};Me.fetchCommerceProducts=function(t={}){return t=$C.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,i){let r=i(),n=`/commerce/${r.site.id}/products`,o;if(t.idArray){n+="/list";let l=new FormData;if(t.idArray){let u=t.idArray.filter(c=>!(t.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(u.length===0)return Promise.resolve();u.forEach(c=>{l.append("ids[]",c)})}o=en.default.post(ni+n,l,{use_auth:!1})}else o=en.default.get(ni+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:Re.FETCH_COMMERCE_PRODUCTS,payload:o,meta:{options:t}})}};Me.fetchShopModel=function(t={}){return function(e,i){let r=i();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:Re.FETCH_SHOP_MODEL,payload:en.default.get(ni+n,{use_cache:t.force!==!0})})}};Me.resetCommerceCart=function(){return{type:Re.RESET_COMMERCE_CART,payload:{}}};Me.addCommerceProductToCart=function(t,e,i={}){return function(r,n){let l=n().commerce.products[t],u=l?.variants.find(c=>c.variant_id==e);if(!l||!u){i.failureCallback?.("Product not found");return}if((i.amount===void 0||isNaN(i.amount))&&(i.amount=1),u.inventory!==null&&i.amount>u.inventory)if(u.inventory<=0){i.failureCallback?.("Product is out of stock");return}else i.amount=u.inventory;return typeof i.callback=="function"&&i.callback(),r({type:Re.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:u.product_id,variant_id:u.variant_id,quantity:i.amount}})}};df=null,KC=!1,_s=[],ks=[];Me.pageMounted=function(t){if(ks.includes(t)&&(ks=ks.filter(e=>e!==t)),!_s.includes(t))return(e,i)=>(_s.push(t),df||(df=new Promise(r=>{requestAnimationFrame(()=>{e({type:Re.PAGES_MOUNTED,payload:{pages:[..._s]}}),r(),df=null,_s=[]})})),df)};Me.pageUnMounted=function(t){if(_s.includes(t)&&(_s=_s.filter(e=>e!==t)),!ks.includes(t))return(e,i)=>{if(i().frontendState.PIDBeingEdited===t?.id)return e({type:Re.PAGES_UNMOUNTED,payload:{pages:[t]}});ks.push(t),KC||(KC=!0,requestAnimationFrame(()=>{e({type:Re.PAGES_UNMOUNTED,payload:{pages:[...ks]}}),KC=!1,ks=[]}))}};Me.fetchSiteModel=function(){return function(t,e){let r=`/sites/${e().site.id}`,n=en.default.get(ni+r);return t({type:Re.FETCH_SITE_MODEL,payload:n})}};Me.fetchSiteCSS=function(){return function(t,e){let r=`/sites/${e().site.id}/css`,n=en.default.get(ni+r);return t({type:Re.FETCH_SITE_CSS,payload:n})}};Me.fetchSitePackage=function(){return function(t,e){let i=e(),r;U.isServer?r=i.frontendState.hostname:r=U.isSitePreview?U.sitePreviewHostname:window.location.hostname,U.isLocalEnv&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=en.default.get(ni+`/package/${r}`);return t({type:Re.FETCH_SITE_PACKAGE,payload:n})}};Me.fetchSiteDesignModel=function(){return function(t,e){let r=`/sites/${e().site.id}/design`,n=en.default.get(ni+r);return t({type:Re.FETCH_SITEDESIGN_MODEL,payload:n})}};Me.fetchPagesByTag=function(t,e={}){return function(i,r){let n=store.getState(),o=en.default.get(ni+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return i({type:Re.FETCH_CONTENT,payload:o})}};Me.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(i,r){let n=r(),o;if(e.indexes&&n.frontendState.inAdminFrame===!0){let g=n.structure.byParent[t]?.reduce((m,b)=>(m[n.structure.indexById[b]]=b,m),{});g&&(o={},e.indexes.forEach(m=>{let b=g[m],I=n.structure.liveIndexes[b];if(I){let[x,A]=I.split("/");o[x]||(o[x]=[]),o[x].push(parseInt(A))}}),o=$C.default.map(o,(m,b)=>({set_id:b,index:m})))}if(e.force!==!0&&(e.idType==="purl"?tt.getContentByPurl(n,t):tt.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return i({type:Re.FETCH_CONTENT,payload:Promise.resolve()});let l=`/pages/${n.site.id}/url/${t}`;e.next===!0?l=`/pages/${n.site.id}/next/${t}`:e.prev===!0?l=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(l=`/pages/${n.site.id}/id/${t}`);let u={};(0,Vs.isArray)(e.indexes)&&(l=`/pages/${n.site.id}/filter/`,o&&Object.keys(o).length>0?u.indexBySet=JSON.stringify(o):u.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let c=en.default.get(ni+l,{withCredentials:!0,use_cache:e.force!==!0,params:u,validateStatus:function(g){return g>=200&&g<300&&g!==204},contentIdentifier:{idType:e.idType,id:t}}),d=new Promise((g,m)=>{c.then(b=>{(0,Vs.isArray)(b.data)||(b.data=[b.data]),e.cb?.(b),g(b)}).catch(m)});return i({type:Re.FETCH_CONTENT,payload:d})}};Me.updateFrontendState=function(t){return function(e,i){return e({type:Re.UPDATE_FRONTEND_STATE,payload:t})}};Me.deleteContent=function(t){return function(e,i){let r=new Promise().resolve({id:t});return{type:Re.DELETE_CONTENT,payload:r}}};U.isServer||(window.actions=Me)});function tv(){return t=>e=>(Zs(e.payload)&&e.payload.catch(function(i){if(U.isServer&&i.response)console.error("Request to",i.response.config.url,"failed with code",i.response.status);else{if(i&&i.response&&i.response.status===401){console.warn("No auth for request to",i.response.config.url);return}console.error(i)}return i}),t(e))}var iwe,qN=R(()=>{zC();iwe=pe(ve(),1);Ze()});function KN(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SITE_MODEL_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.site),i){if(U.isSitePreview&&(i.domain_active=!1),!U.isServer)try{localStorage.setItem("c3-site",JSON.stringify({id:i.id,host:window.location.host}))}catch(r){console.error(r)}return{...t,...i,crdt_state:Mt.Published}}break}return t}var uwe,$N=R(()=>{Zt();Ze();Dt();uwe=pe(ve(),1)});function Moe(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SCAFFOLDING_FULFILLED:case Re.FETCH_ADMIN_LIST_FULFILLED:case Re.FETCH_CONTENT_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return pf.default.isArray(i)||(i=[i]),{...t,...i.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Mt.Published,r[n.id]=n),r),{})};break;case Re.DELETE_CONTENT:if(t[e.payload.id]){let r={...t};return delete r[e.payload.id],r}break;case Re.UPDATE_PAGE:return{...t,[e.meta.id]:pf.default.merge({},pf.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var pf,iv,eW,tW=R(()=>{Zt();ri();Dt();pf=pe(ve(),1);Ze();iv={byId:Moe},eW=Mn(iv)});function Zoe(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SCAFFOLDING_FULFILLED:case Re.FETCH_ADMIN_LIST_FULFILLED:case Re.FETCH_CONTENT_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return{...t,...i.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Mt.Published,r[n.id]=n),r),{})};break}return t}var rv,iW,rW=R(()=>{Zt();ri();Dt();rv={byId:Zoe},iW=Mn(rv)});function _oe(t=oW,e){switch(e.type){case Re.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Re.ADD_COMMERCE_PRODUCT_TO_CART:let i=e.payload,r;i.quantity===null?(r={...t},delete r[i.variant_id]):(t[i.variant_id]&&(i={...t[i.variant_id],quantity:Math.max(0,(t[i.variant_id].quantity||0)+i.quantity)}),r={...t,[i.variant_id]:i});try{localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return t}function koe(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_COMMERCE_PRODUCTS_FULFILLED:let i=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((o,l,u)=>{let c=t[l?.product_id];return i.onlyNew&&c?(i.idArray===null&&c.sort_index===void 0&&(c.sort_index=u),o):(i.idArray===null&&(l.sort_index=u),nW(l),{...o,[l.product_id]:l})},{});return{...t,...r};case Re.COMMERCE_PRODUCT_UPDATED:return nW(e.payload),{...t,[e.payload.product_id]:e.payload};break;case Re.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function Voe(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case Re.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var Ma,oW,nW,nv,aW,sW=R(()=>{Ma=pe(ve(),1);ri();Zt();Ze();oW={};if(!U.isServer)try{oW=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}nW=t=>{t.name&&(t.name=Ma.default.unescape(t.name)),t.variants?.forEach(e=>{Ma.default.each(e.attributes,(i,r)=>{let n=Ma.default.unescape(i);delete e.attributes[r],e.attributes[Ma.default.unescape(r)]=n})}),Ma.default.each(t.attributes,(e,i)=>{let r=e.map(n=>Ma.default.unescape(n));delete t.attributes[i],t.attributes[Ma.default.unescape(i)]=r})};nv={products:koe,cart:_oe,shop:Voe},aW=Mn(nv)});function uW(t=Uoe,e){if(!e.payload)return t;switch(e.type){case Re.FETCH_MEDIA_FULFILLED:let i=e.payload.data;if(i)return{...t,data:lW.default.uniqBy([...t.data,...i],"id")};break}return t}var lW,Uoe,cW=R(()=>{Zt();Dt();lW=pe(ve(),1),Uoe={data:[],crdt_state:Mt.Published}});function dW(t={},e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SITE_CSS_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.css),i)return{...t,...i,crdt_state:Mt.Published};break}return t}var Owe,pW=R(()=>{Zt();Dt();Owe=pe(ve(),1)});function ov(t=Hoe,e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SCAFFOLDING_FULFILLED:case Re.FETCH_ADMIN_LIST_FULFILLED:case Re.FETCH_CONTENT_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i){let r={...t},n={};return(0,Za.each)(i,function(o){o.page_type==="set"&&(n.hasOwnProperty(o.id)||(n[o.id]=[])),o.id!=="root"&&o.hasOwnProperty("set_id")&&(n.hasOwnProperty(o.set_id)||(n[o.set_id]=[]),n[o.set_id].push(o.id))}),r.byParent=(0,Za.mergeWith)({},t.byParent,n,(o,l)=>{if((0,Za.isArray)(o))return(0,Za.uniq)(o.concat(l))}),r.bySort={...t.bySort,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("sort")&&(o[l.id]=l.sort),o),{})},r.indexById={...t.indexById,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("index")&&(o[l.id]=l.index),o),{})},r}break}return t}var Za,Hoe,hW=R(()=>{Zt();Za=pe(ve(),1);Dt();Hoe={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:Mt.Published}});function Yoe(t=Poe,e){switch(e.type){case Re.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case Re.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!U.isServer)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!U.isServer)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}case Re.AUTHENTICATE_USER_REJECTED:if(!U.isServer)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}return t}var Twe,Poe,gW,fW=R(()=>{Twe=pe(ve(),1);Ze();Zt();Poe={authenticating:!1,authenticated:!1};gW=Yoe});function Qoe(t=zoe,e){if(!e.payload)return t;switch(e.type){case Re.FETCH_SITEDESIGN_MODEL_FULFILLED:case Re.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Re.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.design),i)return av.default.merge(av.default.cloneDeep(t),i.site_design);break}return t}var av,zoe,mW,bW=R(()=>{Zt();av=pe(ve(),1);Dt();zoe={images:{},quick_view:{},site:{},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:Mt.Published};mW=Qoe});function vW(t=CW,e){if(!e.payload)return t;let i;switch(e.type){case Re.UPDATE_FRONTEND_STATE:return sv.default.mergeWith({},CW,t,e.payload,(r,n,o,l,u)=>{n===void 0&&u.hasOwnProperty(o)&&delete l[o]});case Re.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Re.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case Re.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case Re.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case Re.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case Re.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case Re.PAGES_MOUNTED:return i=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:i};case Re.PAGES_UNMOUNTED:return{...t,renderedPages:sv.default.difference(t.renderedPages,e.payload.pages)};case Re.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var sv,joe,CW,IW=R(()=>{Zt();ui();Ze();sv=pe(ve(),1),joe=Xl(),CW={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:U.isAdminEdit,inAdminFrame:U.isAdminEdit,renderedPages:[],networkErrors:[],fontsLoaded:[],deviceType:joe}});var uv={};Kt(uv,{default:()=>lv,rawReducers:()=>Joe});var lv,Joe,cv=R(()=>{$N();tW();rW();sW();cW();pW();hW();fW();bW();IW();Zt();lv={structure:ov,site:KN,pages:eW,sets:iW,media:uW,css:dW,auth:gW,siteDesign:mW,frontendState:vW,commerce:aW},Joe={pages:iv,sets:rv,commerce:nv}});var yW,uxe,hf,dv=R(()=>{yW=pe(HC(),1);ri();BE();uxe=pe(HN(),1);Zt();qN();jC();cv();Ze();hf=()=>{let t=[],e=(0,yW.createDynamicMiddlewares)(),i=[XE,tv,QC(),e.enhancer],r=Dh(k0(...i),...t),n=U.isServer?{}:window.__PRELOADED_STATE__||{},o=jc(Mn(lv),n,r);return U.isServer||(window.store=o,delete window.__PRELOADED_STATE__),{store:o}}});var AW=R(()=>{xe();Y()});var ho,Cu=R(()=>{ut();Y();ho=t=>e=>f(t,{store:Ah(),...e})});function qoe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eae(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(r){return r}).join(" ")}var Mxe,Zxe,pv,hv,gv,vu,Koe,$oe,wW,gf,_xe,xW=R(()=>{qo();qo();xh();Fe();Eh();Ss();El();Rh();Mxe=function(t){Gr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=Fh(r.props),r}var i=e.prototype;return i.render=function(){return Te.createElement(Sa,{history:this.history,children:this.props.children})},e}(Te.Component),Zxe=function(t){Gr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=px(r.props),r}var i=e.prototype;return i.render=function(){return Te.createElement(Sa,{history:this.history,children:this.props.children})},e}(Te.Component),pv=function(e,i){return typeof e=="function"?e(i):e},hv=function(e,i){return typeof e=="string"?Ar(e,null,null,i):e},gv=function(e){return e},vu=Te.forwardRef;typeof vu>"u"&&(vu=gv);Koe=vu(function(t,e){var i=t.innerRef,r=t.navigate,n=t.onClick,o=yr(t,["innerRef","navigate","onClick"]),l=o.target,u=Lt({},o,{onClick:function(d){try{n&&n(d)}catch(g){throw d.preventDefault(),g}!d.defaultPrevented&&d.button===0&&(!l||l==="_self")&&!qoe(d)&&(d.preventDefault(),r())}});return gv!==vu?u.ref=e||i:u.ref=i,Te.createElement("a",u)}),$oe=vu(function(t,e){var i=t.component,r=i===void 0?Koe:i,n=t.replace,o=t.to,l=t.innerRef,u=yr(t,["component","replace","to","innerRef"]);return Te.createElement(xa.Consumer,null,function(c){c||Dn(!1);var d=c.history,g=hv(pv(o,c.location),c.location),m=g?d.createHref(g):"",b=Lt({},u,{href:m,navigate:function(){var x=pv(o,c.location),A=ar(c.location)===ar(hv(x)),F=n||A?d.replace:d.push;F(x)}});return gv!==vu?b.ref=e||l:b.innerRef=l,Te.createElement(r,b)})}),wW=function(e){return e},gf=Te.forwardRef;typeof gf>"u"&&(gf=wW);_xe=gf(function(t,e){var i=t["aria-current"],r=i===void 0?"page":i,n=t.activeClassName,o=n===void 0?"active":n,l=t.activeStyle,u=t.className,c=t.exact,d=t.isActive,g=t.location,m=t.sensitive,b=t.strict,I=t.style,x=t.to,A=t.innerRef,F=yr(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Te.createElement(xa.Consumer,null,function(E){E||Dn(!1);var M=g||E.location,k=hv(pv(x,M),M),T=k.pathname,_=T&&T.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ne=_?Es(M.pathname,{path:_,exact:c,sensitive:m,strict:b}):null,Z=!!(d?d(ne,M):ne),L=typeof u=="function"?u(Z):u,re=typeof I=="function"?I(Z):I;Z&&(L=eae(L,o),re=Lt({},re,l));var de=Lt({"aria-current":Z&&r||null,className:L,style:re,to:k},F);return wW!==gf?de.ref=e||A:de.innerRef=A,Te.createElement($oe,de)})})});function bf(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++)if(!hasOwnProperty.call(e,i[n])||!Object.is(t[i[n]],e[i[n]]))return!1;return!0}function Yn(t){if(U.isServer)return t;let e,i,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},i=!1,r=void 0};n();let o=function(){let u=arguments.length-1;if(u===-1)return i===!1&&(r=t.call(this),i=!0),r;let c=e;for(let I=0;I<u;I+=1){let x=arguments[I],A=x===null||typeof x!="object"&&typeof x!="function",F;A?c.primitiveArgs===null?F=c.primitiveArgs=new Map:F=c.primitiveArgs:c.referenceArgs===null?F=c.referenceArgs=new WeakMap:F=c.referenceArgs,F.has(x)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},F.set(x,c)):c=F.get(x)}let d,g=arguments[u],m=g===null||typeof g!="object"&&typeof g!="function",b;return m?c.primitiveResults===null?b=c.primitiveResults=new Map:b=c.primitiveResults:c.referenceResults===null?b=c.referenceResults=new WeakMap:b=c.referenceResults,b.has(g)?d=b.get(g):(d=t.apply(this,arguments),b.set(g,d)),d};return o.clear=function(){let u=arguments.length-1;if(u===-1){n();return}let c=e;for(let m=0;m<u;m+=1){let b=arguments[m],x=b===null||typeof b!="object"&&typeof b!="function"?c.primitiveArgs:c.referenceArgs;if(x===null)return;c=x.get(b)}let d=arguments[u];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},o}var _a,yu,tae,Iu,iae,ff,RW,FW,mf,SW,EW,Au,Br=R(()=>{_a=pe(ve(),1);Ri();Ze();xe();yu=(t={},e)=>{let i={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=_a.default.extend(i,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var r=tae(t.w,t.h,e);t.w=r.w,t.h=r.h;var n=["t","w","h","q","c"],o=[];return _a.default.each(t,function(l,u){n.indexOf(u)===-1||l===""||(u==="c"?o.push("c/"+l.x+"/"+l.y+"/"+l.w+"/"+l.h):o.push(u+"/"+l))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?t.url="https://freight.cargo.site/"+o.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},tae=(t,e,i)=>{let r=t,n=e,o=parseInt(i.width),l=parseInt(i.height);if(o==l)r=t||e||o,n=r;else if(t&&!e){let u=o/t;n=Math.floor(l/u),r=t}else if(e&&!t){let u=l/e;r=Math.floor(o/u),n=e}else{let u=Math.min(l/e,o/t);r=Math.floor(o/u),n=Math.floor(l/u)}return{w:r,h:n}};Iu=(t,e,i,r,n=0,o={})=>{o.shared=o.shared||{};let l=(t.byParent[r.id]||[]).reduce((u,c)=>(u[t.indexById[c]]=c,u),{});for(;n>=0&&n<r.page_count&&o.shared.hasBreak!==!0;){let u=l[n],c=u&&(e.byId[u]||i.byId[u]);if(!(c?.page_type==="set"&&o.includeSets!==!0)&&o.callback?.(r.id,n,c)==="break"){o.shared.hasBreak=!0;break}c?.page_type==="set"&&Iu(t,e,i,c,o.reverse===!0?c.page_count-1:0,{...o,traverseUp:!1}),o.reverse===!0?n--:n++}if(o.traverseUp!==!1&&(o.reverse===!0&&n<0||o.reverse===!1&&n>r.page_count-1)){let u=i.byId[_a.default.findKey(t.byParent,d=>d.includes(r.id))],c=t.indexById[r.id];u&&c!==void 0&&Iu(t,e,i,u,c+(o.reverse===!0?-1:1),o)}};iae=Xe.debounceRendering,ff=null,RW=()=>{Xe.debounceRendering=t=>{ff=t}},FW=t=>{ff&&!t&&ff(),ff=null,Xe.debounceRendering=iae},mf=new WeakMap,SW=Xe.diffed;Xe.diffed=t=>{mf.has(t)&&mf.get(t)(t.__e),SW&&SW(t)};EW=(t,e)=>(mf.set(t,e),()=>{mf.delete(t)}),Au=(t,e)=>{if(!t)return null;let i="",r=(o,l)=>{let u=l.style?.getPropertyValue(o);return u!==""&&u!==void 0?u:null},n=[];return _a.default.each(t.rules,o=>{let l=o.selectorText,u={},c=!1,d=!1,g=!1;o.cssText&&o.cssText.includes("--text-style")&&(d=!0,n.push(l+" a"),n.push(l+" a:hover")),o.cssText&&_a.default.each(n,I=>{o.cssText.includes(I)&&(d=!0)}),o?.selectorText?.includes(".mobile")&&(g=!0),_a.default.each(e,I=>{let x=!1;Array.isArray(I.denyList)&&I.denyList.forEach(F=>{F.includes("match:")&&l?.match(F.replace("match:",""))&&(x=!0),l&&l===F&&(x=!0)});let A=!1;Array.isArray(I.allowList)?I.allowList.forEach(F=>{F.includes("match:")&&l?.match(F.replace("match:",""))&&(A=!0),l&&l===F&&(A=!0)}):A=!0,(d||g)&&(x=!0),!(x===!0||A===!1)&&(u=I.properties.reduce((F,E)=>(E&&(F[E]=r(E,o)),F),u))});let m=".mobile "+l,b=Array.from(t.rules).find(I=>I.selectorText===m);b&&Object.keys(u).forEach(I=>{r(I,b)&&(u[I]=null)}),!(Object.values(u).every(I=>I===null)||Object.values(u).length===0)&&(i+=m+" { ",_a.default.each(u,(I,x)=>{if(I){let A=I.split(" ").reduce((F,E,M)=>F+` calc(${E} * var(--mobile-padding-offset))`,"");i+=`${x}: ${A};`}}),i+=" } ")}),i}});function aae(t,e){let i=oae(t.pages.byId,wu),r=nae(i),n=rae(i);return{renderedPages:i,renderedPins:r,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var di,Us,mv,wu,fv,rae,nae,oae,NW,Nd=R(()=>{xe();Fe();Ri();di=pe(ve(),1);ut();Br();Y();Us=gn(),mv=()=>{},wu=[],fv=class extends xi{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:i=>{wu=[...wu,i]},onPageUnmount:i=>{wu=wu.filter(r=>r!==i)}},mv=this.updateHeights}updateHeights=e=>{this.setState(i=>({pageHeights:{...i.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let i=null,r=[];di.default.each(e,o=>{r.push({pageID:o.id,pageName:o.title,pageHeight:this.getHeightById(o.id)})});let n=di.default.maxBy(r,o=>o.pageHeight);return n!==void 0?di.default.filter(e,o=>o.id===n.pageID)[0]:!1};componentDidUpdate=(e,i)=>{this.makePinAdjustments(e,i)};findTallestOverlayAdjusterPageInLevel=(e,i)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,i)=>{let r=di.default.filter(this.props.nestingMap[i][e],o=>o.pin_options?.adjust&&!o.pin_options?.overlay),n=0;return di.default.each(r,o=>{n+=this.getHeightById(o.id)}),n};getAdjustOnlyPinsByLevel=(e,i)=>di.default.filter(this.props.nestingMap[i][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,i)=>di.default.filter(this.props.nestingMap[i][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,i)=>e.sort((r,n)=>i==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,i)=>{let r=[],n=null,o=this.getAdjustOnlyPinsByLevel(e,i);if(o.length>0?r.push(this.getClosestPageByProximity(o,e)):di.default.each(this.props.nestingMap,(l,u)=>{if(parseInt(u)>i&&l[e].length>0){let c=l[e].filter(g=>g.pin_options?.overlay===!0),d=l[e].filter(g=>g.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=u,r.length>0)return!1}}),r[0]===void 0){let l=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),u=e==="top"?0:l.length-1;l.length>0&&r.push(l[u])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??wu.find(i=>i.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,i)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||di.default.isEqual(this.props.renderedPins,e.renderedPins)&&di.default.isEqual(this.state.pageHeights,i.pageHeights)&&di.default.isEqual(this.props.renderedPages,e.renderedPages))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};di.default.each(this.props.nestingMap,(o,l)=>{let u={};l=parseInt(l),u.level=l,di.default.each(o,(c,d)=>{if(d==="center")return;u[d]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let g=u[d];g.hasOverlayPins=this.getOverlayPinsByLevel(d,l).length>0;let m=this.findTallestOverlayAdjusterPageInLevel(c,d);if(m){g.adjusterId=m.id,g.adjusterHeight=this.getHeightById(m.id),g.adjustsSelf=this.getAdjustOnlyPinsByLevel(d,l).length>0;let A=this.getPagesToAdjust(d,l).adjustedPages;A?.length>0&&(g.adjustedLevel=this.props.renderedPins[A[0].id]?.depth??"content",g.adjusteeIDs=di.default.map(A,"id"),r[m.id]={adjusts:di.default.map(A,"id"),location:d,adjustedHeight:this.getHeightById(m.id)})}let b=0,I=m?this.getHeightById(m.id):0,x=!0;g.totalHeight=(x?I:0)+this.getAdjustOnlyPageHeights(d,l),di.default.each(n.levels,function(A,F){F<l&&(b+=A[d].totalHeight)}),g.startingHeight=b===0?null:b}),n.levels[l]=u}),(!di.default.isEqual(i.adjustPairs,r)||!di.default.isEqual(i.renderedPins,this.props.renderedPins)||!di.default.isEqual(i.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n})};getAdjustingLevelHeight=(e,i,r)=>{let n=null;return di.default.each(e.levels,o=>{o[r].adjustedLevel===i&&(n=o[r].totalHeight)}),n};render(){return f(Us.Provider,{value:this.state,children:this.props.children||null})}},rae=Yn(t=>{let e=store.getState();return t.reduceRight((i,r)=>{let n=tt.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),i[n]||(i[n]={top:[],bottom:[],center:[]});let o=i[n],l=r.pin?r.pin_options.position:"center",u=o[l];return u.push(r),u.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),i},{})}),nae=Yn(t=>{let e=store.getState(),i=t.map(r=>({depth:tt.getParentSetList(e,r.id).length-1,pageListSort:e.structure.bySort[r.id],id:r.id,fixed:r.pin_options?.fixed&&r.pin_options?.fixed===!0})).sort((r,n)=>r.pageListSort-n.pageListSort).sort((r,n)=>{if(r.fixed||n.fixed)return r.depth-n.depth});return t.reduceRight((r,n,o)=>{if(n.pin===!0&&di.default.isPlainObject(n.pin_options)){let l=tt.getParentSetList(e,n.id).length-1;r[n.id]={depth:n.pin_options.fixed?0:tt.getParentSetList(e,n.id).length-1,originalDepth:l,location:n.pin_options?.position,type:n.pin_options.fixed?"fixed":n.pin_options.overlay?"overlay":"adjust",adjusts:n.pin_options?.adjust,sort:e.structure.bySort[n.id],pinSort:i.findIndex(u=>u.id===n.id)+1}}return r},{})}),oae=Yn((t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0&&i.overlay!==!0));NW=De(aae)(fv)});function _t(t){class e extends oe{constructor(r){super(r)}render(r){return f(t,{...this.props,pageInfo:this.context})}}return e.contextType=WW,e}var Cf,WW,bv,vf,Ti=R(()=>{xe();ut();Y();Cf=new Map,WW=gn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),bv=class extends oe{constructor(e){super(e)}setPageData=(e={},i)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(i.tagName)).indexOf(i);if(n!==-1){let o=Cf.get(this.props.value.pid+"-"+i.tagName+"-"+n);o?o={...o,...e}:o=e,Cf.set(this.props.value.pid+"-"+i.tagName+"-"+n,o)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?Cf.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return f(WW.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&Cf.clear()}};vf=De((t,e)=>({adminMode:t.frontendState.adminMode}))(bv)});var GW,If,OW,Cv,qe,Ni=R(()=>{GW=pe(ve(),1);bC();Ze();Cv=class extends du{constructor(){super(),this.data={baseUnit:-1,mobile:{active:!1,chrome:0,maxHeight:720},window:{w:1280,h:720}},U.isServer||(this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.matchMediaString="(max-aspect-ratio: 4/5)",this.mediaQuery=window.matchMedia(this.matchMediaString),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let i=e.getState();i.frontendState&&i.frontendState.adminMode!==OW&&(setTimeout(()=>{this.onWindowResize()},150),OW=i.frontendState.adminMode),i.adminState&&i.adminState.viewport!==If&&(If=i.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange();let e=this.mediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;If?e=If==="mobile":e=this.mediaQuery.matches,e!==this.data.mobile.active&&(this.data.mobile.active=e,this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var i=0;return e=GW.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),i=e.width<e.height?e.width:e.height,i/=100/e.weight,e.min&&i<e.min&&(i=e.min),e.max&&i>e.max&&(i=e.max),i}onWindowResize=()=>{let{data:e}=this,i=document.documentElement.clientWidth,r=window.innerHeight,n=0,o=0,l=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)o=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let m=100;o=0;let b;for(;;){let I=window.matchMedia.call(window,"(min-height:"+o+"px)").matches;if(b!==void 0&&I!==b&&(m/=2,m*=-1),o+=m,b=I,Math.abs(m)<.01){o=Math.round(o);break}}}n=l-o;let u=0,c=5,d=0,g=9;o+n>i&&(u=(o+n)/i-1),u=u/.777777778,u>1&&(u=1),d=this.getBaseUnit({weight:g+c*u,min:20,width:i,height:o+n}),d!==e.size&&document.documentElement.style.setProperty("--base-size",d+"%"),r!==e.window.h&&document.documentElement.style.setProperty("--viewport-height",r+"px"),e.window.h=r,e.window.w=i,e.mobile.maxHeight=l,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,this.data=e,this.emit("window-resize",[])}},qe=new Cv});var go,yt,pi,vi,tn=R(()=>{go=new Map;typeof window<"u"&&(window.listeners=go);yt=(t,e,i,r={})=>{let n=t;for(;n&&(go.has(n)&&go.get(n).has(e)&&go.get(n).get(e).forEach(o=>o(i)),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},pi=(t,e,i)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}go.has(t)||go.set(t,new Map);let r=go.get(t);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(i)||n.push(i)},vi=(t,e,i)=>{if(!go.has(t))return;let r=go.get(t);if(r.has(e)){if(!i){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==i)),r.get(e).length===0&&r.delete(e),r.size===0&&go.delete(t)}}});function fo(t){class e extends oe{constructor(r){super(r),this.lastScrollUIDRef=be()}render(){return f(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=Iv,e}function lae(t){return xt({updateFrontendState:Me.updateFrontendState},t)}var vv,sae,Iv,xu,Su,Hs,Wd,LW,yf,Ru,mo=R(()=>{xe();vv=pe(ve(),1);Ze();Zt();xe();Fe();ri();ut();Ni();tn();Y();sae={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},Iv=gn(vv.default.cloneDeep(sae)),xu={},Su={},Hs={default:new Set};U.isServer||(Wd=new ResizeObserver(function(t){t.forEach(function(e){yt(e.target,"elementResize",null,{bubbles:!1})})}));LW=(t,e)=>{t.forEach(function(i){let r="inside";i.boundingClientRect.bottom<0&&!i.isIntersecting?r="above":i.boundingClientRect.top>=0&&!i.isIntersecting&&(r="below"),yt(i.target,e,{hasLayout:i.boundingClientRect.width>0&&i.boundingClientRect.height>0,visible:i.isIntersecting,position:r},{bubbles:!1})})},yf=class extends xi{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,i)=>{if(i=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",o=e.parentNode?.nodeName==="MARQUEE-INNER",l=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");r||n||o||l?(r||l)&&(yt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),yt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Hs[i].has(e)||(Hs[i].add(e),Su[i].observe(e),xu[i].observe(e))};removeElementFromScrollContext=(e,i)=>{Su[i]?.unobserve(e),xu[i]?.unobserve(e),Hs[i]?.delete(e)};updateScrollPosition=e=>{if(U.isServer||!this.state.scrollingElement)return;let i=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo(i,r):this.state.scrollingElement.scrollTo(i,r)};onScrollRequest=e=>{e.defaultPrevented||(e.stopPropagation(),e.preventDefault(),this.scrollIntoView(e.target,e.detail?.transitionTime,e.detail?.preventQuickViewClose,e.detail?.lazyScroll,e.detail.callback||null,e.detail.verticalAlign))};scrollIntoView=(e,i=1e3,r=!0,n=!1,o=null,l="center")=>{if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){o&&o();return}let c=e.getBoundingClientRect();for(;c.width===0&&c.height==0&&e;)e=e.parentElement,c=e.getBoundingClientRect();let d=c.left+c.width*.5,g=c.top+c.height*.5;switch(l){case"center":g=c.top+c.height*.5;break;case"bottom":g=c.top+c.height;break;case"top":g=c.top;break}let m=document.documentElement.clientWidth,b=document.documentElement.clientHeight;if(n&&c.bottom>=20&&c.right>=20&&c.top<=b-20&&c.left<=m-20){o&&o();return}let I=this.scrollData.x,x=this.scrollData.y,A=Math.max(0,Math.min(this.scrollData.scrollHeight-b,x-(b*.5-g))),F=Math.max(0,Math.min(this.scrollData.scrollWidth-m,I-(m*.5-d))),E=A-x,M=F-I,k=0,T=0;cancelAnimationFrame(this.scrollAnimationFrame);var _=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",_),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),o&&o()};this.state.scrollingElement.addEventListener("mousewheel",_);let ne=Z=>{let L=T===0?0:Z-T;T=Z,k=k+L;let re=U.easeInOutCubic(k/i);k<=i?(this.updateScrollPosition({x:I+M*re,y:x+E*re}),this.scrollAnimationFrame=requestAnimationFrame(ne)):(this.updateScrollPosition({x:I+M,y:x+E}),_())};this.props.updateFrontendState({quickView:{autoScrolling:r}}),requestAnimationFrame(()=>{requestAnimationFrame(ne)})};render(){return f(Iv.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,i,r){U.isServer||(this.checkScrollElement(),this.state.scrollingElement!=i.scrollingElement&&this.removeListeners(i))}setNewElement=e=>{let i=vv.default.uniqueId();Hs[i]=new Set,e==window?(pi(document.scrollingElement,"elementResize",this.onResize),Wd.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(pi(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),Wd.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),Su[i]=new IntersectionObserver(r=>LW(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),xu[i]=new IntersectionObserver(r=>LW(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:i,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),Wd.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(vi(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),Wd.unobserve(e.scrollingElement)),Object.keys(Hs[e.scrollUid]).forEach(i=>{xu[e.scrollUid].unobserve(i),Su[e.scrollUid].unobserve(i),Hs[e.scrollUid].delete(i)})),e.scrollUid!="default"&&(xu[e.scrollUid].disconnect(),Su[e.scrollUid].disconnect(),delete xu[e.scrollUid],delete Su[e.scrollUid],delete Hs[e.scrollUid])};checkScrollElement=()=>{!U.isServer&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){U.isServer||this.checkScrollElement()}componentWillUnmount(){U.isServer||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{U.isServer||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{U.isServer||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};yf.contextType=Iv;Ru=De((t,e)=>({quickView:t.frontendState.quickView}),lae)(yf)});function uae(t,e,i,r){if(U.isServer)return;i=i||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let l=Reflect.construct(HTMLElement,[],n);l.__observedAttributes=i,l._editorProperties={},l._vdomComponent=t,l.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),l._customSlots=r&&r.customSlots?r.customSlots:[],l._replaceChild=r&&r.replaceChild,l._props={},l._uid=Fu.default.uniqueId(),l._initialMount=!0;let u=c=>{let d=new WeakMap;c.forEach(g=>{switch(g.type){case"childList":l._customElementComponent&&(d.has(l.children)||d.set(l.children,Array.from(l.children)),l._customElementComponent.setState({childArray:d.get(l.children)}));break;case"attributes":let m=g.target.getAttribute(g.attributeName);g.attributeName!=="style"&&g.attributeName!=="class"&&m!==l[g.attributeName]&&(l.__observedAttributes?.indexOf(g.attributeName)>-1?l[g.attributeName]=m:l._customElementComponent&&l._customElementComponent.setState(b=>{let I={...b.baseNodeProps};if(I[g.attributeName]!==m)return I[g.attributeName]=m,{baseNodeProps:I}}),l._props[g.attributeName]=m);break}})};return l.__observer=new MutationObserver(u),l.flushMutationQueue=function(){let c=l.__observer.takeRecords();c.length>0&&u(c)},i.forEach(c=>{let d=Fu.default.camelCase(c),g=function(){return l._customElementComponent?l._customElementComponent.state.baseNodeProps[c]:l._props?.[c]||void 0},m=function(b){let I=b;I=I==null||I===""?void 0:I,I=I==="true"?!0:I,I=I==="false"?!1:I;let x=!1,A=typeof I;if((I==null||A==="string"||A==="boolean"||A==="number")&&(x=!0),l._customElementComponent&&l._customElementComponent.setState(F=>{let E={...F.baseNodeProps};if(E[c]!==I)return E[c]=I,{baseNodeProps:E}}),l._props[c]=I,x){let F=c.toLowerCase();b===""&&l._customElementComponent.props.baseNode.hasAttribute(F)?l.removeAttribute(F):b!==""&&b!==l.getAttribute(F)&&l.setAttribute(F,b)}};Object.defineProperty(l,c,{get:g,set:m,configurable:!0}),Object.defineProperty(l,d,{get:g,set:m,configurable:!0})}),l}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=cae,n.prototype.disconnectedCallback=pae,n.prototype.adoptedCallback=dae;let o=e||t.tagName||t.displayName||t.name;return r?.extends?customElements.get(o)||customElements.define(o,n,{extends:r.extends}):customElements.get(o)||customElements.define(o,n)}function cae(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let i=document.createElement("style");i.id="space-filler",t?i.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:i.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(i)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=f(Af,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=f(hae,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),yt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&yv.push(this)}function dae(){}function pae(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&yt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var Fu,yv,Af,hae,bo,ei,Ki=R(()=>{xe();Fe();Br();Fu=pe(ve(),1);Ze();ut();mo();tn();Y();yv=[];Af=class extends oe{constructor(e){super(e);let i=this.getPropsFromAttributes();this.state={baseNodeProps:{...i,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,i=0,r={};for(i=e.length;i--;){let n=e[i].value==="true"?!0:e[i].value;n=n==="false"?!1:n,r[e[i].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(U.isServer)return;let e=this.getPropsFromAttributes();this.setState(i=>Fu.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),pi(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){vi(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let i=this.getPropsFromAttributes();this.setState(r=>Fu.default.isEqual(i,this.state.baseNodeProps)?null:{baseNodeProps:i})}};render(e,i){let{baseNodeProps:r,childArray:n}=i;return St(this.props.customElementComponent,{...e,...r,childArray:n})}},hae=fo(Af),bo=class extends xi{constructor(e){super(e),this.state={portals:[]},!U.isServer&&(Sc(this.props.portalHost)?this.stopListeningToVnodeDiff=EW(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return f(ee,{children:this.state.portals.map(([i,r],n)=>i&&r?ze(i,r):ze(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:i,element:r}=e;if(!i||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(o=>{let l=o.portals.findIndex(([c,d])=>d===r&&c!==null),u=[...o.portals];return l===-1?u.push([i,r]):(u[l]=[null,null],n=!0),{portals:u}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(i=>{let r=[...i.portals],n=r.findIndex(([o,l])=>l===e.element);return n!==-1?(r[n]=[null,null],{portals:[...r]}):null},()=>{})};onElementHostConnected=e=>{let i=e.element,r=[];this.setState(n=>{let o=[...n.portals];return o.forEach(([l,u],c)=>{i.contains(u)&&(r.push(u),o[c]=[null,null])}),{portals:o}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,yt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),pi(this.portalHostElement,"custom-element-connected",this.addPortal),pi(this.portalHostElement,"custom-element-disconnected",this.removePortal),pi(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let i=yv.filter(r=>this.portalHostElement.contains(r));i.forEach(r=>r.connectedCallback()),Fu.default.pullAll(yv,i)};componentDidMount(){}componentDidUpdate(e,i){U.isServer||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot.children){let n=Array.from(r[1].shadowRoot.children).find(o=>o.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){U.isServer||(this.portalHostElement&&(vi(this.portalHostElement,"element-host-connected",this.onElementHostConnected),vi(this.portalHostElement,"custom-element-disconnected",this.removePortal),vi(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},ei=uae});var XW,Av,BW,DW=R(()=>{xe();Dt();Mi();mo();Ri();XW=pe(ve(),1);Y();Av=class extends oe{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=be(),this.onDragOver=XW.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}Ie.globalDragEventController.customDropTarget!==this.dropRef.current&&(Ie.globalDragEventController.releaseCustomDropTarget(Ie.globalDragEventController.customDropTarget),Ie.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,i){let{draggingOverItem:r,readyForDrop:n,rect:o}=i,l={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return f("div",{ref:this.dropRef,style:l.frame,children:f("button",{className:"media-options-button multiple",style:l.replace,children:"Replace"})})}onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,i,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),o=this.state.swapTarget,l=r.draggedMediaItems[0],u=o.closest("[thumbnail-index]"),c=o.getAttribute("hash"),d=l.getAttribute("hash"),g=o.closest("[id]")?.getAttribute("id");if(u){let F=o.getAttribute("href");g=tt.getContentByPurl(n,F)?.id||null}if(!g||!d)return;let m=tt.getMediaByHash(n)[d]||null,b=tt.getMediaByHash(n)[c]||null;if(!m)return;let{CRDTItem:I}=Ie.getCRDTItem({reducer:"pages.byId",item:g});if(!(n.pages.byId[g].media||[]).find(F=>F.hash==m.hash)){if(!(I.get("media")instanceof Ie.adminWindow.Y.Array)){let E=new Ie.adminWindow.Y.Array;E.insert(0,I.get("media")||[]),I.set("media",E)}let F=Ie.convertStateToSharedType(m,new Ie.adminWindow.Y.Map);I.get("media").push([F])}if(u)Ie.applyChangesToYType(I,{thumb_media_id:m.id});else{let F=m&&b&&(m.is_video!==b.is_video||m.is_image!==b.is_image||m.is_video!==b.is_video);b&&F&&(o.removeAttribute("autoplay"),o.removeAttribute("loop"),o.removeAttribute("muted"),o.removeAttribute("poster"),o.removeAttribute("browser-default"),m.is_video?(!m.has_audio_track||m.duration<15?(o.setAttribute("autoplay",!0),o.setAttribute("muted",!0),o.setAttribute("loop",!0)):(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),m.duration<20&&o.setAttribute("loop",!0)),o.setAttribute("autoplay",!0),o.setAttribute("loop",!0),o.setAttribute("muted",!0)):m.is_url&&(m.url_type=="vimeo"||m.url_type=="youtube")&&(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),o.setAttribute("muted",!1),o.setAttribute("loop",!1))),o.removeAttribute("src"),o.setAttribute("hash",d),o.removeAttribute("width"),o.removeAttribute("height")}}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,i,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(Ie.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),Ie.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,i,r)=>{let n=i.target.closest("MEDIA-ITEM"),o=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(u=>u.getAttribute("hash")==="placeholder"),l=!r.inAdmin&&r.fromAdmin;if(n&&l&&o){let u=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||u?(Ie.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else Ie.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{Ie.globalDragEventController.on("dragover",this.onDragOver),Ie.globalDragEventController.on("drop",this.onDragDrop),Ie.globalDragEventController.on("dragend",this.onDragEnd),Ie.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),Ie.globalDragEventController.off("dragover",this.onDragOver),Ie.globalDragEventController.off("drop",this.onDragDrop),Ie.globalDragEventController.off("dragend",this.onDragEnd),Ie.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,i){(this.state.swapTarget!==i.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=Ie.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()})},BW=fo(Av)});var wf,wv,TW,MW=R(()=>{xe();xs();Dt();Mi();mo();Ze();wf=pe(ve(),1);Y();wv=class extends oe{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,cf.contentWindow?.CargoEditor&&Object.keys(cf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,i){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let i=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=wf.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,o=window.getComputedStyle(r);n=o.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let l=o.getPropertyValue("line-height");l=Number(l.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:l}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=wf.default.debounce((e,i)=>{e=CargoEditor.getActiveRange(),i=CargoEditor?.getActiveEditor();let r=i?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),o=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",o),this.setVisible(o)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let i=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(i)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!i))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,i,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=U.isSafari(),o=r.fontSize*.15*-1,l=r.lineHeight*.15*-1,u=document.createElement("input");u.style.display="inline-block",u.style.fontSize=r.fontSize+"px",u.style.border="0",u.style.background="blue",u.style.outline="none",u.style.width="2px",n?(u.style.height=r.lineHeight+"px",u.style.lineHeight=r.lineHeight+"px",u.style.margin=`${l}px 0 0 0`,u.style.padding="0",u.style.verticalAlign="text-bottom"):(u.style.height=r.fontSize+"px",u.style.verticalAlign="middle",u.style.margin=`${o}px 0 0 0`,u.style.padding="0"),u.setAttribute("data-ignore-changes",""),u.setAttribute("data-prevent-copy",""),u.setAttribute("disabled",""),u.setAttribute("readonly",""),u.setAttribute("test-delete-visible",""),u.setSaveable(!1),e.insertNode(u);let c=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),d=u.getBoundingClientRect();u.nextSibling&&u.nextSibling.nodeType===Node.TEXT_NODE&&u.nextSibling.setSaveable(!0),u.remove();let g=c.height-i.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-g,height:d.height,center:d.bottom-g-(d.top-g),left:d.left,right:d.right,top:d.top-g,width:d.width,x:d.x-g,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),i=!1,r=!1,n=null,o=null,l=null,u=null,c=null,d=null,g=0,m=0,b=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(b>20&&(b=20),b<10&&(b=10),!wf.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(o=n.getElement()),i=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=o?o.getBoundingClientRect():null,r||i){let x=this.getTextCursorRect(e,d,this.state.parentFontInfo),A=0,F=0;if(!x){this.ticking=!1;return}let E=this.state.parentFontInfo,M=1-E.fontSize/E.lineHeight,k=E.lineHeight,T=E.fontSize;U.isSafari()?A=x.bottom-E.lineHeight*.5:A=x.bottom-x.height*.5,u=A,c=Math.ceil(x.left)}m=c?4:0,c=c+m,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:u,left:c},rect:{top:u,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let i=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),Ie.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:i})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,i=e>20?20:e;i=i<10?10:i;let r=i/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:i+"px",width:i+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:i+"px",width:i+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return f("div",{style:n.frame,children:f("button",{className:"insert-content-button",style:n.button,onContextMenu:o=>{o.preventDefault(),this.callContextMenu(o)},onMouseDown:o=>{this.callContextMenu(o)},children:f("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:i+"px",height:i+"px",viewBox:"0 0 20 20",fill:"none",children:[f("circle",{cx:"10",cy:"10",r:"8"}),f("g",{children:[f("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),f("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},TW=fo(wv)});var Co,_e,xv,ZW,Mi=R(()=>{xe();Fe();ut();Co=pe(ve(),1);Dt();Ze();DW();MW();Br();Y();_e={},xv=class extends oe{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=Co.default.throttle(this.testHover,60),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=Co.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=be(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(i=>{this.dragController=i,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(i=>{console.warn("Editor overlay failed to find drag controller.",i)}),_e.lock=this.lock,_e.unlock=this.unlock,_e.lockItem=this.lockItem,_e.unlockItem=this.unlockItem,_e.setHoveredElements=this.setHoveredElements,_e.deactivateHoverElement=this.deactivateHoverElement,_e.activateHoverElement=this.activateHoverElement,_e.getPortal=this.getPortal,_e.removePortal=this.removePortal,_e.portalMap=this.portalMap,_e.testHover=this.testHover,_e.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return f("div",{className:this.state.selecting?"selecting":"",id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:[f("style",{children:`@font-face {
				  font-display: block;
				  font-family: "Cargo Monument Grotesk Mono";
				  src: url("https://static.cargo.site/assets/C3/fonts/Monument-Grotesk-Mono/CargoMonumentGroteskMono-Regular.woff2") format("woff2"),url("https://static.cargo.site/assets/C3/fonts/Monument-Grotesk-Mono/CargoMonumentGroteskMono-Regular.woff") format("woff");
				  font-style: normal;
				  font-weight: 400;
				  unicode-range: U+0000-DFFF, U+F900-FFFD;
				}`}),this.state.unattachedOverlayContainer&&ze(f(ee,{children:[f(BW,{}),e?f(TW,{}):null]}),this.state.unattachedOverlayContainer)]})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/5626ef/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let i=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:i})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{Ie.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,i){let{hoveredElements:r}=i,{hoveredElements:n}=this.state,o=Co.default.difference(n,r);Co.default.difference(r,n).forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,g)=>{d?.pointerOut?.()})}),o.forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,g)=>{d?.pointerIn?.()})}),this.updatePageButtonPositions(),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,i,r)=>{this.removePortal(i)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),Ie.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=Ie.adminWindow;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i("not found."))};n=setInterval(o,300),o()});onMutationStart=()=>{RW()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{FW(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=Ie.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},o=e.getBoundingClientRect();Object.keys(n).forEach(l=>{n[l]=Math.round(o[l])}),n.height<10&&(n.height=10,n.bottom=n.top+10),r.extraMargins.forEach((l,u)=>{if(!(l===void 0||l===0))switch(u){case 0:n.top=n.y=n.top-l,n.height=n.height+l;break;case 1:n.right=n.right+l,n.width=n.width+l;break;case 2:n.height=n.height+l,n.bottom=n.bottom+l;break;case 3:n.left=n.x=n.left-l,n.width=n.width+l;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((l,u)=>{l?.updatePosition?.(n)})}};onContentChange=(e,i)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect),this.updatePageButtonPositions()};updatePageButtonPositions=()=>{let i=Array.from(this.portalMap).map(([u,c])=>{let d=null,g=Array.from(c?.portalHosts??[]).find(([x,A])=>A.props?.name=="EditPageButton"&&!A.props.isEditingPage?(d=x,!0):!1);if(!d?.querySelector("button.edit-page"))return!1;let m=d.querySelector("button.edit-page").getBoundingClientRect(),I=m.top<c.rect.top?{left:m.left+-g[1].state.shiftButtonX,width:m.width+1,top:m.top,height:m.height*2+1}:{left:m.left+-g[1].state.shiftButtonX,width:m.width+1,top:m.top-m.height+-2,height:m.height*2+1};return{mapRect:c.rect,portalHost:d,proposedRect:I,rect:I,component:g[1]}}).filter(u=>!!u),r=Co.default.sortBy(i,u=>u.mapRect.left),n=!0,o=4,l=0;for(;n&&l<o;)n=!1,r.forEach((u,c,d)=>{if(c===0)return;let g=u.rect,m=d.filter(b=>{if(b==u)return!1;let I=b.proposedRect;return g.left<I.left+I.width&&g.left+g.width>I.left&&g.top<I.top+I.height&&g.top+g.height>I.top});if(m.length>0){n=!0;let b=d[c-1],I=Co.default.sortBy(m,x=>-(x.proposedRect.left+x.proposedRect.width))[0];u.proposedRect={left:I.proposedRect.left+I.proposedRect.width,width:g.width,top:g.top,height:g.height},u.component.setState({shifted:!0,shiftButtonX:u.proposedRect.left-g.left}),c==1&&r[0].component.setState({shifted:!0,shiftButtonX:0})}else u.component.setState({shifted:!1,shiftButtonX:0}),c==1&&r[0].component.setState({shifted:!1,shiftButtonX:0})}),l++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,i={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((o,l)=>{i.component===o&&(n=l)}),n)return n;{let o=document.createElement("div");return this.sR.appendChild(o),r.portalHosts.set(o,i.component),o}}else{let o=document.createElement("div");this.sR.appendChild(o);let l={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:i.extraMargins||[]};return o.setAttribute("editor-overlay-tag-name",e.tagName),o._editorBaseNode=e,l.portalHosts.set(o,i.component),this.portalMap.set(e,l),i.trackResize&&this.resizeObserver.observe(e),i.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),i.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),o}};removePortal=(e,i)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(i)&&(r.portalHosts.delete(i),i.parentNode.removeChild(i)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let i=this.lockedElements.indexOf(e);i>-1&&this.lockedElements.splice(i,1)};deactivateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r],o=r.indexOf(e);if(o>-1)n=n.splice(o,1);else return null;return{...i,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...i,hoveredElements:n}})};setHoveredElements=e=>{let i=Array.isArray(e)?e:[e];i=i.filter(r=>!!r),Co.default.isEqual(this.state.hoveredElements,i)||this.setState({hoveredElements:i})};testHover=()=>{let{locked:e}=this.state;if(e)return;let i=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(c=>c.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(c=>!!c),r=Co.default.difference(r,i),r.forEach(c=>{c&&i.indexOf(c)==-1&&i.push(c)}),this.noPointerEventsArray.forEach(c=>{let d=this.portalMap.get(c);d&&d.rect&&this.pointerPosition.x<=d.rect.left+d.rect.width&&this.pointerPosition.x>=d.rect.left&&this.pointerPosition.y<=d.rect.top+d.rect.height&&this.pointerPosition.y>=d.rect.top&&i.indexOf(c)==-1&&i.push(c)}),i=Co.default.uniq(i);let n=[...this.state.hoveredElements];this.lockedElements.forEach(c=>{let d=n.indexOf(c),g=i.indexOf(c);g===-1&&d>-1?i.push(c):d===-1&&g>-1&&i.splice(g,1)});let o=CargoEditor?.getActiveEditor?.()?.getElement(),l=o?o.closest(".overlay-content"):null,u=l&&i.some(c=>c.tagName==="BODYCOPY"&&l.contains(c));o&&l&&u&&(i=i.filter(c=>l.contains(c))),this.setHoveredElements(i)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},ZW=De((t,e)=>({adminMode:t.frontendState.adminMode}))(xv)});var Sv,Od,gae,xf,Zi,vo=R(()=>{xe();Mi();Sv=pe(ve(),1);Y();Od=[],gae=Sv.default.debounce(()=>{if(CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let r=[],n=[];if(t&&!t.collapsed){var i=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);i=i.filter(o=>o.shadowRoot),Od.forEach(o=>{i.includes(o.props.baseNode)?r.push(o):n.push(o)})}else n=Od;if(n.forEach(o=>{o.setState({selected:!1})}),r.forEach(o=>{o.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(o.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(o.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let o=Od.find(l=>l.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);o&&o.setState({selected:!0,collapseDirection:e.collapseDirection})}Od.length=0}},30),xf=class extends oe{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+Sv.default.uniqueId():"selection-status"}render(e,i){let r=i.collapseDirection?" "+i.collapseDirection+" collapsed-range":"";return f(ee,{children:[f("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`::selection{
			background-color:transparent;
		}
		:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),f("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()&&(Od.push(this),gae()),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,i){this.state.collapseDirection!==i.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(_e.updateElementRect(this.props.baseNode),this.updateCurrentColor());let i=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=i),this.setState({selected:r,collapseDirection:i}),this.props.onSelectionChange&&(i?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};xf.defaultProps={inFront:!0,overlayMode:!1};Zi=xf});var Sf,Gd,_W,Ld,kW,VW=R(()=>{xe();Sf=pe(ve(),1);Y();Gd=new Map,_W=t=>{let e=[],i=[],r=[];Gd.forEach((o,l)=>{o.locateEyeball();let{rect:u}=o.state;if(o.props["roll-independently"]==!0){let c=Math.atan2(t.clientY-(u.top+u.height*.5),t.clientX-(u.left+u.width*.5))*(180/Math.PI)+90;o.setState({eyeRotation:c})}else i.push(u.left+u.width*.5),r.push(u.top+u.height*.5),e.push(o)});let n={x:Sf.default.mean(i),y:Sf.default.mean(r)};e.forEach(o=>{let l=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;o.setState({eyeRotation:l})})},Ld=class extends oe{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=Sf.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,i){return f(ee,{children:[e.children,f("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){Gd.size==0&&window.addEventListener("pointermove",_W),Gd.set(this.props.baseNode,this)}componentWillUnmount(){Gd.delete(this.props.baseNode),Gd.size===0&&window.removeEventListener("pointermove",_W)}};Ld.defaultProps={"roll-independently":!0};Ld.transformSlot="--rotate-transform";kW=Ld});var UW,Xd,HW,PW=R(()=>{xe();UW=pe(ve(),1);Y();Xd=class extends oe{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,i){let{animate:r}=e,n=Number(r)!==0,o=n?50/Number(r):1,l="var(--base-translate, translate(0))",u=l;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(l+=` rotate(${parseFloat(e.rotation)}deg)`,u+=` rotate(${parseFloat(e.rotation)+360}deg)`):(l+=` var(${c}, translate(0))`,u+=` var(${c}, translate(0))`)}),f(ee,{children:[e.children,f("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${l};
                    }
                    to {
                        transform: ${u};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(o)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=UW.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};Xd.defaultProps={rotation:0,animate:0};Xd.transformSlot="--rotate-transform";HW=Xd});var YW,zW=R(()=>{YW={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var QW,zn,Rv,Rf,jW,JW=R(()=>{QW=pe(ve(),1);xe();Fe();zW();tn();Y();Rv=new Set,Rf=class extends oe{constructor(e){super(e),this.flierID="-"+(0,QW.uniqueId)(),this.flierRef=be();let i=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:i,calculatedAnimations:{fly1:this.calculateFlyAnimation(i,1),fly2:this.calculateFlyAnimation(i,2),fly3:this.calculateFlyAnimation(i,3),fly4:this.calculateFlyAnimation(i,4)}}}generateRandomIntInclusive(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var i=Math.sin(e)*1e4;return i-Math.floor(i)}shuffleFromSeed(e,i){for(var r=e.length,n,o;r;)o=Math.floor(this.generateRandomIntFromSeed(i)*r--),n=e[r],e[r]=e[o],e[o]=n,++i;return e}calculateFlyAnimation(e,i){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),o=Number(this.props.scale.replace("vmax","")),l=this.props.rotation/5*180,u=[{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vh`},{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`}],c=[{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`},{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*o)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`}],g=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`}],m=n.reduce((b,I)=>{switch(I){case"ltr":return b.concat(u);case"rtl":return b.concat(c);case"ttb":return b.concat(d);case"btt":return b.concat(g);default:return b}},[]);switch(i){case 1:return`
					0% {
						transform: translateX(${m[0].x}) translateY(${m[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${m[0].x}) translateY(${m[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[1].x}) translateY(${m[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[1].x}) translateY(${m[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${m[2].x}) translateY(${m[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${m[2].x}) translateY(${m[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[3].x}) translateY(${m[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[3].x}) translateY(${m[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${m[4].x}) translateY(${m[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${m[4].x}) translateY(${m[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[5].x}) translateY(${m[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[5].x}) translateY(${m[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${m[6].x}) translateY(${m[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${m[6].x}) translateY(${m[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[7].x}) translateY(${m[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[7].x}) translateY(${m[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let i=Number(e.animationName.substr(3,1)),r=i<4?i+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(zn||(zn=document.createElement("media-item"),zn.setAttribute("no-component",""),zn.shadowRoot||zn.attachShadow({mode:"open"}),zn.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(zn)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",zn.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",i=>this.onAnimationEnd(i))})}Rv.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),Rv.delete(this),Rv.size==0&&zn&&(zn.remove(),zn=null)}render(e,i){let{speed:r,rotation:n,scale:o,delay:l,adminMode:u}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:g,portalElement:m}=i;return m?f(ee,{children:[f("style",{children:":host {display:none!important;}"}),ze(f(ee,{children:[f("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9999;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${l}s;
						animation-duration: ${this.calculateDuration(r)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${o};
						height: ${o};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${o};
						height: ${o};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${g.fly1}
					}

					@keyframes fly2${this.flierID} {
						${g.fly2}
					}

					@keyframes fly3${this.flierID} {
						${g.fly3}
					}

					@keyframes fly4${this.flierID} {
						${g.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),f("div",{className:`flier${this.flierID} ${c}${this.flierID}`,ref:this.flierRef,children:f("div",{className:"spinner",children:e.children})})]}),m)]}):null}};Rf.defaultProps=YW;jW=Rf});var qW,Bd,KW,$W=R(()=>{xe();Fe();qW=pe(ve(),1);tn();Y();Bd=class extends xi{constructor(e){super(e),this.uid=qW.default.uniqueId(),this.state={inited:!1,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,inTransition:{},suppressTransition:!0}}render(e,i){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(c=>c!=="").map(c=>"--scroll-"+c);n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(c=>c+": var("+(c.startsWith("--")?"":"--")+c+"-"+r+"); ").join(" ");let o=this.props["scroll-animation-duration"]||"1000",l=Object.values(this.state.inTransition).some(c=>c==!0),u=!!this.props.baseNode.closest(".overlay-animating");return f(ee,{children:[e.children,f("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);
					${l||this.state.waitingForTransition?"will-change: opacity, transform;":""}

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: ${o}ms transform ease-in-out, ${o}ms opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||u?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}

				:host-context(.overlay-content.overlay-animating) {
					transition: none !important;
				}
			`})]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onTransitionStart=e=>{e.target===this.props.baseNode&&this.setState(i=>({...i,waitingForTransition:!1,inTransition:{...i.inTransition,[e.propertyName]:!0}}))};onTransitionEnd=e=>{e.target===this.props.baseNode&&this.setState(i=>{let r={...i.inTransition,[e.propertyName]:!1},n=Object.values(r).every(o=>o==!1);return{...i,suppressTransition:n,inTransition:r}})};componentDidMount(){if(this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),this.props.customElementMode){let e=this.props.visibility?.visible??!1,i=this.props.visibility?.position??"below",r=this.props.visibility?.hasLayout??!1;this.setState({isVisible:e,viewportIntersection:i,hasLayout:r})}else pi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}componentDidUpdate(e,i){if(this.state.viewportIntersection!==i.viewportIntersection&&(this.state.isVisible?this.setState({waitingForTransition:!0,suppressTransition:!1}):this.state.waitingForTransition||this.setState({suppressTransition:!0})),this.props.customElementMode&&this.props.visibility?.position!==e.visibility?.position){let r=this.props.visibility?.visible?this.props.visibility.visible:!1,n=this.props.visibility?.position||"below",o=this.props.visibility?.hasLayout||!1;this.setState({isVisible:r,viewportIntersection:n,hasLayout:o})}}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};Bd.defaultProps={"scroll-variables":""};Bd.transformSlot="--scroll-translate";KW=Bd});var i7e,Dd,Ff,fae,eO,tO=R(()=>{xe();ut();Ti();i7e=pe(ve(),1);Y();Dd=new Map,Ff=class extends oe{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,i){if(e.adminMode)return e.children;let{x:r,y:n,z:o}=i;return f(ee,{children:[e.children,this.inSlideshow?null:f("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${i.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${i.interacted?`translate3d(${r}px, ${n}px, ${o+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&i.interacted?`z-index: ${o+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let i=this.state.z;Dd.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>i&&r.setState(o=>({z:o.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:Dd.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let i=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-i,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),Dd.set(this.props.baseNode,this),this.setState({z:Dd.size+10})}componentDidUpdate(e,i){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),Dd.delete(this.props.baseNode)}};Ff.transformSlot="--drag-transform";fae=De((t,e)=>({adminMode:t.frontendState.adminMode}))(Ff),eO=fae});var iO,Fv=R(()=>{iO={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var l7e,Ef,rO,nO=R(()=>{xe();l7e=pe(ve(),1);Fv();Y();Ef=class extends oe{constructor(e){super(e)}render(e,i){let r=this.props["dropshadow-offset"].split(" "),n=r[0],o=r.length>1?r[1]:r[0];return f(ee,{children:[e.baseNode.tagName==="MEDIA-ITEM"?f("style",{children:`
                        img {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):f("style",{children:`
                        :host {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};Ef.defaultProps=iO;rO=Ef});var g7e,Nf,oO,aO=R(()=>{xe();g7e=pe(ve(),1);Y();Nf=class extends oe{constructor(e){super(e)}render(e,i){return f(ee,{children:[e.baseNode.tagName==="MEDIA-ITEM"?f("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):f("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};Nf.defaultProps={"background-color":"rgba(0,0,0,0)"};oO=Nf});var v7e,Wf,sO,lO=R(()=>{xe();v7e=pe(ve(),1);Fv();Y();Wf=class extends oe{constructor(e){super(e)}render(e,i){let r=Object.keys(e).reduce((n,o)=>{if(o.includes("-style")){let l=o.replace("-style","");n.push({part:l,styles:e[o]?e[o].replaceAll(";","!important;"):""})}return n},[]);return f(ee,{children:[f("style",{children:r.map(({part:n,styles:o})=>`[part*="${n}"] { ${o} }`)}),e.children]})}};Wf.defaultProps={};sO=Wf});var uO=R(()=>{});var F7e,Of,cO,dO=R(()=>{xe();F7e=pe(ve(),1);uO();Y();Of=class extends oe{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,i){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),o="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):o="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):o="ease";break;case Number(this.props["blink-transition"])>0:o="ease";break}return f(ee,{children:[e.children,f("style",{children:`
					:host {
						animation: ${r}s infinite ${o} blink;
						-webkit-animation: ${r}s infinite ${o} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};Of.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};cO=Of});var Td,Gf,yn,Ev,Lf,Ps=R(()=>{xe();Fe();Td=pe(ve(),1);Ze();vo();tn();VW();PW();JW();$W();tO();nO();aO();lO();dO();mo();Y();Gf=new Set,yn=class extends oe{constructor(e){switch(super(e),U.isServer||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:HW,"eye-roll":kW,drag:eO,"scroll-transition":KW,"flying-object":jW,dropshadow:rO,background:oO,"inline-part-styles":sO,blink:cO},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,i){let r=e.customElementMode?this.props.children:f("slot",{});if(i.attributes.uses.length==0)return f(ee,{children:[f("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];i.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&this.usesKeys[l].transformSlot&&n.push(this.usesKeys[l].transformSlot)}),i.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&(r=St(this.props.customElementMode?this.usesKeys[l]:fo(this.usesKeys[l]),{...this.state.attributes,...this.props,lowestLevel:u==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let o=f(ee,{children:[this.props.adminMode&&!e.customElementMode&&f(Zi,{baseNode:this.props.baseNode}),f("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(l=>`var(${l}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?o:ze(o,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,i){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let i=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(i))n==="false"?i[r]=!1:n==="true"&&(i[r]=!0);return this.props.customElementMode&&(i.uses=(i.uses||"")+" "+this.props.uses),i.uses=i.uses?.split(" ")||[],i.uses=Td.default.uniq(i.uses),i.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...i}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else Td.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};yn.defaultProps={uses:[]};Ev=class extends oe{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!U.isServer&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]"));e=e.filter(i=>!window.customElements.get(i.tagName.toLowerCase())),e.forEach(this.addToUseList),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"],attributeOldValue:!0})}componentWillUnmount(){this.observer?.disconnect(),Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=e=>{this.mutationsList.push(...e),cancelAnimationFrame(this.onSummaryAnimationFrame),this.hasRunFirstMutationSummary?this.onSummaryAnimationFrame=requestAnimationFrame(this.onSummary):(this.onSummary(),this.hasRunFirstMutationSummary=!0)};onSummary=()=>{let e=this.mutationsList,i=[],r=[];e.forEach(n=>{let o=Array.from(n.addedNodes),l=Array.from(n.removedNodes);o.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(i=[...i,...Array.from(u.querySelectorAll("[uses]"))])}),l.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(r=[...r,...Array.from(u.querySelectorAll("[uses]"))])}),i=[...i,...o.filter(u=>u.hasAttribute?.("uses"))],r=[...r,...l.filter(u=>u.hasAttribute?.("uses"))],n.type==="attributes"&&(n.oldValue===null?i.push(n.target):n.target.getAttribute("uses")===null&&r.push(n.target))}),i=Td.default.uniq(i),r=Td.default.uniq(r),i=i.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),r=r.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),i=i.filter(n=>n.hasAttribute("uses")),r=r.filter(n=>!n.hasAttribute("uses")),i.forEach(this.addToUseList),r.forEach(this.removeFromUseList),this.mutationsList=[]};addToUseList=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let n={};e.hasAttribute("uses")&&(n.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(n.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(n.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(n["scroll-transition"]=e.getAttribute("scroll-transition"));let o=document.createElement("span");for(let u in n)o.setAttribute(u,n[u]);e.parentNode.insertBefore(o,e);let l=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,o,-1,l),o.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=o});return}Gf.has(e)||Gf.add(e);let i={component:f(yn,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};yt(e,"custom-element-connected",i),this.portalHost=i.portalHost};removeFromUseList=e=>{if(yt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Gf.has(e)&&(Gf.delete(e),e.shadowRoot&&document.body.contains(e)))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])});else{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])}}},Lf=Ev});var Qn,mae,pO,Nv,hO,bae,gO=R(()=>{xe();Ri();Ni();Ze();Qn=pe(ve(),1);Y();mae={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/5626ef/_jsapps/backdrop/wave/main.js")},pO=Qn.default.memoize(t=>new Promise(async(e,i)=>{if(U.isServer)return i();await bae();let{default:r}=await mae[t]();e(r)})),Nv=class extends oe{constructor(e){super(e),this.ref=be(),pO(this.props.path).catch(i=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await pO(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let i=Ta[this.props.path.replace("legacy/","")],r={page_id:this.props.id};Qn.default.each(i?.default.defaults,(n,o)=>{r[o]=n.value}),this.onChangeCustom=i?.onChangeCustom?i.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+Qn.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!Qn.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return f("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},hO=Nv,bae=Qn.default.once(async()=>{if(U.isServer)return;let{Backbone:t,underscore:e,jQuery:i}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=i,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>qe.data.mobile.active,IsAdminEdit:()=>U.isAdminEdit},Event:Qn.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let o=window.store.getState(),l=tt.getMediaByHash(o)[r],u=new Cargo.o.model.image({...l});if(l&&u)return u.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let o=window.store.getState(),l=tt.getMediaByHash(o)[r];return l?{w:l.width,h:l.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+l.hash+"/"+l.name,id:r}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){Qn.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(Qn.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var o=this.getSquareCrop();n.c={x:o.x,y:o.y,w:o.w,h:o.h}}var l=["t","w","h","q","c"],u=[],c=!1,d=!1;Qn.default.each(n,function(m,b){l.indexOf(b)===-1||m===""||(b==="c"?u.push("c/"+m.x+"/"+m.y+"/"+m.w+"/"+m.h):u.push(b+"/"+m),c=b=="w"?m:b=="c"&&m.w?m.w:c,d=b=="h"?m:b=="c"&&m.h?m.h:d)},this);var g=this.getScaleSize(c,d);return n.w=g.w,n.h=g.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+u.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&Qn.default.each(n,function(o){o<1e3&&(r=o)}),r},getScaleSize:function(r,n){var o,l,u=r,c=n;if(o=parseInt(this.get("width")),l=parseInt(this.get("height")),!(r&&n)){if(o==l)u=r||n||o,c=u;else if(r)var d=o/r,c=Math.floor(l/d),u=r;else if(n)var d=l/n,u=Math.floor(o/d),c=n}return{w:u,h:c}},getFitSize:function(r,n,o,l){if(r=parseInt(r),n=parseInt(n),n>r)var u=r/o,c=Math.floor(n/u),d=o;else if(r>n)var u=n/l,d=Math.floor(r/u),c=l;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var Eu,Nu,Ys=R(()=>{xe();Eu=function(t,e,i={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r={},n=[],o=0,l=t.attributes,u=t.childNodes;for(o=l.length;o--;)r[l[o].name]=l[o].value;for(i={...r,...i},o=u.length;o--;){let c=Eu(u[o],null);n[o]=c}return St(e||t.nodeName,i,n)},Nu=(t,e,i)=>{let r=window.devicePixelRatio>1,n=i/t-e*((t-1)/t);n=Math.max(n,1);let o=[];n*t+e*(t-1)>i+.001&&(e=Math.floor(i/(t-1)-n));let u=r?Math.round(e*2)/2:Math.round(e);for(let c=0;c<t;c++){let d={left:n*c+e*c,right:n*c+e*c+n};c<t-1?d.right=r?Math.round(d.right*2)/2:Math.round(d.right):d.right=i,c>0&&(d.left=o[c-1].right+u),o.push(d)}return{columnAndGutterMap:o,columnWidth:n,gutterPixelWidth:u,halfPixels:r}}});var d4e,Wv,Xf,Dr,ka=R(()=>{xe();Ze();d4e=pe(ve(),1);Y();U.isServer||(Wv=new ResizeObserver(function(t){t.forEach(function(e){e.target.dispatchEvent(new CustomEvent("reference-resize",{detail:{width:e.contentRect.width},bubbles:!1,cancelable:!0,composed:!0}))})}));Xf=class extends oe{constructor(e){super(e),this.elementRef=be(),this.elementRef.current={},this.saveRef=i=>r=>{this.elementRef.current[i]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return f("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(i=>{let r=e[i];return f("div",{tabIndex:"-1",ref:this.saveRef(i),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,i){}onResize=e=>{let i=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(i,e.detail.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];i.addEventListener("reference-resize",this.onResize),Wv?.observe(i)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Wv?.unobserve(i)})}};Xf.defaultProps={values:{elWidth:"100%"}};Dr=Xf});var A4e,Bf,Tr,Va=R(()=>{xe();Fe();mo();Mi();A4e=pe(ve(),1);Y();Bf=class extends oe{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,i){return this.renderElement?ze(f(ee,{children:e.render({...i,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(i=>({pointerAttention:!0,scrollIncrement:i.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let i=this.props.buttonHeight||0,r=0,n=e.height,o=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:o,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),_e.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(_e.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=_e.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),_e.testHover()}componentDidUpdate(e,i){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==i.pointerAttention||this.state.noPointerEvents!==i.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),_e.testHover(),this.requestTick())}};Bf.defaultProps={buttonMode:"inside",buttonHeight:0};Tr=fo(Bf)});var Mr,Df,Io,Wu=R(()=>{xe();Fe();Dt();Va();Mi();vo();ut();Mr=pe(ve(),1);Ri();Y();Df=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=Mr.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,i){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:o,draggingOver:l,adjacentIndexes:u,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:g,UIWindow:m}=i,b=this.props["thumbnail-index"]!==void 0,I=23;return f(ee,{children:[f(Zi,{onlyAllowCollapsedRange:!0,baseNode:r}),f("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${u.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${u.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${u.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${u.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),f(Tr,{...this.props,hasFocus:!!m,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:I,buttonMode:"inside",baseNode:this.props.galleryInstance,render:x=>{let{pointerAttention:A,overlayPosition:F}=x,E=0;return F.y<=1&&(E=Math.min(-F.y+1,F.height+-I+1)),f(ee,{children:f("div",{className:`editor-overlay editor-outline${A||m?" hover":""}${A||m?" button-hover":""}${m?" focus":""}`,style:{transform:`translate3d(${F.x}px, ${F.y}px, 0)`,width:F.width+"px",height:F.height+"px",display:A||m?"block":"none",minHeight:"27px"},children:[f("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${E}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:f("button",{onMouseDown:M=>{this.launchUIWindow(M)},ref:this.galleryButtonRef,className:"text",children:b?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let i=[],r=[],n=[],o=!1,l=!1,u=this.props["thumbnail-index"],c=!1;e.forEach(g=>{if(g.target.tagName=="MEDIA-ITEM"){if(i.indexOf(g.target)>-1||g.type!=="attributes"||g.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(g.attributeName)>-1)return;u&&i.push(g.target),!(g.attributeName==="style"||g.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(g.attributeName)&&i.push(g.target)}else g.target==this.props.galleryInstance&&(g.removedNodes.length>0||g.addedNodes.length>0)?(this.props.allowedElements&&(l=[...Array.from(g.addedNodes),...Array.from(g.removedNodes)].some(this.props.allowedElements)),o=g.addedNodes.length>0||o,r=[...r,...Array.from(g.addedNodes).filter(m=>m.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(g.removedNodes).filter(m=>m.tagName==="MEDIA-ITEM")]):g.type==="characterData"&&(c=g.target)}),r=Mr.default.uniq(r),n=Mr.default.uniq(n),i=Mr.default.uniq(i),n.forEach(g=>{g.itemResize=null,g.itemDragStart=null});let d=Array.from(this.props.galleryInstance.childNodes).filter(g=>g?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&Mr.default.remove(d,this.props.allowedElements),d.forEach(g=>{g.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(g=>g.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||i.length>0||l||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,i,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=Mr.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,i,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let o=this.props.galleryInstance.getBoundingClientRect(),l=60,u=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),g=[],m=i.clientX+-o.left,b=i.clientY+-o.top,I=15,x,A=0,F,E=0,M=null;for(x=0;x<l;x++)if(M=null,A=A+c,I=I*u+2,F=i.clientX+Math.cos(A)*I,E=i.clientY+Math.sin(A)*I,M=document.elementFromPoint(F,E),M&&(M=M.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(M)||(M=null),M&&g.indexOf(M)===-1)if(this.dragMap.has(M)){let K=this.dragMap.get(M);F<=K.x2+o.left&&F>=K.x1+o.left&&E<=K.y2+o.top&&E>=K.y1+o.top&&g.push(M)}else g.push(M);let k=g.map(K=>{let te;if(this.dragMap.has(K))te=this.dragMap.get(K);else{let Pe=K.getBoundingClientRect();te={w:Pe.width+-(15*2),h:Pe.height+-(15*2),x1:Pe.left+-o.left+15,x2:Pe.left+Pe.width+-o.left+-15,y1:Pe.top+-o.top+15,y2:Pe.top+Pe.height+-o.top+-15},this.dragMap.set(K,te)}let se=!1,z=!1,V=!1,ie=!1,le=!1,ce=!1,ge=0,fe=0,We=0;m>=te.x1&&m<=te.x2?(z=!0,m<te.x1+te.w*.5?ce=!0:le=!0,We=0):te.x1>m?(ce=!0,We=te.x1-m):m>te.x2&&(We=te.x2-m,le=!0),b>=te.y1&&b<=te.y2?(se=!0,b<te.y1+te.h*.5?ie=!0:V=!0,fe=0):te.y1>b?(ie=!0,fe=te.y1-b):b>te.y2&&(V=!0,fe=te.y2-b),ge=Math.sqrt(fe*fe+We*We);let Ee=d.indexOf(K),Be=K.getAttribute("slot"),ke=0,at=0;return this.props.dragIndicationType==="columns"&&(ke=Array.from(K.assignedSlot.parentElement.children).indexOf(K.assignedSlot)),{inX:z,inY:se,distance:ge,rise:fe,run:We,above:V,below:ie,toRight:ce,toLeft:le,index:Ee,slotIndex:ke,el:K,rect:te}}),T={el:null,index:-1},_=T,ne=T,Z=T,L=T,re=[],de=[],$=[],q=[];k.forEach(K=>{K.above&&$.push(K),K.below&&q.push(K),K.toRight&&de.push(K),K.toLeft&&re.push(K)});let B=null,j=!1;if(this.props.dragIndicationType==="columns"){let K=Mr.default.minBy($,V=>Math.abs(V.distance)),te=Mr.default.minBy(q,V=>Math.abs(V.distance)),se=Mr.default.minBy(re.filter(V=>V.inY),V=>Math.abs(V.distance)),z=Mr.default.minBy(de?.filter(V=>V.inY),V=>Math.abs(V.distance));K&&te?Math.abs(te.run)<Math.abs(K.run)?(L=te,Z=$.find(V=>V.rect.x1<L.rect.x2&&V.rect.x2>L.rect.x1)||T):(Z=K,L=q.find(V=>V.rect.x1<Z.rect.x2&&V.rect.x2>Z.rect.x1)||T):K?Z=K:te&&(L=te),se&&z?j=z.rect.y1!==se.rect.y1:(se?.rect?.y1>15||z?.rect?.y1>15||Z?.index>-1)&&(j=!0)}if(j){if(_=T,ne=T,Z=Z,L=L,L?.el)B=L.el;else for(B=Z.el?.nextElementSibling?.assignedElements?.()[0]||null;B&&B.tagName!=="MEDIA-ITEM";)B=B?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(B)>d.indexOf(r.draggedMediaItems[0])&&(B=B.nextElementSibling)}else{let K=Mr.default.minBy(re,se=>Math.abs(se.distance)),te=Mr.default.minBy(de,se=>Math.abs(se.distance));if(K&&te?Math.abs(te.rise)<Math.abs(K.rise)?(ne=te,_=re.find(se=>se.index==ne.index+-1)):(_=K,ne=de.find(se=>se.index==_.index+1)):K?_=K:te&&(ne=te),Z=T,L=T,ne=ne||T,_=_||T,ne?.el)B=ne.el;else for(B=_.el?.nextElementSibling;B&&B.tagName!=="MEDIA-ITEM";)B=B.nextElementSibling}this.setState({adjacentIndexes:{left:_.index,right:ne.index,above:Z.index,below:L.index},insertBeforeTarget:B,showInsertionIndicator:!0}),Ie.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),Ie.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,i,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(_e.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){i.preventDefault();return}};onAfterDragStart=(e,i,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,i,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((l,u)=>{this.props["thumbnail-index"]&&l.setSaveable(!1),this.props.galleryInstance.insertBefore(l,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],o=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let l=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(u=>u.getAttribute("href")==o)),n&&(l.selectNode(n),CargoEditor.helpers.setActiveRange(l))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,i,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{_e.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(i=>i?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),Mr.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach(i=>{i._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,Ie.globalDragEventController.on("dragstart",this.onDragStart),Ie.globalDragEventController.on("dragover",this.onDragOver),Ie.globalDragEventController.on("dragend",this.onDragEnd),Ie.globalDragEventController.on("before-drop",this.onBeforeDrop),Ie.globalDragEventController.on("drop",this.onDragDrop),Ie.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),Ie.globalDragEventController.off("dragstart",this.onDragStart),Ie.globalDragEventController.off("dragover",this.onDragOver),Ie.globalDragEventController.off("dragend",this.onDragEnd),Ie.globalDragEventController.off("before-drop",this.onBeforeDrop),Ie.globalDragEventController.off("drop",this.onDragDrop),Ie.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};Df.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};Io=De((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(Df)});var Ov,Gv,fO,mO=R(()=>{xe();Ov=pe(ve(),1);Dt();Mi();Wu();Y();Gv=class extends oe{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=Ov.default.debounce(this.checkRange,120)}render(e,i){let{isDragging:r,thumbnailsVisible:n}=i,{galleryInstance:o,dragContext:l}=e;return f(ee,{children:[f("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),f(Io,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:o,disableDragOver:!n,disableDrop:!n,allowedElements:u=>u.part=="previous-button"||u.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,i,r,n,o,l)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n,o,l)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let i=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:i}),i&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(i=>i._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=Ov.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let i=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)i.forEach(r=>{_e.deactivateHoverElement(r),_e.lockItem(r)});else if(this.state.pointerAttention){i.forEach(n=>{_e.deactivateHoverElement(n),_e.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&_e.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),Ie.globalDragEventController.on("dragover",this.onDragOver),Ie.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),Ie.globalDragEventController.off("drop",this.onDragDrop),Ie.globalDragEventController.off("dragover",this.onDragOver)}},fO=Gv});var bO,CO=R(()=>{bO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function vO(t,e,i,r){let n,o,l;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(o=n.constructor,o&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n._dirty),l)return n._pendingError=n}catch(u){t=u}throw t}var IO=R(()=>{});var Cae,Md,yO=R(()=>{IO();Cae={_catchError:vO},Md=Cae});function yo(t,e,i,r,n){let o;for(o in i)o!=="children"&&o!=="key"&&!(o in e)&&wO(t,o,null,i[o],r);for(o in e)(!n||typeof e[o]=="function")&&o!=="children"&&o!=="key"&&o!=="value"&&o!=="checked"&&i[o]!==e[o]&&wO(t,o,e[o],i[o],r)}function AO(t,e,i){e[0]==="-"?t.setProperty(e,i??""):i==null?t[e]="":typeof i!="number"||bO.test(e)?t[e]=i:t[e]=i+"px"}function wO(t,e,i,r,n){let o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||AO(t.style,e,"");if(i)for(e in i)(!r||i[e]!==r[e])&&AO(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")if(o=e!==(e=e.replace(/Capture$/,"")),e.toLowerCase()in t?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+o]=i,i){if(!r){let l=o?SO:xO;t.addEventListener(e,l,o)}}else{let l=o?SO:xO;t.removeEventListener(e,l,o)}else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||e.indexOf("-")!=-1)?t.setAttribute(e,i):t.removeAttribute(e))}}function xO(t){return this._listeners[t.type+!1](Md.event?Md.event(t):t)}function SO(t){return this._listeners[t.type+!0](Md.event?Md.event(t):t)}var Ua=R(()=>{CO();yO()});var RO,FO=R(()=>{RO=(t,e={})=>{let i=t.replace(/[#$%<>&=\?\\\/]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=i.length>0?i:"_";if(e.inUse){let n=r,o=1;for(;e.inUse.includes(n);)n=r+`-${o++}`;return n}return r}});function EO(t){let e=t.split(":"),i=e[0],r="all";switch(i){case"set":r=zs.default.tail(e).map(n=>n).join(":");break;case"tag":r=zs.default.tail(e)[0]?.split(",").map(n=>RO(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:i,value:r}}function Iae(t){class e extends xi{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150}}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>r.purl===this.props.activePURL||r.id===this.props.PIDBeingEdited;render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return f(t,{...c})}let n=this.state.thumbnails.length>0,o=n&&r["show-tags"],l=n&&r["show-title"],u=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null}):[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(u=zs.default.sortBy(u,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),u=u.slice(0,this.state.renderLimit),this.renderedItemCount=u.length,f(t,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:u.map((c,d)=>{let g=c.thumbnail?.is_video||c.thumbnail?.is_url||null;return St("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:g,loop:g,muted:g,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(m=>/^\d/.test(m.url)?"-"+m.url:m.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},f("figcaption",{class:`caption${!l&&!o?" empty":""}`,slot:"caption",children:[l?f("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&o?f("div",{className:"tags",children:c.tags.map((m,b)=>f(ee,{children:[f("a",{href:m.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":m.tag,children:m.tag+""}),b<c.tags.length-1?f("span",{className:"tag-separator"}):null]},"tag-link-"+m.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=zs.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(r.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{r.remove()},{preventDraft:!0})}},2e3);componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails)}componentWillUnmount(){cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=EO(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,o=[];switch(r.type){case"set":try{({data:o}=await Zd.default.get(`${ni}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:o}=await Zd.default.get(`${ni}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:o}=await Zd.default.get(`${ni}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}o=o.filter(d=>d.media.length>0&&d.password_enabled==!1),o=zs.default.flatMap(o,d=>d.media.map(g=>({display:!0,id:g.id,purl:d.purl,url:d.purl,sort:0,tags:[],thumbnail:g,title:f(ee,{children:[f("a",{href:d.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:d.title}),f("br",{}),f("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+g.hash+"/"+g.name,children:g.name})]}),attributes:{href:null,"force-quick-view":!0,hash:g.hash}})));break;default:try{({data:o}=await Zd.default.get(`${ni}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let l=store.getState();o=o.filter(d=>{let g=l.pages.byId[d.id];return!(g&&g.crdt_state!==Mt.Published||g&&r.type==="set"&&l.structure.byParent[r.value]&&!l.structure.byParent[r.value].some(m=>m===g.id))});let u=zs.default.unionBy(this.props.thumbCollection,o,"id").sort((d,g)=>d.sort-g.sort);switch(this.props.sort||"forward"){case"reverse":u.reverse();break;case"shuffle":u.sort(d=>Math.random()-.5);break}u=u.filter(d=>d.pin!==!0&&d.display!==!1&&d.id!==this.props.homepageID&&d.id!==this.props.mobileHomepageID&&d.crdt_state!==Mt.Deleted&&d.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==d.id),this.setState({initialLoad:!0,thumbnails:u})};onCleanUp=(r,n,o,l)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let u={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(m=>m.tagName==="MEDIA-ITEM").forEach((m,b)=>{let I=m.getAttribute("href"),x={},A=m.attributes,F=0;for(F=A.length;F--;)A[F].name==="saveable"||A[F].name==="limit-by"||A[F].name==="class"||A[F].name==="hash"||A[F].name==="href"||A[F].name==="rel"||A[F].name==="slot"||A[F].name==="width"||A[F].name==="height"||A[F].name==="disable-zoom"||(x[A[F].name]=A[F].value);let E=tt.getContentByPurl(d,I)?.id||null;E&&(u[E]={sort:b,attributes:x})}),u={...this.state.attributeMap,...u},c=JSON.stringify(u),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:u||{}});else if(l){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let m=CargoEditor.rangy.createRange();m.selectNode(this.props.baseNode),m.collapse(),CargoEditor.helpers.setActiveRange(m)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return _t(De((i,r)=>{let n=vae(r["thumbnail-index"],i.structure,i.pages),o=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return!U.isServer&&!o&&(o=window.location.pathname.replace(/^\//,"")),typeof o=="string"&&(o=o.toLowerCase()),{lastPublishedAt:i.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:o,adminMode:i.frontendState.adminMode,PIDBeingEdited:i.frontendState.PIDBeingEdited,inAdminFrame:i.frontendState.inAdminFrame,siteId:i.site.id,homepageID:i.site.homepage_id,mobileHomepageID:i.site.mobile_homepage_id}})(e))}var Zd,zs,vae,Ao,Ou=R(()=>{xe();Fe();ut();Dt();Ze();Zd=pe(Kr(),1);Ti();Br();Ri();FO();zs=pe(ve(),1);Y();xe();vae=Yn((t,e,i)=>{let r=[];if(!t)return r;let n=EO(t);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(o=>i.byId[o]).filter(o=>o!==void 0);break;case"tag":r=Object.values(i.byId).filter(o=>o.tags&&o.tags.find(l=>n.value?.includes(l.url)));break;case"img":r=[];break;default:r=Object.values(i.byId);break}return r.map(o=>{let l=null;return o.thumb_media_id&&o.media?l=o.media.find(u=>u.id===o.thumb_media_id)||null:o.thumbnail&&(l=o.thumbnail),{id:o.id,title:o.title,purl:o.purl,thumb_meta:o.thumb_meta||{},display:o.display,sort:e.bySort[o.id],tags:o.tags||[],pin:o.pin,crdt_state:o.crdt_state,thumbnail:l}})});Ao=Iae});var GO,oi,NO,Lv,WO,OO,yae,Aae,wae,xae,Qs,Xv,Bv,Tf,Sae,Mf=R(()=>{xe();Fe();Ys();ut();Ni();ka();mO();Ua();Ki();Ou();tn();mo();Ti();Ze();Ps();GO=pe(ve(),1);Y();xe();oi={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Transition",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:!0}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};oi.defaults=U.collapseOptions(oi.options);oi.mobileDefaults=U.collapseOptions(oi.mobileOptions);NO=.04,Lv=.25,WO=.05,OO=.1,yae=.08,Aae=2,wae=3,xae=15,Qs=0,Xv=1,Bv=2,Tf=class extends xi{constructor(e){super(e);let i=U.isServer?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:U.isServer,visible:!U.isServer,viewportIntersection:i,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:Qs},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=be(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:r=>this.setState({showThumbnails:!!r}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:r,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==r||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:r})}}render(e,i){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:o,usesScrollAnimation:l}=e,{showThumbnails:u,activeIndex:c,destinationIndex:d,inTransition:g,isPointerDown:m,scrubAnimating:b,hasLoaded:I,pointerOver:x,hasSizes:A,initialShowNavigation:F,captionHeightMap:E,viewportIntersection:M}=i,{showCaptions:k,autoPlayDelay:T,limitBy:_,adjustForCaptions:ne}=this.options,{elWidth:Z}=i;A.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,Z=this.cachedElWidth);let L=_==="fit"?"var(--fit-height)":U.getCSSValueAndUnit(this.options.scale,_=="width"?"%":"rem").join(""),re=this.renderSlides(),de=f("div",{ref:this.slideListRef,className:"slide-list",draggable:!1,tabIndex:0,children:re}),$={};u||($.onKeyDown=this.handleKeyDown,$.onClickCapture=this.onClickCapture,$.className="slideshow-wrapper",g&&($.className+=" in-transition"),m&&($.className+=" pointer-down"),b&&this.isScrub&&($.className+=" scrubbing"));let q=_==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,B=this.makeMediaItemAttributes(),j=this.mediaItems.map((V,ie)=>{let le=B[ie].slot,ce=V._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},ge="100%",fe=ce.width,We=ce.height,Ee=null;if(u)ge=null;else if(typeof fe=="string"&&fe.indexOf("%")>-1)ge=fe;else if(_!=="width"){let Be=this.state.captionHeightMap[ie]||0;ne?Ee=q+-Be:Ee=q;let ke=We/fe,at=Ee+-ce.mediaItemSize.padSize+-ce.mediaSize.padSize,Pe=at*(1/ke),nt=(at+ce.mediaSize.padSize)/(Pe+ce.mediaSize.padSize),we=(Ee+-ce.mediaItemSize.padSize)*(1/nt);Math.abs(we+ce.mediaItemSize.padSize-Z)<1?ge="100%":ge=`${Math.min(100,100*(we+ce.mediaItemSize.padSize)/Z)}%`}return{captionHeight:this.state.captionHeightMap[ie]||0,customSlideHeight:Ee,figureWidth:ge,slot:le}}),K=Math.min(this.options.speed/2,.1),te=Math.max(Math.floor(Z/200),2);this.setMediaElementProperties(B);let se=this.getSlideListStyles();this.slideListRef.current&&se.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=se.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=se["--slideshow-caption-transform"]);let z=l&&!this.props["disable-scroll-animation"]?" scroll-transition":"";return f(ee,{children:[ze(f(ee,{children:f(yn,{uses:z,visibility:M,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:r,children:[f("style",{children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${I||u?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${x||F?1:0};
    --slide-height: ${q}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${u?`
	    display: grid;
		grid-template-columns: repeat(${te}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${K}s;	
		--display-slideshow-captions: ${k?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${u?"":j.map((V,ie)=>`
::slotted(media-item[slot="${V.slot}"]){
	--item-width: ${V.figureWidth};
	--slide-height: ${V.customSlideHeight||q}px; 
	--caption-height: ${V.captionHeight}px;
}`).join("")}

${u?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${Z}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${Z}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${Z}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap)}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
    display: none;
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${K==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&o.isEditing&&!U.isServer&&f(fO,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:l?["disable-scroll-animation"]:[],galleryInstance:r}),!u&&this.options.navigation&&this.len>1&&f("div",{className:"navigation-wrapper",part:`slideshow-nav ${x||F?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),u?f("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):f("div",{part:"slides",...$,onPointerDown:this.onPointerDown,children:de}),f(Dr,{values:{slideHeightPx:L,elWidth:"100%"},style:u?{gridColumn:`1 / span ${te}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),i=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return i?i=Eu(i,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Bv),key:"previous-button",part:"previous-button"}):i=f("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Bv),children:f("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=Eu(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Xv),key:"next-button",part:"next-button"}):r=f("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Xv),children:f("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:i,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=oi.defaults["adjust-for-captions"].value,"limit-by":i=oi.defaults["limit-by"].value,scale:r=oi.defaults.scale.value,autoplay:n=oi.defaults.autoplay.value,"autoplay-delay":o=oi.defaults["autoplay-delay"].value,"transition-speed":l=oi.defaults["transition-speed"].value,"transition-type":u=oi.defaults["transition-type"].value,navigation:c=oi.defaults.navigation.value,"vertical-align":d=oi.defaults["vertical-align"].value,"horizontal-align":g=oi.defaults["horizontal-align"].value,shuffle:m=oi.defaults.shuffle.value,"show-captions":b=oi.defaults["show-captions"].value,"disable-zoom":I=oi.defaults["disable-zoom"].value,"disable-scroll-animation":x=oi.defaults["disable-scroll-animation"].value,"pause-on-hover":A=oi.defaults["pause-on-hover"].value,"mobile-limit-by":F,"mobile-scale":E,"mobile-adjust-for-captions":M,"mobile-autoplay":k,"mobile-autoplay-delay":T,"mobile-transition-speed":_,"mobile-transition-type":ne,"mobile-navigation":Z,"mobile-vertical-align":L,"mobile-horizontal-align":re,"mobile-shuffle":de,"mobile-show-captions":$,"mobile-pause-on-hover":q,"auto-height":B=oi.defaults["auto-height"].value,"height-limit":j=oi.defaults["height-limit"].value,"mobile-auto-height":K,"mobile-height-limit":te}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(B==="custom"?(i="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=j)):B==="fit"?(i="fit",this.props.scale==null&&(r=100)):(i="width",this.props.scale==null&&(r=100))),u=u=="fade"||u=="scrub"?u:"slide";let se=this.props.isMobile,z={adjustForCaptions:se&&M!==void 0?M:e,shuffle:se&&de!==void 0?de:m,autoplay:se&&k!==void 0?k:n,autoPlayDelay:se&&T!==void 0?T:o,speed:se&&_!==void 0?_:l,type:se&&ne!==void 0?ne:u,navigation:se&&Z!==void 0?Z:c,disableScrollAnimation:x,disableZoom:I,limitBy:se&&F!==void 0?F:i,scale:se&&E!==void 0?E:r,vAlign:se&&L!==void 0?L:d,hAlign:se&&re!==void 0?re:g,showCaptions:se&&$!==void 0?$:b,pauseOnHover:se&&q!==void 0?q:A};z.speed==0&&z.type==="slide"&&(z.type="fade"),this.options=z,this.isScrub=z.type==="scrub",this.isSlide=z.type==="slide",this.isFade=z.type==="fade";let V=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(ce=>ce.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let fe=0;fe<this.len;fe++)this.shuffleList.push(fe);let ce=this.shuffleSeed,ge=0;this.shuffleList=this.shuffleList.sort(fe=>(ge++,Math.sin(fe*1e3+ge*2+ce*ce)))}}else this.shuffleList=[];let ie=this.isScrub?Math.min(xae,(this.len-1)/2):Math.min(wae,(this.len-1)/2),le=ie;le=Math.max(1,Math.floor(le)),ie=Math.max(1,Math.ceil(ie)),this.len==3?(le=1,ie=1):this.len==2?le=0:this.len==1&&(le=0,ie=0),this.lazyloadPrev=le,this.lazyloadNext=ie}setMediaElementProperties=e=>{if(this.len==0)return;[...this.mediaItems].forEach((r,n)=>{let o=e[n]||{},l=o.visibility||!1;delete o.isAdjacent,delete o.visibility,this.state.hasLoaded?o.itemLoad=null:o.itemLoad=this.onMediaLoad;let u=r._props||{};yo(r,{...u,...o},u,!1,!1),r._setZoomStatus?.(this.options.disableZoom),this.props.usesScrollAnimation&&!this.props["disable-scroll-animation"]&&!this.options.disableScrollAnimation&&r._setScrollTransitionStatus?.(!0);let c=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";r.assignedSlot&&this.state.visible&&!this.state.inTransition?(yt(r,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),l||r.getAttribute("autoplay")==="true"?yt(r,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):yt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1})):yt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let i=this.props.pageInfo.getPageData(this.props.baseNode);i.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,i.activeSlide>=this.len?this.waitingToGoToSlide=i.activeSlide:this.goToSlide(i.activeSlide)),U.isServer||(pi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),U.isServer||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};componentDidUpdate(e,i){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(i.layoutIncrement!==this.state.layoutIncrement||i.elWidth!==this.state.elWidth||i.slideHeightPx!==this.state.slideHeightPx||i.hasSizes.elWidth!==this.state.hasSizes.elWidth||i.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes();let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0}),()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})}),r=!0,this.onPointerUp(),this.onSlideEnd()),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),i.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),i.visible!=this.state.visible&&(r=!0),i.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!i.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&i.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==i.activeIndex&&(this.props.pageInfo.setPageData({activeSlide:this.state.activeIndex},this.props.baseNode),this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80))),(this.state.inTransition!==i.inTransition||this.state.isPointerDown!==i.isPointerDown||this.state.isDragging!==i.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform()),this.state.activeIndex!==i.activeIndex&&this.state.activeIndex}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,i,r)=>{this.setState(n=>{let o=Array.from(i.children).find(d=>d.getAttribute("slot")==="caption"),l=[...n.captionHeightMap],u=n.captionHeightMap[r],c=0;if(o){let d=window.getComputedStyle(o),g=d.getPropertyValue("position");g==="fixed"||g==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==u?(l[r]=c,{captionHeightMap:l,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:i}=this.state;!e.elWidth&&this.cachedElWidth&&(i=this.cachedElWidth);let r=this.mediaItems.map((l,u)=>{let c=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,g=c.height,m=g;if(typeof d=="string"&&d.indexOf("%")>-1)m=parseFloat(g)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let b=g/d;if(c.mediaSize.padSize>0){let I=((i-c.mediaSize.padSize)*b+c.mediaSize.padSize)/i;m=(i-c.mediaItemSize.padSize)*I+c.mediaItemSize.padSize}else m=(i-c.mediaItemSize.padSize)*b+c.mediaItemSize.padSize}return m}),n=GO.default.maxBy(r,l=>l||0)||0,o={index:r.indexOf(n),height:n};this.setState({tallestSlide:o})};onResize=(e,i)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:i}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,i=NO===0?1/this.len:NO,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let o=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=o,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===Bv?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-OO):this.state.scrubStatus===Xv?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+OO):this.state.scrubStatus===Qs&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+WO):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-WO));if(Math.abs(this.pointerFrameDeltaX)>Lv*i*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=Lv*i*e:this.pointerFrameDeltaX=-(Lv*i)*e),this.state.isPointerDown){let o=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(o-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>i&&this.len>1){let o=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:o,activeIndex:o}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==Qs&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,i)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:i}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:Qs}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{e.defaultPrevented||e.target.closest(".caption")||!this.slideListRef.current||e.button==2||(this.cancelClick=!1,clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(i=>({isPointerDown:!0})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",i="translateX(0)";return this.isSlide&&(e=`translateX(${this.state.elWidth*(-1+(1-this.lazyloadPrev))+Math.round(this.xTransform)}px)`,i=`translateX(${-Math.round(this.xTransform)}px)`),{"--slideshow-caption-transform":i,transform:e}};updateSlideTransform=e=>{let{destinationIndex:i,activeIndex:r,elWidth:n,finishingTransition:o}=this.state,l="";this.progress===void 0&&(this.progress=0);let u=!1;if(this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){l="transform";let d=this.xDrag+this.initialXTransform,g=0,m=d,b=n;i>r?b=-n:i<r?b=n:b=0;let I=Math.abs(b-m);if(u=I<40,this.state.isDragging||this.state.isPointerDown)this.progress=0;else{let x=0;!e||e==0?this.lastTimestamp=0:(this.lastTimestamp==0&&(this.lastTimestamp=e),x=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isPointerDown||(this.progress=this.progress+x)),o?g=U.easeOutCubic(this.progress/(this.options.speed*1e3*(I/n))):g=U.easeInOutSine(this.progress/(this.options.speed*1e3)),d=g*b+(1-g)*m}d=Math.min(Math.max(-n,d),n),this.xTransform=d,g>=1&&!(this.state.isPointerDown||this.state.isDragging)?this.onSlideEnd():this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.xTransform=0,this.progress=0;let c=this.getSlideListStyles();this.slideListRef.current&&c.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=c.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=c["--slideshow-caption-transform"],this.slideListRef.current.style.willChange=l),this.setState(d=>d.skipTransitionWhenClicked!==u?{skipTransitionWhenClicked:u}:null)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let i=!1,r=!1;e?.target?.closest("a, [href]")&&(i=!0),e?.target?.closest("media-item.zoomable")&&(r=!0),!i&&!r&&e?.preventDefault(),e?.pointerType==="touch"&&!i&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click(),this.dragDelta=void 0;let n=!1;this.setState(o=>{let{elWidth:l,scrubStatus:u,isPointerDown:c,isDragging:d,inTransition:g,finishingTransition:m,scrubAnimating:b,activeIndex:I,destinationIndex:x,skipTransitionWhenClicked:A}=o;return A&&g?(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),g=!1,this.initialXTransform=0,this.xDrag=0,this.xTransform=0,n=!0):(o.isDragging||g?((this.isSlide||this.isFade)&&(m=!0),this.isScrub&&(b=!0)):i||r?x=I:(!this.isScrub||this.isScrub&&Math.abs(this.xDrag)<8)&&(x=I+1),this.isScrub||this.options.speed==0?g=!1:g=!0),u=Qs,d=!1,c=!1,{elWidth:l,scrubStatus:u,isPointerDown:c,isDragging:d,inTransition:g,destinationIndex:x,scrubAnimating:b,finishingTransition:m}},()=>{(this.isScrub||this.options.speed==0||n)&&!i&&(this.onSlideEnd(),n&&this.nextSlide())})};onWindowPointerMove=e=>{this.dragDelta=this.pointerX===void 0?0:e.clientX-this.pointerX,this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(i=>{let{activeIndex:r,destinationIndex:n,elWidth:o,scrubStatus:l,isPointerDown:u,isDragging:c,scrubAnimating:d}=i,g={...i},m=Math.abs(this.xDrag/o),b=o*(-2+(1-this.lazyloadNext)),I=o*(1-this.lazyloadPrev);if(!i.isDragging&&i.isPointerDown&&Math.abs(this.xDrag)>Aae&&(g.isDragging=!0,this.cancelClick=!0),g.isDragging&&(m>yae&&this.len>1&&(n=this.xDrag<0?r+1:r-1),n<-1&&(n=n+this.len)),g.destinationIndex=n,g.activeIndex=r,i.activeIndex!==r||i.destinationIndex!==n)return g;{let x=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=x.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=x["--slideshow-caption-transform"]),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Qs):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Qs):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let i=e?.target?.closest?.("media-item")||null;if(i){let r=Array.from(this.props.baseNode.children).indexOf(i);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0},()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(e=>{e.offsetHeight}),this.setState({cancelFadeTransition:!1})}),this.setState(e=>{let i={...e};return i.inTransition=!1,this.xTransform=0,i.activeIndex=i.destinationIndex=(i.destinationIndex+this.len+this.len+this.len)%this.len,i},()=>{if(this.props.afterSlideChange){let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,i)}}),this.startAutoplay()};onSlideOpacityTransitionEnd=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,i,r)=>{let n=r*.5,o=n-Math.abs((e+-i)%(2*n)-n);return o<-n&&o<0&&(o=o+r),o};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:i,slideHeightPx:r,activeIndex:n,actualCardSize:o,destinationIndex:l}=this.state,{shuffle:u,limitBy:c,scale:d,adjustForCaptions:g}=this.options,m=u&&!e,b=[];for(let I=0;I<this.len;I++){let x=(I+this.len)%this.len,A=x;m&&(A=this.shuffleList[x]);let F=`slot-${A}`,E=Math.abs(this.getWrapAroundDistanceFromIndex((A+this.len)%this.len,n,this.len))<3,M={itemDragStart:this.onDragStart,itemResize:(k,T)=>{this.onItemResize(k,T,A)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:E,visibility:n==x,slot:e?"thumbnails":F};b.push(M)}return b};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let i=Array.from(this.props.baseNode.children).filter(n=>{let o=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&o!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(i.length,3):i.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:i,activeIndex:r,inTransition:n,showThumbnails:o}=this.state,{xDrag:l,initialXTransform:u}=this,c=[],g=(u%e+l>0||i<r)&&this.isSlide&&this.len==2;for(let m=-this.lazyloadPrev;m<this.lazyloadNext+1;m++){let b=m;g&&(b=b+-1);let I=(b+r+this.len*2)%this.len,x="slot-"+I,A=!1,F=!1,E={};E.className=`slide ${this.options.type}-transition`,(i+this.len)%this.len==I&&(F=!0,E.className+=" destination-slide"),(r+this.len)%this.len==I&&(A=!0,E.className+=" active-slide"),E.part="slide",E.style={},o||(E.style={width:`${e}px`,transform:g?"translateX("+-e+"px)":null}),this.isFade&&(E.onTransitionEnd=M=>{this.onSlideOpacityTransitionEnd(M,b)}),b==-1&&(E.part+=" "+this.options.type+"-slide-previous"),b==1&&(E.part+=" "+this.options.type+"-slide-next"),b>=-1&&b<=1?(E.className+=" adjacent-slide",E.part+=" "+this.options.type+"-slide-adjacent"):E.className+=" non-adjacent-slide",E.slot=x,c.push(St("div",{...E,key:"slot_"+x},f("slot",{name:x})))}return c};goToSlide=e=>{e=e%this.len||0,this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1});let i=Xe.debounceRendering;Xe.debounceRendering=r=>r(),this.forceUpdate(),this.updateSlideTransform(),this.forceUpdate(),Xe.debounceRendering=i};getActiveSlide=()=>{let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,i]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Tf.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};Sae=_t(Ao(De((t,e)=>({isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,usesScrollAnimation:t.siteDesign.images.scroll_animation}))(Tf)));ei(Sae,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var LO,Dv,Tv,XO,BO=R(()=>{xe();Fe();LO=pe(ve(),1);Mf();Ua();ut();Ri();Ze();ui();Ni();tn();Y();Dv={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1},Tv=class extends oe{constructor(e){super(e),this.state={isMobile:qe.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=be(),this.wallpaperRef=be(),this.slideshowRef=be(),this.navigationRef=be()}getSettings=()=>{let e={};for(let[i,r]of Object.entries(Ta.wallpaper.default.defaults))this.props.settings?.hasOwnProperty(i)?e[i]=this.props.settings[i]:e[i]=r.value;return e};render(){let{showNavigation:e,navigationContainer:i,isMobile:r}=this.state,{modelArray:n,singleModel:o,visibility:l,wrapperDimensions:u}=this.props,c=this.getSettings(),d=X0(c.margin,"%"),g="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let m;d[1]==="px"?m=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?m=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:m=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let b=c["image-fit"]=="fit",I={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:m,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},x=this.props.settings.alignments||{},A="";for(let[M,k]of Object.entries(x))A+=` media-item[hash="${M}"] { --position-image: ${k.x}% ${k.y}% }`;let F=null,E=null;return n.length>0&&(E=c.navigation&&c["cycle-images"]&&n.length>1?f(ee,{children:[f("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:f("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?ze(f(ee,{children:[f("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),f("div",{part:"slideshow-nav",children:[f("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:f("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),f("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:f("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),f("div",{className:"page-layout",children:f("div",{className:"page-content"})})]}):null,F=c["cycle-images"]&&n.length>1?f("gallery-slideshow",{...I,className:"image-container multiple-item",ref:this.slideshowRef,children:n.length<2?f(ee,{children:[f("media-item",{"disable-zoom":!0,"disable-scroll-animation":!0,hash:"placeholder",part:"media-item"},"slide-1"),f("media-item",{"disable-zoom":!0,"disable-scroll-animation":!0,hash:"placeholder",part:"media-item"},"slide-2")]}):n.map((M,k)=>f("media-item",{"image-fit":b?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:M.hash,muted:"true",autoplay:M.is_video,loop:!0,part:"media-item"},"slide-"+k))}):f("div",{className:"image-container single-item",children:f("media-item",{"image-fit":b?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:o?.hash||"placeholder",model:o,part:"media-item",muted:"true",autoplay:o.is_video,loop:"true",itemLoad:this.onFirstLoad,"limit-by":b?"height":"width",scale:b?m:"100%"})})),f("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&ze(f(ee,{children:[f("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					    
					    transform: translate3d(0,0,0);
					    opacity: ${this.state.loaded?1:0};
					    transition: opacity 0.5s ease-in-out;

					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${b?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${b?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${m};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${A}`}),E&&i&&ze(E,i),f("div",{className:"overlay"}),f("div",{className:"inner",ref:this.containerRef,children:F})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{this.state.showNavigation||this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=LO.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){if(qe.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),window.addEventListener("pointermove",this.onPointerMove),this.props.backdropRef.current){let e=document.createElement("div");e.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(e),this.setState({navigationContainer:e})}setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){qe.off("mobile-change",this.onMobileChange),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove),this.hideNavigation.cancel()}componentDidUpdate(e,i){let r=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.onPointerMove(),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let o=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(o)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{let e=Array.from(this.containerRef.current.querySelectorAll("media-item"));this.slideshowRef.current&&yt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1}),e.forEach(i=>{yt(i,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),yt(i,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1})})};onFirstLoad=e=>{if(this.slideshowRef.current){let i=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:i[0],mediaItem:i[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,i)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:i},composed:!1,bubbles:!1}))}},XO=De((t,e)=>{let i=tt.getMediaByParent(t)[e.id],r=i.some(l=>l.loading);i=i.filter(l=>!l.loading&&!l.is_deleted);let n=null,o=e.settings?.activeImage||null;return o===Dv.hash?(n=Dv,i.push(n)):(o&&(n=i.find(l=>l.hash==o)),n||(n=i[0])),!n&&!r&&i.length==0&&(n=Dv,i.push(n)),e.settings.excluded&&(i=i.filter(l=>e.settings.excluded.indexOf(l.hash)==-1),i.length==1&&e.settings["cycle-images"]&&(n=i[0])),e.settings.order&&i.sort(function(l,u){return e.settings.order.indexOf(l.hash)<e.settings.order.indexOf(u.hash)?-1:1}),{singleModel:n,modelArray:i}})(Tv)});var d6e,Mv,DO,TO=R(()=>{xe();Fe();d6e=pe(ve(),1);ut();Ri();Ze();Y();Mv=class extends oe{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=be()}render(){let{visibility:e,dimensions:i}=this.props,{counter:r}=this.state,n={};for(let[le,ce]of Object.entries(Ta.gradient.default.defaults))this.props.settings?.hasOwnProperty(le)?n[le]=this.props.settings[le]:n[le]=ce.value;let{repeat:o,rotation:l,scale:u,smoothness:c,"animation-speed":d,"pos-x":g,"pos-y":m,"gradient-type":b,"color-one":I,"color-two":x,"color-three":A,"color-one-active":F,"color-two-active":E,"color-three-active":M}=n;I=I||"transparent",x=x||"transparent",A=A||"transparent",m=m+50,g=g+50,u=parseFloat(u)/100,c=parseFloat(c)/100,l=parseInt(l);let k=d>0;d=Math.abs(d/100),d=d*d,d=k?d:-d;let T=d!==0,_=T&&b=="linear"&&o,ne=T&&b=="radial"&&o,Z=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,L=(1-Math.abs(d))*40+Math.abs(d)*4,re=r%Z/Z;d>0&&(re=1-re);let de=0,$=ne?re*100*u:0,q=[];F&&q.push(I),E&&q.push(x),M&&q.push(A);let B="",j="",K="",te=0,se=0,z="",V="",ie=[];if(q.length!=0)if(q.length==1)B+=`background-color: ${q[0]}`;else if(q.length==2)if(o){u=(1-c)*u+u*c;let le=(100/4*1+-c*(100/4))*u-(1-c)*(100/5)*u;ie[0]=0+$,ie[1]=(100/4*1+c*(100/4))*u-(1-c)*(100/5)*u+-le+$,ie[2]=(100/4*3+-c*(100/4))*u-(1-c)*(100/5)*u+-le+$,ie[3]=(100/4*3+c*(100/4))*u-(1-c)*(100/5)*u+-le+$,ie[4]=100*u+$}else ie[0]=0,ie[1]=u*100+-(u*100)*c,ie[2]=u*100+(1-u)*100*c,ie[3]=100;else if(o){u=(1-c)*u+u*c;let le=(100/6*1+-c*(100/6))*u-(1-c)*(100/7)*u;ie[0]=0+$,ie[1]=(100/6*1+c*(100/6))*u-(1-c)*(100/7)*u+-le+$,ie[2]=(100/6*3+-c*(100/6))*u-(1-c)*(100/7)*u+-le+$,ie[3]=(100/6*3+c*(100/6))*u-(1-c)*(100/7)*u+-le+$,ie[4]=(100/6*5+-c*(100/6))*u-(1-c)*(100/7)*u+-le+$,ie[5]=(100/6*5+c*(100/6))*u-(1-c)*(100/7)*u+-le+$,ie[6]=100*u+$}else u=(1-c)*3*u+u*c,ie[0]=100/6*0+c*(100/6)*0,ie[1]=100/6*2+-c*(100/6)*2,ie[2]=100/6*2+c*(100/6)*1,ie[3]=100/6*4+-c*(100/6)*1,ie[4]=100/6*4+c*(100/6)*2,ie[5]=100/6*6+-c*(100/6)*0,ie[0]=Math.max(ie[0]*u+50*(1-u),0),ie[1]=Math.max(ie[1]*u+50*(1-u),0),ie[2]=ie[2]*u+50*(1-u),ie[3]=ie[3]*u+50*(1-u),ie[4]=Math.min(ie[4]*u+50*(1-u),100),ie[5]=Math.min(ie[5]*u+50*(1-u),100);if(q.length>1){B="background-image: ",B+=o?"repeating-":"",B+=b=="linear"?`linear-gradient( ${l+180}deg`:`radial-gradient( circle at ${g}% ${m}%`,j=K="background-position: ";let le=[];if(q.length==2?o?le=[0,1,1,0,0]:le=[0,0,1,1]:o?le=[0,1,1,2,2,0,0]:le=[0,0,1,1,2,2],_?ie.forEach((ce,ge)=>{let fe=q[le[ge]]||q[0];B+=`, ${fe} ${ce/2}%`}):ie.forEach((ce,ge)=>{let fe=q[le[ge]]||q[0];B+=`, ${fe} ${ce}%`}),B+=")",_){let ce=(l+90)*(Math.PI/180),ge=i.width/i.height,fe=Math.cos(ce),We=Math.sin(ce),Ee=ie[ie.length-1]+"%";fe<0?(K+="0% ",j+=Ee+" "):(K+=Ee+" ",j+="0% "),We<0?(We*=-1,K+="0%;",j+=Ee+";"):(K+=Ee+";",j+="0%;")}}return f("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&ze(f("style",{children:`:host {
						${B};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${_?"200% 200%;":"100% 100%;"}
					    ${_&&"will-change: background-position, background-image;"}
					    ${_&&"animation: slideAnimation "+L+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${_?`
					@keyframes slideAnimation {
						0% {
							${j}
						}

						100% {
							${K}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,i){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},DO=Mv});var y6e,_d,kd,Rae,Fae,Zv,_v,MO,kv=R(()=>{xe();y6e=pe(ve(),1);Ze();Ki();gO();BO();TO();Y();U.isServer||(_d=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),e.target.dispatchEvent(new CustomEvent("intersectionChange",{detail:{visible:e.isIntersecting,position:i}}))})},{root:document,rootMargin:"0px 0px",threshold:0}),kd=new ResizeObserver(t=>{t.forEach(e=>{e.target.dispatchEvent(new CustomEvent("contentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},composed:!0,bubbles:!1}))})}));Rae=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],Fae={wallpaper:XO,gradient:DO},Zv={};Rae.forEach(t=>{t.startsWith("legacy")?Zv[t]=hO:Zv[t]=Fae[t]});_v=class extends oe{constructor(e){super(e),this.backdropRef=be(),this.backdropWrapperRef=be(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"}}}onWrapperIntersectionChange=e=>{this.setState({wrapperVisibility:e.detail})};onIntersectionChange=e=>{this.setState({innerVisibility:e.detail})};onWrapperResize=e=>{this.setState({wrapperDimensions:e.detail})};onResize=e=>{this.setState({dimensions:e.detail})};render(e,i){let{settings:r,id:n}=this.props,o=Zv[r.activeBackdrop];if(!o)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let l=r.backdropSettings?.[r.activeBackdrop]||{},u=l.clipScroll==!0;return f("div",{className:`backdrop ${u?"clip":""}`,ref:this.backdropWrapperRef,children:[f("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:f(o,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:l,dimensions:this.state.dimensions,visibility:this.state.visibility,onLoad:this.onLoad})}),f(bo,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let i=this.backdropRef.current.querySelector("[data-backdrop]");i&&i.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,i){if(this.state.innerVisibility!==i.innerVisibility||this.state.wrapperVisibility!==i.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.addEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.addEventListener("contentResize",this.onResize),this.backdropRef.current.addEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),kd.observe(this.backdropRef.current),kd.observe(this.backdropWrapperRef.current),_d.observe(this.backdropWrapperRef.current),_d.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.removeEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.removeEventListener("contentResize",this.onResize),this.backdropRef.current.removeEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),kd.unobserve(this.backdropRef.current),kd.unobserve(this.backdropWrapperRef.current),_d.unobserve(this.backdropWrapperRef.current),_d.unobserve(this.backdropRef.current))}},MO=_v});var jn,Qe,Zf,ZO=R(()=>{jn=pe(ve(),1);Ze();Qe={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedChangeObserver:U.isServer?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&Qe.add(e.target)})}),loadEmbedScript:(t,e)=>{if(Qe.embedScriptsCache[t])return Qe.embedScriptsCache[t];let i=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=r,document.head.appendChild(n)});return Qe.embedScriptsCache[t]=i,i},initializeBandsInTown:function(t,e){var i="https://widget.bandsintown.com/main.min.js";e==="v3"&&(i="https://widgetv3.bandsintown.com/main.min.js"),Qe.loadEmbedScript(i).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&jn.default.each(t.querySelectorAll("cargo-embed"),Qe.add,Qe)},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||Qe.handledEmbeds.includes(t)&&t.children.length>0))switch(e){case"tweet":Qe.handleTwitterEmbed(t);break;case"twitter-timeline":Qe.handleTwitterTimelineEmbed(t);break;case"bandsintown":Qe.handleBandsIntownEmbed(t);break;case"songkick":Qe.handleSongkickEmbed(t);break;case"opentable":Qe.handleOpentableEmbed(t);break;case"typeform":Qe.handleTypeFormEmbed(t);break}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||Qe.embedsIniting.includes(t)||(Qe.embedsIniting.push(t),Qe.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(i){i&&(i.setAttribute("contenteditable","false"),Qe.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Qe.embedsIniting=Qe.embedsIniting.filter(r=>r!==t)})}),Qe.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!Qe.embedsIniting.includes(t)){Qe.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var i;if(t.hasAttribute("data-options"))try{i=JSON.parse(t.getAttribute("data-options"))}catch{}Qe.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,i).then(function(r){r&&(r.setAttribute("contenteditable","false"),Qe.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Qe.embedsIniting=Qe.embedsIniting.filter(n=>n!==t)})}),Qe.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t))return;let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(i=>i.text()).then(i=>{e.id=jn.default.uniqueId("opentable-"),i=i.replace('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(i),e.remove()}),Qe.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),Qe.handledEmbeds.push(t)},handleBandsIntownEmbed:function(t){Qe.initializeBandsInTown(()=>{t.innerHTML="";var e={},i={};jn.default.each(t.attributes,function(o){if(/^data-/.test(o.name)&&o.name!=="data-type"){var l=o.name.substr(5).replace(/-/g,"_");e[l]=o.value;var u=l.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");i[u]=o.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+jn.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),jn.default.each(e,function(o,l){r.setAttribute("data-"+l.replace(/_/g,"-"),o)}),t.appendChild(r),U.isAdminEdit){var n=new MutationObserver(function(o){jn.default.each(o,function(l){l.type=="childList"&&l.addedNodes.forEach(function(u){u&&u.nodeType===Node.ELEMENT_NODE&&(u.setAttribute("contenteditable",!1),u.classList.contains("bit-widget-container")&&(u.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(r,i),Qe.embedChangeObserver?.observe(t,{childList:!0}),Qe.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!Qe.embedsIniting.includes(t)){Qe.embedsIniting.push(t);var e={};jn.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var o=n.name.substr(5).replace(/-/g,"_");e[o]=n.value}});var i=document.createElement("a");i.setAttribute("class","songkick-widget"),i.setAttribute("href","https://www.songkick.com/artists/"+e.id),i.setAttribute("contenteditable","false"),jn.default.each(e,function(n,o){i.setAttribute("data-"+o.replace(/_/g,"-"),n)}),t.appendChild(i);var r="https://widget.songkick.com/"+e.id+"/widget.js";Qe.songKickWidgets[e.id]===void 0?Qe.songKickWidgets[e.id]=0:r=r+"?"+ ++Qe.songKickWidgets[e.id],Qe.loadEmbedScript(r).then(()=>{Qe.embedsIniting=Qe.embedsIniting.filter(n=>n!==t),t.children.length===0&&Qe.add(t)}),Qe.embedChangeObserver?.observe(t,{childList:!0}),Qe.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){Qe.embedsIniting.includes(t)||(Qe.embedsIniting.push(t),Qe.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{let e={};jn.default.each(t.attributes,function(i){i.name.startsWith("data-tf")&&(e[jn.default.camelCase(i.name.replace("data-tf",""))]=i.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3),Qe.embedsIniting=Qe.embedsIniting.filter(i=>i!==t)}),Qe.embedChangeObserver?.observe(t,{childList:!0}),Qe.handledEmbeds.push(t))},remove:function(){}},Zf=Qe});var _O,M6e,Vv,Gu,_f=R(()=>{xe();_O=pe(Kr(),1);Ze();ri();ut();Zt();M6e=pe(ve(),1);Y();Vv=class extends oe{constructor(e){super(e),this.state={error:!1}}render(e){return f(ee,{children:[f("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 350px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					input[type="password"] {
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
					    padding: 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: 340px;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),f("div",{className:this.props.target==="site"?"site-password":"page-password",children:[f("form",{onSubmit:this.submit,children:f("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown})}),this.state.error&&f("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let i;this.props.target==="site"?i=`/sites/${this.props.siteId}/validatepassword`:i=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,_O.default.post(ni+i,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},Gu=De((t,e)=>({siteId:t.site.id}),t=>xt({setAuthentication:Me.setAuthentication},t))(Vv)});var Uv,kO,VO=R(()=>{xe();Fe();Va();Mi();Dt();Dt();Y();Uv=class extends oe{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=be(),this.layoutButtonRef=be(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,i)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,i)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.layoutButtonRef.current.getBoundingClientRect(),r={x:i.x+0,y:i.y+-212,left:i.left+0,right:i.right+0,top:i.top+0+-212,bottom:i.top+27+-212,width:i.width,height:i.height};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let i=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,o=23;return f(Tr,{isEditingPage:i,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:o,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:l=>{let{pointerAttention:u,overlayPosition:c,shiftButtonX:d,shifted:g}=l,m=-o,b=-2;return c.y<=o&&(m=Math.max(0,-c.y),b=0,m>c.height&&(b=-2,m=c.height+1)),i&&n||i?null:f(ee,{children:[f("div",{className:`in-editor-buttons page${u?" hover button-hover":""}`,style:{transform:`translate3d(${b+c.x}px, ${m+c.y}px, 0)`},children:f("div",{className:`pointer-mask ${g?"shifted":""}`,style:{transform:`translateX(${d}px)`},children:f("button",{className:"edit-page text",onMouseDown:I=>{I.button==2||I.metaKey||this.props.editPage(I)},ref:this.editPageButtonRef,children:[f("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),f("div",{className:`editor-overlay editor-outline page-outline${u?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}})]})}})}},kO=Uv});function Wae(t){return xt({pageMounted:Me.pageMounted,pageUnMounted:Me.pageUnMounted,updateFrontendState:Me.updateFrontendState,fetchContent:Me.fetchContent,fetchCommerceProducts:Me.fetchCommerceProducts},t)}var $i,Ha,kf,Vd,Vf,ra,Hv,Uf,Pv,UO,HO,Eae,Nae,Lu,Hf,Oae,Pa,Pf=R(()=>{xe();ri();ut();Zt();$i=pe(ve(),1);Ri();Nd();Ti();mo();Ki();Ps();Ni();kv();ZO();Ze();_f();VO();Br();dv();Y();Ha=new Map,kf=new WeakMap,Vd=new WeakMap,Vf=new WeakMap,UO=null,HO=t=>{t.forEach(function(e){Ha.has(e.target)&&Ha.get(e.target).onAboveViewPort(e)})},Eae=$i.default.once(()=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return t.children[0].appendChild(e),e}),Nae=t=>{let e=Eae();return t!==UO&&(e.innerHTML=t,UO=t),e},Lu=0;U.isServer||(ra=new ResizeObserver(function(t){let e={};HO(Uf.takeRecords()),t.forEach(function(i){let r=Ha.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),kf.has(i.target)&&kf.get(i.target).onBodyCopyResize(i.contentRect.width),Vd.has(i.target)||Vf.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(Vd.has(i.target)){let u=Vd.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=Vf.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),mv(e),Lu!==0&&(document.scrollingElement.scrollTop+=Lu,Lu=0)}),Uf=new IntersectionObserver(HO,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Pv=new IntersectionObserver((t,e)=>{t.forEach(function(i){Ha.has(i.target)&&Ha.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),Hv=new MutationObserver(function(t){$i.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(i){i.nodeName==="CARGO-EMBED"&&Zf.add(i)})})}));Hf=class extends oe{constructor(e){super(e),this.overlayContentRef=be(),this.bodycopyRef=be(),this.pageContentRef=be(),this.pageRef=be(),this.pageLayoutRef=be(),this.lastBodycopyRef=be(),this.lastPageContentRef=be(),this.lastPageRef=be(),this.lastPageLayoutRef=be(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageLayoutHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=be()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let i=this.pageContentRef.current?.getBoundingClientRect();if(!i)return;let r=0,n=0,o=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,l=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":r=(i.height+(e.height-i.bottom))*o;break;case"top":r=-i.bottom*o;break;case"right":r=(i.width+(e.width-i.right))*o;break;case"left":r=-i.right*o;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(i.height+(e.height-i.bottom))*l;break;case"top":n=-i.bottom*l;break;case"right":n=(i.width+(e.width-i.right))*l;break;case"left":n=-i.right*l;break}if(this.state.overlayContentFromTransformValue!==r&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:r,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==r){this.setState({overlayContentFromTransformValue:r});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let i=Nae(this.props.globalStylesheet),r=!1;i.sheet&&$i.default.each(i.sheet.rules,o=>{o?.selectorText===".mobile [id] .page-layout"&&o?.style?.getPropertyValue("padding")==="0px"&&(r=!0)}),r&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=Au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(i=>i.windowHeight===qe.data.window.h?null:{windowHeight:qe.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Lu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=Lu,Lu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let i=e.isIntersecting;(U.isServer||this.props.isPin||this.props.isEditingPage)&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{if(this.state.fullyRender===e)return;let r={fullyRender:e,renderSparseHeightDiv:!e};e?(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender&&this.setState({renderSparseHeightDiv:!1})},250)):r.lastPageLayoutHeight=this.pageLayoutRef.current?.getBoundingClientRect().height||100,this.setState(r,i)};updateAdminState=e=>{hf.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=$i.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return $i.default.keys(r).length>0&&$i.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};determinePinCSS=()=>{if(U.isServer||this.props.isOverlay||$i.default.isEmpty(this.context.levelData))return;let e=1,i={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(i.paddingTop=n.top,i.paddingBottom=n.bottom,r){let o=this.context?.renderedPins[this.props.pid];if(o){let l=o.depth,u=$i.default.keys(this.context.levelData?.levels)?.length+e,c=u-l+e,d=c+this.zIndexLayerPosition(100-o?.pinSort);if(i.zIndex=o.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let m={old_zIndex:c+this.zIndexLayerPosition(100-o?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:o?.sort,renderedPageSort:o?.pinSort};console.log(m)}let g=this.context.levelData?.levels[l][o.location];o.type==="overlay"?i[o.location]=g.startingHeight-n[o.location]:o.type==="adjust"&&n[o.location]!==null&&(i[o.location]=g.adjustsSelf?null:g.startingHeight-n[o.location])}}return i["--pin-padding-top"]=(i.paddingTop||0)+"px",i["--pin-padding-bottom"]=(i.paddingBottom||0)+"px",$i.default.isEmpty(i)?null:i};getAdjustOnlyPinStartHeight=(e,i,r)=>{let n=0;return $i.default.each(this.context.renderedPins,(o,l)=>{o.depth===e&&o.location===r&&(r==="top"?o.sort<i:o.sort>i)&&o.type==="adjust"&&(n+=this.context.pageHeights[l])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let i="";return i+=" pinned pinned-"+e.position,i+=e.fixed?" fixed":e.overlay?" overlay":"",i}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||U.isServer&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",i=this.props.isPin&&this.props.pin_options,r=i?this.props.pin_options:null,n=null,o=null,l=this.determinePinCSS(),u=this.determinePinClassList(r),c={},d="";if(this.props.isOverlay===!0){let m="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":m=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":m=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":m=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":m=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let _=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;m+=` scale(${_})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(m+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let b="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":b=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":b=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":b=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":b=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let _=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;b+=` scale(${_})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(b+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let I="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":I="inset(0 0 0 100%)";break;case"left":I="inset(0 100% 0 0)";break;case"top":I="inset(0 0 100% 0)";break;case"bottom":I="inset(100% 0 0 0)";break;case"circle":I="circle(0%)";break;case"diamond":I="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":I="inset(100% 100% 100% 100%)";break}let x="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":x="inset(0 0 0 0)";break;case"circle":x="circle(125%)";break;case"diamond":x="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":x="inset(0 0 0 0)";break}let A="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":A="inset(0 0 0 0)";break;case"circle":A="circle(125%)";break;case"diamond":A="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":A="inset(0 0 0 0)";break}let F="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":F="inset(0 0 0 100%)";break;case"right":F="inset(0 100% 0 0)";break;case"bottom":F="inset(0 0 100% 0)";break;case"top":F="inset(100% 0 0 0)";break;case"circle":F="circle(0%)";break;case"diamond":F="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":F="inset(100% 100% 100% 100%)";break}let E="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":E="ease-in";break;case"ease-out":E="ease-out";break;case"ease-in-out":E="ease-in-out";break;case"bounce":E="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":E="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":E="cubic-bezier(0,.8,1,0)";break;case"linear":default:E="linear";break}let M="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":M="ease-in";break;case"ease-out":M="ease-out";break;case"ease-in-out":M="ease-in-out";break;case"bounce":M="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":M="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":M="cubic-bezier(0,.8,1,0)";break;case"linear":default:M="linear";break}c={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":m,"--overlay-open-content-from-clip-mask":I,"--overlay-open-content-to-clip-mask":A,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":b,"--overlay-close-content-from-clip-mask":x,"--overlay-close-content-to-clip-mask":F,"--overlay-open-easing":E,"--overlay-close-easing":M,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let m=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;l&&(l.paddingTop&&(m+=l.paddingTop),l.paddingBottom&&(m+=l.paddingBottom));let b=Math.max(10,this.state.windowHeight-m),I=null;this.props.access_level==="password"?I=f(Gu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?I=this.lockedContent:I=this.lockedContent=this.props.content,this.maxFitHeight=b;let x=f("bodycopy",{style:{"--fit-height":b+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof I=="string"?{__html:I}:void 0,children:Sc(I)?I:null});o=f(vf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:f("div",{className:"page-layout",ref:this.pageLayoutRef,children:f("div",{className:"page-content",ref:this.pageContentRef,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&f(kO,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),f(Lf,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[f(bo,{portalHost:x}),x]})]})})})}let g=!0;return(r?.fixed||this.props.isOverlay)&&(g=!1),n=f("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${u!==null?u:""}${this.props.stackedPage?" stacked-page":""}`,ref:this.pageRef,style:l,editing:this.props.isEditingPage,children:[e&&f(MO,{id:this.props.pid,settings:this.props.backdrops}),f("a",{id:this.props.purl}),f(Ru,{passthrough:g,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&f("div",{style:{height:this.state.lastPageLayoutHeight+"px"}}),o]}),f("style",{ref:this.localStyleRef,children:this.props.local_css}),f("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]}),this.props.isOverlay===!0?f("div",{ref:this.overlayContentRef,className:"overlay-content "+d,style:c,children:n}):n}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalStylesheet!==e.globalStylesheet&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&bf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&$i.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let i=this.context.adjustPairs[this.props.pid];if(i&&i.adjusts){let r=document.body.querySelector("[id='"+i.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=$i.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let i=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(i)?i.classList.remove("accepts-pointer-events"):i.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let i=window.getComputedStyle(e,null),r=i.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,i=this.bodycopyRef.current;e&&i&&i.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};setOverlayScrollability=()=>{if(!this.pageRef.current)return;let e=this.bodycopyRef.current,i=window.innerHeight,r=e.getBoundingClientRect().height;i&&r&&r>i?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll")};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let i=e?.detail?.filter;i?.startsWith("tag:")?i=i.replace("tag:","").trim():i?i="all":i=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"]');$i.default.each(n,o=>{let l=o.getAttribute("href")?.toLowerCase(),u=o.getAttribute("data-tags")?.toLowerCase(),c=o.getAttribute("rel")==="filter-index";!r&&(l===this.props.activePURL||this.props.activePurlParents?.includes(l))?o.classList.add("active"):o.classList.remove("active")})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Ha.delete(this.lastPageRef.current),ra.unobserve(this.lastPageRef.current),Uf.unobserve(this.lastPageRef.current),Pv.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Ha.set(this.pageRef.current,this),ra.observe(this.pageRef.current),Uf.observe(this.pageRef.current),Pv.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Vf.delete(this.lastPageLayoutRef.current),ra.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Vf.set(this.pageLayoutRef.current,this),ra.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(Vd.delete(this.lastPageContentRef.current),ra.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(Vd.set(this.pageContentRef.current,this),ra.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),kf.delete(this.lastBodycopyRef.current),ra.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(kf.set(this.bodycopyRef.current,this),ra.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){if(this.props.hashPurl===this.props.purl){let e=this.pageRef.current?.getBoundingClientRect().top;if(e>0&&e<qe.data.window.h)return;this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView()}}componentDidMount(){this.runHashScroll(),this.onWindowResize(),qe.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.context.onPageMount(this.pageRef.current),this.pageRef.current&&(Zf.findEmbedsIn(this.pageRef.current),Hv&&Hv.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{Zf.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix())}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),i=window.getComputedStyle(this.pageContentRef.current,null),r=e.getPropertyValue("background-color"),n=i.getPropertyValue("background-color"),o=this.props.isOverlay&&(r==="transparent"||r==="initial"||r==="rgba(0, 0, 0, 0)"),l=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)");o?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),l?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!U.isServer&&U.isSafari()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),qe.off("window-resize",this.onWindowResize),Ha.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0},!1),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];$i.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),$i.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Hf.contextType=Us;Oae=$i.default.memoize((t,e)=>t.map(i=>e.sets.byId[i]?.purl).filter(i=>i&&typeof i=="string").map(i=>i.toLowerCase())),Pa=De((t,e)=>{let i=tt.getContentById(t,e.id),r=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,o;return r&&(n=r.purl?.toLowerCase(),o=Oae(tt.getParentSetList(t,r.id),t)),!U.isServer&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:i?.id&&t.frontendState.PIDBeingEdited===i?.id,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,globalStylesheet:t.css?.stylesheet,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:o,pageDepth:tt.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},Wae)(Hf)});var Ud,PO=R(()=>{xe();Pf();Y();Ud=class t extends oe{constructor(e){super(e)}render=()=>{let e=this.props.children.filter(r=>r.parent===this.props.id),i=e.filter(r=>r.content.page_type=="page").length>1;return f("div",{"data-container":"set","data-id":this.props.id,children:e.map((r,n)=>r.content.page_type==="set"?f(t,{id:r.content.id,children:this.props.children,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},r.content.id):f(Pa,{id:r.content.id,position:r.position,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad,stackedPage:i},r.content.id))})}}});var SSe,Yv,Yf,zv=R(()=>{xe();SSe=pe(ve(),1);Y();Yv=class extends oe{constructor(e){super(e)}render=()=>f(ee,{children:[f("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},Yf=Yv});var YO,zO=R(()=>{YO={closeOnClickout:!1,closeOnNavigate:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function Bae(t,e){return{adminMode:t.frontendState.adminMode,PIDToEdit:t.frontendState.PIDToEdit,overlayBeingPreviewed:t.frontendState.overlayBeingPreviewed,overlayOptionsByPID:Xae(t.pages.byId),sortMap:t.structure.bySort,autoRenderableOverlays:tt.getAutoRenderableOverlaysForSet(t,e.pinContextPID,e.match?.params?.page)}}function Dae(t){return xt({fetchContent:Me.fetchContent},t)}var OSe,Ya,Gae,$v,ki,eI,Lae,Xae,Qv,_i,zf,Zr,Qf,jv,An,jf,wo,Hd,Jf,Pd,Jv,xo,qf,qv,QO,Kv,Kf,jO,$f=R(()=>{xe();OSe=pe(Kr(),1);ut();ri();Zt();qo();Ya=pe(ve(),1);Ze();Ri();Pf();zO();Br();Ni();Cu();Y();Gae={top:0,bottom:0},$v=new Array,ki={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},eI=class extends oe{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,ki.openOverlay=this.openOverlay,ki.closeOverlay=this.closeOverlay,ki.toggleOverlay=this.toggleOverlay,ki.getOverlay=this.getOverlay,ki.handleGlobalClick=this.handleGlobalClick,ki.getAllOverlays=this.getAllOverlays}componentDidMount(){this.autoRenderOverlays()}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let l=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(u=>!!u);this.props.autoRenderableOverlays.some(u=>l.includes(u.id))&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(u=>{l.includes(u.pid)||this.closeOverlay(u.pid)});return}let i=this.props.autoRenderableOverlays.map(l=>l.id),r=e.map(l=>l.id),n=Ya.default.difference(r,i),o=Ya.default.difference(i,r);n.forEach(l=>{this.closeOverlay(l)}),o.sort((l,u)=>this.props.sortMap[u]-this.props.sortMap[l]),o.forEach(l=>{this.openOverlay(l)})};componentDidUpdate=(e,i)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.state.activeOverlays!==i.activeOverlays){let r=Ya.default.difference(this.state.activeOverlays,i.activeOverlays),n=Ya.default.difference(i.activeOverlays,this.state.activeOverlays);if($v=[...this.state.activeOverlays],Kf(),r.length>0)for(let o of r)(o.getOverlayOptions().animateOnOpen||o.getOverlayOptions().animateOnClose)&&o.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,i)=>{if(this.props.adminMode||i.closest(".quick-view"))return;let n=i.closest(".page-content")?.closest(".page")?.getAttribute("id"),o=this.state.activeOverlays.find(c=>c.pid===n),l=this.state.activeOverlays[this.state.activeOverlays.length-1],u=this.props.store.getState();if(o&&o.getOverlayOptions().closeOnNavigate===!0&&e.hasAttribute("href")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.closeOverlay(o.pid)})}):this.closeOverlay(o.pid)});return}if(l&&l.getOverlayOptions().closeOnClickout===!0&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&n!==l?.pid&&e.tagName!=="A"){this.closeOverlay(l.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":{let i=e.target.closest(".overlay-animating");i&&i?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":{setTimeout(()=>{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let i=e.target.getAttribute("id");this.closeOverlay(i,!0);break}}};openOverlay=(e,i={})=>{!e||this.getOverlay(e)||(this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:be(),getOverlayOptions:()=>Lae(e,this.props.overlayOptionsByPID[e],i)}],this.setState({activeOverlays:this.intermediateActiveOverlays}))};closeOverlay=(e,i=!1)=>{if(i===!1){let r=this.getOverlay(e);if(!r)return;if(r.getOverlayOptions()?.animateOnClose?.speed>0){r.ref.current.base.classList.add("overlay-close"),r.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(r=>r.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})};toggleOverlay=(e,i)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,i)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(i=>i.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:i,ref:r})=>f(Pa,{id:e,contentPad:Gae,isOverlay:!0,overlayOptions:i(),ref:r},e))}},Lae=Yn((t,e,i)=>Ya.default.merge({},YO,e,i)),Xae=Yn(t=>t=Ya.default.mapValues(t,e=>e.overlay_options));U.isServer||(Qv=null,_i=null,zf=!1,Zr=!1,Qf=null,jv=t=>{if(clearTimeout(Qv),Qv=setTimeout(()=>{zf=!1,Zr=!1},200),!zf){let e=[...$v].reverse().map(r=>document.getElementById(r.pid)?.closest(".overlay-content")),i=e.find(r=>r?.contains(t));if(_i=null,i)if(i.classList.contains("overlay-allow-scroll"))_i=i,Zr=!0;else{let r=e[0].classList?.contains("overlay-allow-scroll")?e[0]:null;if(r)_i=r,Zr=!0;else{let n=i.querySelector(".page-content")?.contains(t),o=i.querySelector(".backdrop");!n&&!i.classList.contains("is-passthrough-overlay")||o||n&&!i.classList.contains("is-content-passthrough-overlay")?(Zr=!0,_i=null):(Zr=!1,_i=null)}}else{let r=e.find((n,o)=>n.classList?.contains("overlay-allow-scroll"));r?(_i=r,Zr=!0):(Zr=!1,_i=null)}zf=!0}},An=0,jf=null,wo=null,Jf=null,Pd=0,Jv=null,xo=!1,qf=!1,qv=t=>{An=Qf-t.touches[0].clientY,Qf=t.touches[0].clientY,clearTimeout(jf),jf=setTimeout(()=>{An=0},300),_i&&(_i.scrollTop=_i.scrollTop+An),(Zr||xo)&&(Zr=!0,t.preventDefault(),t.stopPropagation()),Zr&&(document.scrollingElement.scrollTop=Pd)},QO=t=>{An=t.deltaY,jv(t.target),Zr&&t.preventDefault(),_i&&(_i.scrollTop=_i.scrollTop+An)},Kv=t=>{if(!wo)return;let e=Hd==0?16:t-Hd;Hd=t,An=An*.95;let i=wo.scrollTop;wo.scrollTop=wo.scrollTop+An*(e/16.667);let r=wo.scrollTop-i;Math.abs(An)>.05&&r!=0?Jf=requestAnimationFrame(Kv):(wo=null,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=Pd)},window.addEventListener("wheel",QO,{passive:!1}),window.addEventListener("touchstart",t=>{if(qf=!1,wo=null,cancelAnimationFrame(Jf),jv(t.touches[0].target),An=0,Jv=t.touches[0].clientY,xo=t.touches[0].target.closest(".overlay-content"),xo){let e=xo.querySelector(".page-content")?.contains(t.touches[0].target),i=xo.querySelector(".backdrop");(!e&&xo.classList.contains("is-passthrough-overlay")&&!i||e&&xo.classList.contains("is-content-passthrough-overlay"))&&(xo=null)}(_i||xo)&&(Pd=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=Pd,Qf=t.touches[0].clientY,document.body.addEventListener("touchmove",qv,{passive:!1}))}),document.body.addEventListener("click",t=>{qf=!0}),document.body.addEventListener("touchend",t=>{document.body.removeEventListener("touchmove",qv,{passive:!1}),_i&&Math.abs(An)>2?(wo=_i,clearTimeout(jf),Hd=window?.performance?.now?.()??0,Jf=requestAnimationFrame(Kv)):(document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="");let e=Jv-t.changedTouches[0].clientY;if(!wo&&Math.abs(e)<10&&Zr){let i=t.changedTouches[0].target;setTimeout(()=>{qf||ki.handleGlobalClick(i,i)},330)}},{passive:!1}),qe.on("window-resize",()=>{Kf()}),Kf=Ya.default.debounce(()=>{let t=[...$v].reverse(),e=t.findIndex(i=>{let r=i.ref?.current?.base.closest(".overlay-content");return r?r.classList.contains("overlay-allow-scroll")&&!r.classList.contains("overlay-close"):!1});t.forEach((i,r)=>{let n=i.ref?.current?.base.closest(".overlay-content");n&&(r==0?n.classList.add("top-overlay"):n.classList.remove("top-overlay"),e==-1?(n.classList.remove("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")):r>e?(n.classList.remove("top-scrollable-overlay"),n.classList.add("behind-top-scrollable-overlay")):r==e?(n.classList.add("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")):(n.classList.remove("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")))}),e>-1?document.body.classList.add("has-scrollable-overlay"):document.body.classList.remove("has-scrollable-overlay")},30),Kf());jO=ho(Tn(De(Bae,Dae)(eI)))});function Zae(t,e){let i=e.idType==="purl"?tt.getContentByPurl(t,e.id):tt.getContentById(t,e.id),r,n=null,o=null;if(!i){let l=!1;if(t.frontendState.networkErrors.find(u=>u.id===e.id&&u.idType===e.idType&&u)!==void 0){if(e.idType==="purl"&&(r=t.site.tags.find(u=>u.url===e.id),!r)){for(let u in t.pages.byId)if(r=t.pages.byId[u].tags.find(c=>c.url===e.id),r)break}r||(l=!0)}if(l)return{content:null,contentFailedLoading:l}}if(i)if(i.page_type==="set"){n=i.id;let l=tt.getContentByPurl(t,e.hashPurl),u=t.structure.indexById[l?.id]||0,c=t.sets.byId[tt.getItemParentId(t,l?.id)]||i;o=Mae(t.structure,t.pages,t.sets,c,u)}else n=tt.getItemParentId(t,i.id);else r&&(n="root",o=Object.values(t.pages.byId).filter(l=>t.structure.indexById[l.id]===null||l.crdt_state===Mt.Deleted?!1:l.tags.some(u=>u.tag===r.tag)).map(l=>({content:l,position:"below"})),o.sort((l,u)=>t.structure.bySort[l.content.id]-t.structure.bySort[u.content.id]));return{tag:r,hasContent:i!==void 0,contentId:i?.id,contentType:i?.page_type,contentTitle:i?.title,contentPurl:i?.purl,contentIsStack:i?.stack,contentIsPin:i?.pin,contentIsOverlay:i?.overlay,contentCRDTState:i?.crdt_state,children:o,pinContextPID:n,isFeed:t.sets.byId.root.stack,topPins:tt.getPinsForSet(t,n,"top",i?.id),bottomPins:tt.getPinsForSet(t,n,"bottom",i?.id),adminMode:t.frontendState.adminMode}}function _ae(t){return xt({fetchContent:Me.fetchContent,fetchPagesByTag:Me.fetchPagesByTag,fetchSitePackage:Me.fetchSitePackage,updateFrontendState:Me.updateFrontendState},t)}var JO,So,Tae,tI,Yd,em,qO,Mae,iI,KO=R(()=>{xe();ri();ut();JO=pe(wh(),1);Cu();So=pe(ve(),1);za();Zt();Ze();Ri();Dt();Pf();PO();zv();Nd();Br();$f();Y();Tae=async t=>{let e=[];if(!t.hasContent){let i=t.fetchContent(t.id,{idType:t.idType});e.push(i)}if(t.hashPurl){let i=t.fetchContent(t.hashPurl,{idType:"purl"});e.push(i)}U.isServer&&e.push(qO(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(i=>{})},tI={top:0,bottom:0},Yd=10,em=class extends oe{constructor(e){super(e),this.contentRef=be(),this.contentParentRef=be(),this.topPaginationWatcherRef=be(),this.bottomPaginationWatcherRef=be(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:tI,pageRenderLimits:{above:0,below:Yd}},U.isServer||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(o!==this.state.contentPad.top||l!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:o,bottom:l}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}getContentByPosition(e){return this.props.children?.filter(i=>i.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),i=[];return this.props.topPins.forEach(r=>{i.push(f(Pa,{id:r.id,contentPad:tI,stackedPage:this.props.topPins.length>1},r.id))}),this.renderedChildren=[...So.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),...So.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],i.push(f("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:f(ee,{children:[f("div",{className:"pagination-watcher","data-direction":"up",ref:this.topPaginationWatcherRef}),f(Ud,{id:this.props.contentId,children:this.renderedChildren,hashPurl:this.props.hashPurl,contentPad:this.state.contentPad},this.props.contentId),f("div",{className:"pagination-watcher","data-direction":"down",ref:this.bottomPaginationWatcherRef})]}):this.props.contentIsPin||this.props.contentIsOverlay?null:f(Pa,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)})),this.props.bottomPins.forEach(r=>{i.push(f(Pa,{id:r.id,contentPad:tI,stackedPage:this.props.bottomPins.length>1},r.id))}),i}render(){if(this.props.contentFailedLoading)return f(Yf,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===Mt.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return f("div",{className:"content",ref:this.contentParentRef,children:[f(jO,{pinContextPID:this.props.pinContextPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}shouldComponentUpdate(e,i,r){if(this.props===e&&this.state===i&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=!1;this.props.hashPurl!==e.hashPurl&&this.renderedChildren&&this.renderedChildren.some(o=>o.content.purl===e.hashPurl)&&(n=!0),n||this.setState({pageRenderLimits:{above:0,below:Yd}})}return!0}componentDidUpdate(e,i,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==Mt.Deleted&&this.props.contentCRDTState===Mt.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),Jn.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0}),this.requestPagination()),e.hashPurl!==this.props.hashPurl&&this.props.hashPurl&&this.props.fetchContent(this.props.hashPurl,{idType:"purl"}).then(()=>{this.requestPagination()}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId}),this.requestPagination()),this.attachPaginationWatchers()}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let i=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,i=!0):this.paginationLimitsTriggered[n]=!1}),i&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?Yd:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?Yd:0)}}),await qO(this.props,this.paginationLimitsTriggered).then(i=>{i.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length)&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length)&&(this.isPaginating=!1)}).catch(i=>{console.error(i),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(i=>setTimeout(i,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(U.isServer)return e;let i=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return So.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=i(r.top),e.marginBottom+=i(r.bottom)}),e}},qO=(t,e,i={})=>new Promise((r,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(r).catch(n);let o=t.store.getState(),l=[];if(So.default.each(e,(u,c)=>{if(!u)return;let d,g;if(c==="up"){let x=So.default.first(t.children);x&&(g=x.index,d=x.parent)}else if(c==="down"){let x=So.default.last(t.children);x?(g=x.index,d=x.parent):t.contentType==="set"&&(g=0,d=t.contentId)}if(d===void 0||g===void 0)return;let m=0,b=(x,A,F=[])=>(F.push(A),x[A]?.forEach(E=>{b(x,E,F)}),F),I=b(tt.getSetsByParent(o),d);Iu(o.structure,o.pages,o.sets,o.sets.byId[d],g,{reverse:c==="up",callback:(x,A,F)=>{if(!F&&I.includes(x)&&(l.push({parent:x,index:A}),m++),m>=Yd)return"break"}})}),l.length>0){let u=So.default.groupBy(l,"parent"),c=So.default.map(u,(d,g)=>t.fetchContent(g,{indexes:So.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),Mae=Yn((t,e,i,r,n)=>{let o=[];return Iu(t,e,i,r,n-1,{reverse:!0,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.unshift({parent:l,index:u,content:c,position:"above"});else return"break"}}),Iu(t,e,i,r,n,{reverse:!1,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.push({parent:l,index:u,content:c,position:"below"});else return"break"}}),o});em.contextType=Us;iI=ho(De(Zae,_ae)((0,JO.frontloadConnect)(Tae,{onMount:!0,onUpdate:!1})(em)))});function kae(t){return xt({pageMounted:Me.pageMounted,pageUnMounted:Me.pageUnMounted,updateFrontendState:Me.updateFrontendState,fetchContent:Me.fetchContent,fetchCommerceProducts:Me.fetchCommerceProducts},t)}var na,js,tm,zd,im,oa,rm,rI,$O,Xu,Qd,eG,tG=R(()=>{xe();ri();ut();Zt();na=pe(ve(),1);Ri();Nd();Ti();mo();Ki();Ps();Ni();kv();Ze();_f();Br();Y();js=new WeakMap,tm=new WeakMap,zd=new WeakMap,im=new WeakMap,$O=t=>{t.forEach(function(e){js.has(e.target)&&js.get(e.target).onAboveViewPort(e)})},Xu=0;U.isServer||(oa=new ResizeObserver(function(t){let e={};$O(rm.takeRecords()),t.forEach(function(i){let r=js.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),tm.has(i.target)&&tm.get(i.target).onBodyCopyResize(i.contentRect.width),zd.has(i.target)||im.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(zd.has(i.target)){let u=zd.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=im.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),Xu!==0&&(document.scrollingElement.scrollTop+=Xu,Xu=0)}),rm=new IntersectionObserver($O,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),rI=new IntersectionObserver((t,e)=>{t.forEach(function(i){js.has(i.target)&&js.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));Qd=class extends oe{constructor(e){super(e),this.bodycopyRef=be(),this.pageContentRef=be(),this.pageRef=be(),this.pageLayoutRef=be(),this.galleryRef=be(),this.lastBodycopyRef=be(),this.lastPageContentRef=be(),this.lastPageRef=be(),this.lastPageLayoutRef=be(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:qe.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=be(),this.scrollingElement={current:U.isServer?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=Au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===qe.data.window.h?null:{windowHeight:qe.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Xu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=Xu,Xu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;U.isServer&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=na.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return na.default.keys(r).length>0&&na.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let i=e?.target.closest("media-item");i&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{i?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),i.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{i.classList.contains("hey-listen")?i.classList.remove("hey-listen"):i.classList.add("hey-listen")},300),setTimeout(()=>{i.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,i=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),o=null;this.props.access_level==="password"?o=f(Gu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?o=this.lockedContent:o=this.lockedContent=this.props.content,e=f(ee,{children:f(vf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[f("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: ${this.state.authorized?"grid":"none"};
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),f("div",{className:"page-layout",ref:this.pageLayoutRef,children:f("div",{className:"page-content",ref:this.pageContentRef,children:[f("div",{className:"sort-controls",children:[f("text-icon",{icon:"downwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),f("text-icon",{icon:"upwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),f("text-icon",{icon:"shuffle",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),f("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}),f(Lf,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[f(bo,{portalHost:this.bodycopyRef}),f("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?f("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=f("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return f("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[f("a",{id:this.props.purl}),f(Ru,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&bf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(js.delete(this.lastPageRef.current),oa.unobserve(this.lastPageRef.current),rm.unobserve(this.lastPageRef.current),rI.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(js.set(this.pageRef.current,this),oa.observe(this.pageRef.current),rm.observe(this.pageRef.current),rI.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(im.delete(this.lastPageLayoutRef.current),oa.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(im.set(this.pageLayoutRef.current,this),oa.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(zd.delete(this.lastPageContentRef.current),oa.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(zd.set(this.pageContentRef.current,this),oa.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(tm.delete(this.lastBodycopyRef.current),oa.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(tm.set(this.bodycopyRef.current,this),oa.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};componentDidMount(){this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)}),setTimeout(()=>{e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)})},100),this.runHashScroll(),qe.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.disabled=!1}),qe.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];na.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||na.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=na.default.keys(this.props.cartData).length,i=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');na.default.each(i,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),na.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Qd.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};Qd.contextType=Us;eG=De((t,e)=>{let i={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!U.isServer&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:r,pageDepth:tt.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},kae)(Qd)});var iG,XRe,nI,rG,nG=R(()=>{xe();iG=pe(Kr(),1);Ze();ui();XRe=pe(ve(),1);Y();nI=class extends oe{constructor(e){super(e),this.state={error:!1},this.inputRef=be()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let i=this.inputRef.current?.value;if(!i)return this.setState({error:"Email address is not valid."});iG.default.post(`https://${Xh?mu:"dev.cargo.site"}/c3filedownload/validate/${i}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${Xh?mu:"dev.cargo.site"}/c3filedownload/download/${i}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return f(ee,{children:[f("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?f("span",{className:"message",children:"Your download will begin shortly..."}):f(ee,{children:[f("span",{className:"message",children:"Please verify your email address:"}),f("form",{noValidate:!0,onSubmit:this.submit,children:[f("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),f("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&f(ee,{children:[f("br",{}),f("span",{class:"error",children:this.state.error})]})]})]})}},rG=nI});var sG={};Kt(sG,{default:()=>Yae});function Uae(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm,colorTheme:t.siteDesign?.contact_form?.theme||"auto",adminMode:U.isAdminEdit}}function Hae(t){return xt({updateFrontendState:Me.updateFrontendState},t)}var oG,aG,nm,sI,oI,PRe,aI,Vae,Pae,Yae,lG=R(()=>{xe();Fe();xs();oG=pe(Kr(),1);ut();ri();Zt();aG=pe(ve(),1);Ze();Y();nm={},sI=window.matchMedia("(max-aspect-ratio: 1/1)"),oI=sI.matches,PRe=sI.addEventListener("change",t=>{oI=t.matches,nm[1]&&nm[1].setState({isMobile:oI})}),aI=class extends oe{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:oI,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=be(),this.contactFormRef=be(),this.startTime=null,this.inputRef=be(),this.throttledResize=aG.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let i=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:i.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};oG.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let o=new Date-this.startTime;if(this.startTime=null,o<=2500){let l=2500-o;setTimeout(()=>{this.closeForm(null,"submit")},l)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,i)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),i?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete nm[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,o=this.state.emailValue,l=this.state.messageValue;o.length<=0&&(r=!1),l.length<=0&&(n=!1);let u=o.split("@");return u.length!==2&&(r=!1),e.test(u[0])||(r=!1),i.test(u[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:sI.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",nm[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return f("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&ze(f(ee,{children:[f("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/5626ef/css/front-end/contact-form.css"}),this.state.showContents===!0?f("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:f("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:i=>{this.state.sent===!0&&this.handleTransitionEnd(i)},children:f("div",{className:"modal-inner",children:[f("div",{className:"header",children:[f("div",{className:"title"}),f("div",{className:"exit",onPointerUp:i=>{this.closeForm(i)},children:f("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[f("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),f("hr",{}),f("div",{onPointerUp:i=>{this.focusInput(i)},className:"email",children:[f("label",{htmlfor:"email",children:["From:","\xA0"]}),f("div",{className:`text-input${this.state.emailError?" error":""}`,children:f("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:i=>{this.handleEmailChange(i)},placeholder:"(enter your email address)..."})})]}),f("hr",{}),f("div",{className:`text-area${this.state.messageError?" error":""}`,children:f("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:i=>{this.handleMessageChange(i)}})}),f("hr",{}),f("div",{className:"button-area",children:this.state.loading?f(ee,{children:f("button",{className:"send",children:["Sending",f(Vae,{})]})}):f(ee,{children:[f("button",{className:"cancel",onPointerUp:i=>{this.closeForm(i)},children:"Cancel"}),f("button",{className:"send",onPointerUp:i=>{this.submitForm(i)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},Vae=()=>f("div",{className:"caution-processing"});Pae=De(Uae,Hae)(aI),Yae=Pae});var uG={};Kt(uG,{default:()=>jae,validateShopModel:()=>sm});function zae(t){return xt({updateFrontendState:Me.updateFrontendState,fetchCommerceProducts:Me.fetchCommerceProducts,fetchContent:Me.fetchContent,fetchShopModel:Me.fetchShopModel,addCommerceProductToCart:Me.addCommerceProductToCart,resetCommerceCart:Me.resetCommerceCart},t)}var i8e,am,om,jd,lI,sm,uI,Qae,jae,cI=R(()=>{xe();Fe();qo();ut();ri();Zt();za();Ze();i8e=pe(Kr(),1),am=pe(ve(),1);Y();U.isServer||(om=window.matchMedia("(prefers-color-scheme: dark)"),jd=window.matchMedia("(max-aspect-ratio: 1/1)"),jd.addEventListener("change",()=>{lI?.setState({isMobile:jd.matches})}));sm=async()=>{if(Et.getState().site.shop_id===null)throw"site does not have shop setup";let e=await Et.dispatch(Me.fetchShopModel());if(am.default.isEmpty(e))throw"no model data";if(U.isAdminEdit===!1&&e.has_valid_config===!1&&!Et.getState().site?.is_template)throw Et.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},uI=class extends oe{constructor(e){super(e),sm().then(i=>{this.setState({shopModel:i},()=>{this.openOverlay()})}).catch(i=>{console.warn(i),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:jd.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=be(),this.iframeRef=be(),this.startTime=null,this.inputRef=be(),this.throttledResize=am.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{Et.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:jd.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",document.scrollingElement.style.overflow="hidden",setTimeout(()=>{this.setState({animate:!0})},33)})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),lI=null,om.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",document.scrollingElement.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){lI=this,om.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,i){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==i.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?om.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||am.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?f("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&ze(f(ee,{children:[f("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/5626ef/css/front-end/cart.css"}),f("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:f("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:f("div",{className:"modal-inner",children:f("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};Qae=Tn(De(t=>({requestedTheme:t.siteDesign.cart?.theme||"light"}),zae)(uI)),jae=Qae});function Jae(t){return xt({fetchContent:Me.fetchContent,updateFrontendState:Me.updateFrontendState},t)}var dI,Js,lm,cG,dG,pI,pG,hG=R(()=>{xe();qo();ri();xW();ut();Ze();Zt();Cu();Ri();Nd();KO();tG();nG();dI=pe(ve(),1);Y();Js={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},lm={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};U.isServer||(cG=(lG(),yc(sG)).default,dG=(cI(),yc(uG)).default);pI=class extends oe{constructor(e){super(e),this.checkForOverlayPath(this.props.location)}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let i in lm){let r=lm[i],n=Es(e.pathname,{path:r});if(n){if(dI.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};deferredContentRenderer(e,i){let r=this.props.store.getState(),n=i==="purl"?tt.getContentByPurl(r,e):tt.getContentById(r,e);return n?.overlay&&(e=U.getCorrectRenderContextForGivenPID(r,tt,n.id),i="pid"),U.isServer?f(iI,{id:e,idType:i}):(this.lastRequestedId=e,this.lastRequestedIdType=i,this.currentId?(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType)&&(window.__deferred_page_load_promise__=new Promise(o=>{dI.default.defer(l=>{this.props.fetchContent(l,{idType:i}).catch(()=>{}).finally(()=>{this.lastRequestedId===l&&(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType,this.forceUpdate()),delete window.__deferred_page_load_promise__,o()})},this.lastRequestedId)})):(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType),f(NW,{children:f(iI,{id:this.currentId,idType:this.currentIdType,hashPurl:this.props.hashPurl})}))}componentDidUpdate=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,i=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,i=this.props.location,e=f("div",{class:"overlay",children:f(Oh,{location:i,children:[f(Cn,{exact:!0,path:lm.CART,render:({match:n})=>f(dG,{closeOverlay:(o={})=>{this.props.history[o.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})}),f(Cn,{exact:!0,path:lm.CONTACT,render:({match:n})=>f(cG,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})})]})})),f(ee,{children:[e,f(Oh,{location:r,children:[f(Cn,{exact:!0,path:Js.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),f(Cn,{exact:!0,path:Js.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>f(rG,{hash:n.params.hash})}),f(Cn,{exact:!0,path:Js.IMG_PATH,render:({match:n})=>f(eG,{})}),f(Cn,{exact:!0,path:Js.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),f(Cn,{exact:!0,path:Js.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),f(Cn,{exact:!0,path:Js.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),f(Cn,{exact:!0,path:Js.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),f(Cn,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};pG=ho(Tn(De((t,e)=>{let i=U.isServer?null:window.location.hash.substring(1).toLowerCase();return{hasSite:!!t.site,homepageId:tt.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode,hashPurl:i}},Jae)(pI)))});var gG,fG,mG=R(()=>{tn();gG=pe(ve(),1);Ze();fG={};U.isServer||(fG=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,o,l,u){var c={features:null,bind:function(v,W,X,G){var ae=(G?"remove":"add")+"EventListener";W=W.split(" ");for(var Ae=0;Ae<W.length;Ae++)W[Ae]&&v[ae](W[Ae],X,!1)},isArray:function(v){return v instanceof Array},createEl:function(v,W){var X=document.createElement(W||"div");return v&&(X.className=v),X},getScrollY:function(){var v=window.pageYOffset;return v!==void 0?v:document.documentElement.scrollTop},unbind:function(v,W,X){c.bind(v,W,X,!0)},removeClass:function(v,W){var X=new RegExp("(\\s|^)"+W+"(\\s|$)");v.className=v.className.replace(X," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(v,W){c.hasClass(v,W)||(v.className+=(v.className?" ":"")+W)},hasClass:function(v,W){return v.className&&new RegExp("(^|\\s)"+W+"(\\s|$)").test(v.className)},getChildByClass:function(v,W){for(var X=v.firstChild;X;){if(c.hasClass(X,W))return X;X=X.nextSibling}},arraySearch:function(v,W,X){for(var G=v.length;G--;)if(v[G][X]===W)return G;return-1},extend:function(v,W,X){for(var G in W)if(W.hasOwnProperty(G)){if(X&&v.hasOwnProperty(G))continue;v[G]=W[G]}},easing:{sine:{out:function(v){return Math.sin(v*(Math.PI/2))},inOut:function(v){return-(Math.cos(Math.PI*v)-1)/2}},cubic:{out:function(v){return--v*v*v+1}}},detectFeatures:function(){if(c.features)return c.features;var v=c.createEl(),W=v.style,X="",G={};if(G.oldIE=document.all&&!document.addEventListener,G.touch="ontouchstart"in window,window.requestAnimationFrame&&(G.raf=window.requestAnimationFrame,G.caf=window.cancelAnimationFrame),G.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!G.pointerEvent){var ae=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Ae=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Ae&&Ae.length>0&&(Ae=parseInt(Ae[1],10),Ae>=1&&Ae<8&&(G.isOldIOSPhone=!0))}var Le=ae.match(/Android\s([0-9\.]*)/),Ve=Le?Le[1]:0;Ve=parseFloat(Ve),Ve>=1&&(Ve<4.4&&(G.isOldAndroid=!0),G.androidVersion=Ve),G.isMobileOpera=/opera mini|opera mobi/i.test(ae)}for(var Ne=["transform","perspective","animationName"],st=["","webkit","Moz","ms","O"],je,pt,Rt=0;Rt<4;Rt++){X=st[Rt];for(var Ai=0;Ai<3;Ai++)je=Ne[Ai],pt=X+(X?je.charAt(0).toUpperCase()+je.slice(1):je),!G[je]&&pt in W&&(G[je]=pt);X&&!G.raf&&(X=X.toLowerCase(),G.raf=window[X+"RequestAnimationFrame"],G.raf&&(G.caf=window[X+"CancelAnimationFrame"]||window[X+"CancelRequestAnimationFrame"]))}if(!G.raf){var mr=0;G.raf=function(ti){var Jt=new Date().getTime(),si=Math.max(0,16-(Jt-mr)),Oi=window.setTimeout(function(){ti(Jt+si)},si);return mr=Jt+si,Oi},G.caf=function(ti){clearTimeout(ti)}}return G.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=G,G}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(v,W,X,G){W=W.split(" ");for(var ae=(G?"detach":"attach")+"Event",Ae,Le=function(){X.handleEvent.call(X)},Ve=0;Ve<W.length;Ve++)if(Ae=W[Ve],Ae)if(typeof X=="object"&&X.handleEvent){if(!G)X["oldIE"+Ae]=Le;else if(!X["oldIE"+Ae])return!1;v[ae]("on"+Ae,X["oldIE"+Ae])}else v[ae]("on"+Ae,X)});var d=this,g=25,m=3,b={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(v){return v.tagName==="A"},getDoubleTapZoom:function(v,W){return v||W.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(b,u);var Zo=null,I=function(){var v=c.getScrollY();Zo===null&&(Zo=v),gl||(zi=zi+(v-Zo),Zo=v,j<=d.currItem.fitRatio&&!Hr&&b.modal&&(!b.animatedCloseOnScroll||Oo||dr?zi=0:Pe&&Math.abs(zi)>0&&!_r&&(Wn(),oc()),Sr&&clearTimeout(Sr),b.animatedCloseOnScroll,Sr=setTimeout(function(){Wn(),us()},200)))},x=function(){return{x:0,y:0}},A=function(){return{x:0,y:0,rotation:0}},F,E,M,k,T,_,ne=x(),Z=A(),L=A(),re,de,$,q={},B={},j,K,te,se,z,V,ie=0,le={},ce=x(),ge,fe,We=0,Ee,Be,ke,at,Pe,nt,we=!0,lt,ot=[],He,Ye,Pt,kt,At,Tt,it,Ui={},jt=!1,Eo,_r=!1,Sn=function(v,W){c.extend(d,W.publicMethods),ot.push(v)},aa=function(v){var W=ir();return v>W-1?v-W:v<0?W+v:v},No={},Ii=function(v,W){return No[v]||(No[v]=[]),No[v].push(W)},gt=function(v){var W=No[v];if(W){var X=Array.prototype.slice.call(arguments);X.shift();for(var G=0;G<W.length;G++)W[G].apply(d,X)}},wr=function(){return new Date().getTime()},ur=function(v){ts=v,d.bg.style.opacity=v*b.bgOpacity},tl=function(v,W,X,G,ae,Ae){(!jt||ae&&ae!==d.currItem)&&(G=G/(ae?ae.fitRatio:d.currItem.fitRatio)),X=X+B.top,v[Pe]=te+W+"px, "+X+"px"+se+" scale("+G+") rotateZ("+Ae+"rad)"},ai=function(v){pr&&(v&&(j>d.currItem.fitRatio?jt||(an(d.currItem,!1,!0),jt=!0):jt&&(an(d.currItem),jt=!1)),tl(pr,L.x,L.y,j,null,L.rotation))},Wo=function(v){v.container&&tl(v.container.style,v.initialPosition.x,v.initialPosition.y,v.initialZoomLevel,v,0)},sa=function(v,W,X){X[Pe]=te+v+"px, "+W+"px"+se},il=function(v,W){if(!b.loop&&W){var X=k+(ce.x*ie-v)/ce.x,G=v-Vr.x;(X<0&&G>0||X>=ir()-1&&G<0)&&(v=Vr.x+G*b.mainScrollEndFriction)}Vr.x=v,sa(v,0,T)},Zu=function(v,W){var X=To[v]-le[v];return Z[v]+ne[v]+X-X*(W/K)},Hi=function(v,W){v.x=W.x,v.y=W.y,W.id&&(v.id=W.id)},_u=function(v){v.x=Math.round(v.x),v.y=Math.round(v.y)},ku=null,Vu=function(){ku&&(c.unbind(document,"mousemove",Vu),c.addClass(n,"quick-view-has-mouse"),b.mouseUsed=!0,gt("mouseUsed")),ku=setTimeout(function(){ku=null},100)},Xm=function(){c.bind(document,"keydown",d),it.transform&&c.bind(d.scrollWrap,"click",d),b.mouseUsed||c.bind(document,"mousemove",Vu),c.bind(window,"resize scroll orientationchange",d),gt("bindEvents")},Bm=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",$.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",Vu),it.transform&&c.unbind(d.scrollWrap,"click",d),dr&&c.unbind(window,re,d),clearTimeout(Eo),gt("unbindEvents")},rl=function(v,W){var X=rs(d.currItem,q,v);return W&&(ct=X),X},tp=function(v){return v||(v=d.currItem),v.initialZoomLevel},ip=function(v){return v||(v=d.currItem),v.w>0?b.maxSpreadZoom:1},rp=function(v,W,X,G){return G===d.currItem.initialZoomLevel?(X[v]=d.currItem.initialPosition[v],!0):(X[v]=Zu(v,G),X[v]>W.min[v]?(X[v]=W.min[v],!0):X[v]<W.max[v]?(X[v]=W.max[v],!0):!1)},Uu=function(){if(Pe){var v=it.perspective&&!lt;te="translate"+(v?"3d(":"("),se=it.perspective?", 0px)":")";return}Pe="left",c.addClass(n,"quick-view-ie"),sa=function(W,X){X.left=W+"px"},Wo=function(W){var X=W.fitRatio>1?1:W.fitRatio,G=W.container.style,ae=X*W.w,Ae=X*W.h;G.width=ae+"px",G.height=Ae+"px",G.left=W.initialPosition.x+"px",G.top=W.initialPosition.y+"px"},ai=function(){if(pr){var W=pr,X=d.currItem,G=X.fitRatio>1?1:X.fitRatio,ae=G*X.w,Ae=G*X.h;W.width=ae+"px",W.height=Ae+"px",W.left=L.x+"px",W.top=L.y+"px"}}},Dm=function(v){var W="";b.escKey&&v.keyCode===27?W="close":b.arrowKeys&&(v.keyCode===37?W="prev":v.keyCode===39&&(W="next")),v.keyCode===32&&(v.preventDefault(),v.stopImmediatePropagation(),W="close"),W&&!v.ctrlKey&&!v.altKey&&!v.shiftKey&&!v.metaKey&&(v.preventDefault?v.preventDefault():v.returnValue=!1,d[W]())},Hu=function(v){v&&(Rn||qn||Pi||ua)&&(v.preventDefault(),v.stopPropagation())},np=function(){d.setScrollOffset(0,c.getScrollY())};U.isServer||window.addEventListener("scroll",I);var cr={},Oo=0,Ja=function(v){cr[v]&&(cr[v].raf&&Ye(cr[v].raf),Oo--,delete cr[v])},Pu=function(v){cr[v]&&Ja(v),cr[v]||(Oo++,cr[v]={})},qa=function(){for(var v in cr)cr.hasOwnProperty(v)&&Ja(v)},la=function(v,W,X,G,ae,Ae,Le){var Ve=wr(),Ne;Pu(v);var st=function(){if(cr[v]){if(Ne=wr()-Ve,Ne>=G){Ja(v),Ae(X),Le&&Le();return}Ae((X-W)*ae(Ne/G)+W),cr[v].raf=He(st)}};st()},Tm={shout:gt,listen:Ii,viewportSize:q,options:b,isMainScrollAnimating:function(){return Pi},getZoomLevel:function(){return j},getCurrentIndex:function(){return k},isDragging:function(){return dr},isZooming:function(){return nn},setScrollOffset:function(v,W){le.x=v,Tt=le.y=W,gt("updateScrollOffset",le)},applyZoomPan:function(v,W,X,G){L.x=W,L.y=X,j=v,ai(G)},init:function(){if(!(F||E)){e("init",d);var v;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),Pt=n.className,F=!0,it=c.detectFeatures(),He=it.raf,Ye=it.caf,Pe=it.transform,At=it.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),T=d.container.style,d.itemHolders=ge=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],ge[0].el.style.display=ge[2].el.style.display="none",Uu(),$={resize:d.updateSize,orientationchange:function(){clearTimeout(Eo),Eo=setTimeout(function(){q.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:np,keydown:Dm,click:Hu};var W=it.isOldIOSPhone||it.isOldAndroid||it.isMobileOpera;for((!it.animationName||!it.transform||W)&&(b.showAnimationDuration=b.hideAnimationDuration=0),v=0;v<ot.length;v++)d["init"+ot[v]]();if(o){var X=d.ui=new o(d,c);X.init()}gt("firstUpdate"),k=k||b.index||0,(isNaN(k)||k<0||k>=ir())&&(k=0),d.currItem=on(k),(it.isOldIOSPhone||it.isOldAndroid)&&(we=!1),n.setAttribute("aria-hidden","false"),b.modal&&(we?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+b.alignVertical),n.classList.add("quick-view-horizontal-align-"+b.alignHorizontal),Tt===void 0&&(gt("initialLayout"),Tt=kt=c.getScrollY());var G="quick-view-open ";for(b.mainClass&&(G+=b.mainClass+" "),b.showHideOpacity&&(G+="quick-view-animate_opacity "),G+=lt?"quick-view-touch":"quick-view-notouch",G+=it.animationName?" quick-view-css_animation":"",G+=it.svg?" quick-view-svg":"",c.addClass(n,G),d.updateSize(),_=-1,We=null,v=0;v<m;v++)sa((v+_)*ce.x+B.left,0,ge[v].el.style);At||c.bind(d.scrollWrap,de,d),Ii("initialZoomInEnd",function(){d.setContent(ge[0],k-1),d.setContent(ge[2],k+1),ge[0].el.style.display=ge[2].el.style.display="block",b.focus&&n.focus(),Xm()}),d.setContent(ge[1],k),d.updateCurrItem(),setTimeout(d.updateCaption,b.showAnimationDuration+50),gt("afterInit",k),e("after-init",d),we||(z=setInterval(function(){!Oo&&!dr&&!nn&&j===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){F&&(F=!1,E=!0,gt("close"),e("closing",d),Bm(),ic(d.currItem,null,!0,d.destroy))},destroy:function(){gt("destroy"),e("destroy",d),hr&&clearTimeout(hr),n.setAttribute("aria-hidden","true"),n.className=Pt,z&&clearInterval(z),c.unbind(d.scrollWrap,de,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",I),qu(),qa(),No=null},panTo:function(v,W,X){X||(v>ct.min.x?v=ct.min.x:v<ct.max.x&&(v=ct.max.x),W>ct.min.y?W=ct.min.y:W<ct.max.y&&(W=ct.max.y)),L.x=v,L.y=W,ai()},handleEvent:function(v){v=v||window.event,$[v.type]&&$[v.type](v)},goTo:function(v){v=aa(v);var W=v-k;We=W,k=v,d.currItem=on(k),ie-=W,il(ce.x*ie),qa(),Pi=!1,d.updateCurrItem()},next:function(){d.goTo(k+1)},prev:function(){d.goTo(k-1)},updateCurrZoomItem:function(v){if(v&&(gt("beforeChange",0),e("before-slide-change",d,0)),ge[1].el.children.length){var W=ge[1].el.children[0];c.hasClass(W,"quick-view-zoom-wrap")?pr=W.style:pr=null}else pr=null;ct=d.currItem.bounds,K=j=d.currItem.initialZoomLevel,L.x=ct.center.x,L.y=ct.center.y,v&&(gt("afterChange",k),e("after-slide-change",d))},invalidateCurrItems:function(){V=!0;for(var v=0;v<m;v++)ge[v].item&&(ge[v].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&b.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),Vt(d.currItem),d.caption.classList.remove("hidden")}else if(b.showCaption){var v=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",v)};d.caption.classList.contains("hidden")?v():(d.caption.addEventListener("transitionend",v),d.caption.classList.add("hidden"))}},updateCurrItem:function(v){if(We!==0){var W=Math.abs(We),X;if(!(v&&W<2)){d.currItem=on(k),jt=!1,gt("beforeChange",We);var G=We;G===null&&(G=0),e("slide-change",d,G),W>=m&&(_+=We+(We>0?-m:m),W=m);for(var ae=0;ae<W;ae++)We>0?(X=ge.shift(),ge[m-1]=X,_++,sa((_+2)*ce.x+B.left,0,X.el.style),d.setContent(X,k-W+ae+1+1)):(X=ge.pop(),ge.unshift(X),_--,sa(_*ce.x+B.left,0,X.el.style),d.setContent(X,k+W-ae-1-1));if(pr&&Math.abs(We)===1){var Ve=on(fe);Ve.initialZoomLevel!==j&&(rs(Ve,q),an(Ve),Wo(Ve))}var Ae=1+-We,Le=ge[Ae];We=0,d.updateCurrZoomItem(),fe!==void 0&&d.updateCaption();var Ve=on(fe),Ne=Ve?.container?.querySelector("media-item");Ne&&(Ne.removeAttribute("autoplay"),Ne.pause?.());var st=on(k),je=st?.container?.querySelector("media-item");je&&(yt(je,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),yt(je,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),st.autoplay&&je?.play?.()),fe=k,gt("afterChange",k)}}},updateSize:function(v){if(!we&&b.modal){var W=c.getScrollY();if(Tt!==W&&(n.style.top=W+"px",Tt=W),!v&&Ui.x===window.innerWidth&&Ui.y===window.innerHeight)return;Ui.x=window.innerWidth,Ui.y=window.innerHeight,n.style.height=Ui.y+"px"}var X=window.getComputedStyle(d.template),G=parseFloat(X.getPropertyValue("padding-left"))+parseFloat(X.getPropertyValue("border-left-width")),ae=parseFloat(X.getPropertyValue("margin-left")),Ae=parseFloat(X.getPropertyValue("padding-right"))+parseFloat(X.getPropertyValue("border-right-width")),Le=parseFloat(X.getPropertyValue("margin-right")),Ve=parseFloat(X.getPropertyValue("padding-top"))+parseFloat(X.getPropertyValue("border-top-width")),Ne=parseFloat(X.getPropertyValue("margin-top")),st=parseFloat(X.getPropertyValue("padding-bottom"))+parseFloat(X.getPropertyValue("border-bottom-width")),je=parseFloat(X.getPropertyValue("margin-bottom"));let pt="quick-view-vertical-align-"+b.alignVertical,Rt="quick-view-horizontal-align-"+b.alignHorizontal;pt!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),pt!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),pt!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),Rt!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),Rt!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),Rt!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(pt),n.classList.add(Rt),B.top=Ve,B.left=G,B.bottom=st,B.right=Ae,B.marginTop=Ne,B.marginLeft=ae,B.marginBottom=je,B.marginRight=Le;var Ai=d.scrollWrap.getBoundingClientRect();if(q.x=Ai.width,q.y=Ai.height,np(),ce.x=q.x+q.x*b.spacing,ce.y=q.y,il(ce.x*ie),gt("beforeResize"),_!==void 0){for(var mr,ti,Jt,si=0;si<m;si++)mr=ge[si],sa((si+_)*ce.x+B.left,0,mr.el.style),Jt=k+si-1,b.loop&&ir()>2&&(Jt=aa(Jt)),ti=on(Jt),ti&&(V||ti.needsUpdate||!ti.bounds)?(d.cleanSlide(ti),d.setContent(mr,Jt),si===1&&(d.currItem=ti,d.updateCurrZoomItem(!0)),ti.needsUpdate=!1):mr.index===-1&&Jt>=0&&d.setContent(mr,Jt),ti&&ti.container&&(rs(ti,q),an(ti),Wo(ti));V=!1}K=j=d.currItem.initialZoomLevel,ct=d.currItem.bounds,ct&&(L.x=ct.center.x,L.y=ct.center.y,ai(!0)),gt("resize")},zoomTo:function(v,W,X,G,ae){W&&(K=j,To.x=Math.abs(W.x)-L.x,To.y=Math.abs(W.y)-L.y,Hi(Z,L));var Ae=rl(v,!1),Le={};rp("x",Ae,Le,v),rp("y",Ae,Le,v);var Ve=j,Ne={x:L.x,y:L.y};_u(Le);var st=function(je){je===1?(j=v,L.x=Le.x,L.y=Le.y,d.currItem.caption&&b.showCaption&&(Math.abs(j-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(j=(v-Ve)*je+Ve,L.x=(Le.x-Ne.x)*je+Ne.x,L.y=(Le.y-Ne.y)*je+Ne.y),ae&&ae(je),ai(je===1)};X?la("customZoomTo",0,1,X,G||c.easing.sine.inOut,st):st(1)}},Yu=30,zu=10,op,nl,er={},Go={},tr={},hi={},Lo={},kr=[],Xo={},Ka,Bo=[],Do={},ol,ua,$a,al=0,sl=x(),Qu=0,dr,ll,qn,Rn,ul,Fn,Wi,nn,ap,ju,ct,Vr=x(),pr,Pi,To=x(),Kn=x(),Yi,cl,es,ts,is,sp=function(v,W){return v.x===W.x&&v.y===W.y},lp=function(v,W){return Math.abs(v.x-W.x)<g&&Math.abs(v.y-W.y)<g},Ju=function(v,W){return Do.x=Math.abs(v.x-W.x),Do.y=Math.abs(v.y-W.y),Math.sqrt(Do.x*Do.x+Do.y*Do.y)},qu=function(){ul&&(Ye(ul),ul=null)},up=function(){dr&&(ul=He(up),Vm())},Mm=function(){return!(b.scaleMode==="fit"&&j===d.currItem.initialZoomLevel)},Ku=function(v,W){return!v||v===document||v.getAttribute("class")&&v.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:W(v)?v:Ku(v.parentNode,W)},$u={},cp=function(v,W){return $u.prevent=!Ku(v.target,b.isClickableElement),gt("preventDragEvent",v,W,$u),$u.prevent},dp=function(v,W){return W.x=v.pageX+-B.left+-B.marginLeft,W.y=v.pageY+-B.top+-B.marginTop,W.clientY=v.clientY,W.id=v.identifier,W},pp=function(v,W,X){X.x=(v.x+W.x)*.5,X.y=(v.y+W.y)*.5},ec=function(v,W,X){if(v-nl>50){var G=Bo.length>2?Bo.shift():{};G.x=W,G.y=X,Bo.push(G),nl=v}},hp=function(){var v=L.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(v/(q.y/2)),1)},ca={},Zm={},$n=[],dl,Nt=function(v){for(;$n.length>0;)$n.pop();return nt?(dl=0,kr.forEach(function(W){dl===0?$n[0]=W:dl===1&&($n[1]=W),dl++})):v.type.indexOf("touch")>-1?v.touches&&v.touches.length>0&&($n[0]=dp(v.touches[0],ca),v.touches.length>1&&($n[1]=dp(v.touches[1],Zm))):(ca.x=v.pageX,ca.y=v.pageY,ca.clientY=v.clientY,ca.id="",$n[0]=ca),$n},Wt=function(v,W){var X,G=0,ae=L[v]+W[v],Ae,Le=W[v]>0,Ve=Vr.x+W.x,Ne=Vr.x-Xo.x,st,je;if(ae>ct.min[v]||ae<ct.max[v]?X=b.panEndFriction:X=1,ae=L[v]+W[v]*X,(b.allowPanToNext||j===d.currItem.initialZoomLevel)&&(pr?Yi==="h"&&v==="x"&&!qn&&(Le?(ae>ct.min[v]&&(X=b.panEndFriction,G=ct.min[v]-ae,Ae=Math.round(ct.min[v]-Z[v])),(Ae<=0||Ne<0)&&ir()>1?(je=Ve,Ne<0&&Ve>Xo.x&&(je=Xo.x)):ct.min.x!==ct.max.x&&(st=ae)):(ae<ct.max[v]&&(X=b.panEndFriction,G=ae-ct.max[v],Ae=Math.round(Z[v]-ct.max[v])),(Ae<=0||Ne>0)&&ir()>1?(je=Ve,Ne>0&&Ve<Xo.x&&(je=Xo.x)):ct.min.x!==ct.max.x&&(st=ae))):je=Ve,v==="x"))return je!==void 0&&(il(je,!0),je===Xo.x?Fn=!1:Fn=!0),ct.min.x!==ct.max.x&&(st!==void 0?L.x=st:Fn||(L.x+=W.x*X)),je!==void 0;Pi||Fn||j>d.currItem.fitRatio&&(L[v]+=W[v]*X)},gp=null,_m=function(v){if(!(v.type==="mousedown"&&v.button>0)){if(da){v.preventDefault();return}if(!($a&&v.type==="mousedown")){if(cp(v,!0)&&v.preventDefault(),ls=v.type,gp=setTimeout(function(){d.template.classList.add("mouse-down")},200),gt("pointerDown"),nt){var W=c.arraySearch(kr,v.pointerId,"id");W<0&&(W=kr.length),kr[W]={x:v.pageX,y:v.pageY,clientY:v.clientY,id:v.pointerId}}var X=Nt(v),G=X.length;Wi=null,qa(),(!dr||G===1)&&(dr=cl=!0,c.bind(window,re,d),ol=Hr=is=es=ua=Fn=Rn=ll=qn=!1,Yi=null,nc=X[0].y+-Tt,gt("firstTouchStart",X),Hi(Z,L),ne.x=ne.y=0,Hi(hi,X[0]),Hi(Lo,hi),Xo.x=ce.x*ie,Bo=[{x:hi.x,y:hi.y}],nl=op=wr(),rl(j,!0),qu(),up()),!nn&&G>1&&!Pi&&!Fn&&(K=j,qn=!1,nn=ll=!0,ne.y=ne.x=0,Hi(Z,L),Hi(er,X[0]),Hi(Go,X[1]),pp(er,Go,Kn),To.x=Math.abs(Kn.x)-L.x,To.y=Math.abs(Kn.y)-L.y,ap=ju=Ju(er,Go))}}},km=function(v){if(v.preventDefault(),nt){var W=c.arraySearch(kr,v.pointerId,"id");if(W>-1){var X=kr[W];X.x=v.pageX,X.y=v.pageY,X.clientY=v.clientY}}if(dr){var G=Nt(v);if(!Yi&&!Rn&&!nn)if(Vr.x!==ce.x*ie)Yi="h";else{var ae=Math.abs(G[0].x-hi.x)-Math.abs(G[0].y-hi.y);Math.abs(ae)>=zu&&(Yi=ae>0?"h":"v",Wi=G)}else Wi=G;ss=ss+(nc-G[0].clientY),nc=G[0].clientY}},Vm=function(){if(Wi){var v=Wi.length;if(v!==0)if(Hi(er,Wi[0]),tr.x=er.x-hi.x,tr.y=er.y-hi.y,nn&&v>1){if(hi.x=er.x,hi.y=er.y,!tr.x&&!tr.y&&sp(Wi[1],Go))return;Hi(Go,Wi[1]),qn||(qn=!0,gt("zoomGestureStarted"),d.currItem.caption&&b.showCaption&&d.caption.classList.add("hidden"));var W=Ju(er,Go),X=yi(W);X>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(is=!0);var G=1,ae=tp(),Ae=ip();if(X<ae)if(b.pinchToClose&&!is&&K<=d.currItem.initialZoomLevel){var Le=ae-X,Ve=1-Le/(ae/1.2);ur(Ve),gt("onPinchClose",Ve),es=!0}else G=(ae-X)/ae,G>1&&(G=1),X=ae-G*(ae/3);else X>Ae&&(G=(X-Ae)/(ae*6),G>1&&(G=1),X=Ae+G*ae);G<0&&(G=0),ap=W,pp(er,Go,sl),ne.x+=sl.x-Kn.x,ne.y+=sl.y-Kn.y,Hi(Kn,sl),L.x=Zu("x",X),L.y=Zu("y",X),ol=X>j,j=X,ai()}else{if(!Yi||(cl&&(cl=!1,Math.abs(tr.x)>=zu&&(tr.x-=Wi[0].x-Lo.x),Math.abs(tr.y)>=zu&&(tr.y-=Wi[0].y-Lo.y,ss-=-(Wi[0].y-Lo.y))),hi.x=er.x,hi.y=er.y,tr.x===0&&tr.y===0))return;if(Yi==="v"&&b.animatedCloseOnScroll&&ls==="touchstart"){if(zi=ss,ss=0,!Hr&&!_r){Hr=!0,Wn(),oc();var Ne=!1,st=0,je=1,pt=0;Mo=0,ln=0;var Rt=hi.y,Ai=hi.y,mr,ti,Jt=document.documentElement.scrollTop,si=document.documentElement.scrollHeight,Oi=q.y,ha=!1,fl=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),ml=[],ac=function(){ha||(ha=!0,ti=requestAnimationFrame(function(){fl.style.transform="translateY("+-ln+"px)",ml.each(function(Se){var Ke=this.parentElement.__backdropData,bt=this.parentElement.__cached_size,qt=this.parentElement.__cached_page_size;if(Ke){var wt=0,_o=0,Qi=0;bt&&(wt=bt.top,_o=bt.height,Qi=_o),qt&&(Qi=qt.height);var ji=parseFloat(Ke.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var On=Jt+ln,ga=Jt+ln+Cargo.Backdrop.cache_window_data.height,Rr=wt+Jt,ps=wt+Jt+Qi;if(Rr<=On&&ps>=ga){var bl=Rr-On;this.style.transform="translateY("+-bl+"px)"}else ps<ga?this.style.transform="translateY("+(Qi-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),ha=!1}))},ds=function(Se){if(Se.touches.length==0||Se.touches.length>1){Pr(),rr();return}Se.preventDefault(),Mo=Ai-Se.touches[0].pageY,ln=Mo,Mo+Jt<=0?(scrollMonitor.__frozen=!0,ln=-Jt):Mo+Jt+Oi>=si?(scrollMonitor.__frozen=!0,ln=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,pt=Rt-Se.touches[0].pageY,Rt=Se.touches[0].pageY,ac()},Pr=function(){window.removeEventListener("touchmove",ds),window.removeEventListener("touchend",Pr),window.addEventListener("touchstart",rr),cancelAnimationFrame(ti),fl.style.transform="",ml.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+Mo,Q(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},rr=function(){pt=0,cancelAnimationFrame(mr),window.removeEventListener("touchstart",rr)},Q=function(){je=je*.95;var Se=pt*je;document.documentElement.scrollTop=document.documentElement.scrollTop+Se,Math.abs(Se)>.5?mr=requestAnimationFrame(function(){Q()}):rr()};window.addEventListener("touchmove",ds),window.addEventListener("touchend",Pr)}return}else if(Yi==="v"&&b.closeOnVerticalDrag&&!Mm()){ne.y+=tr.y,L.y+=tr.y;var he=hp();ua=!0,gt("onVerticalDrag",he),ur(he),ai();return}ec(wr(),er.x,er.y),Yi==="h"&&b.showCaption&&!Rn&&d.caption.classList.add("hidden"),Rn=!0,ct=d.currItem.bounds;var ue=Wt("x",tr);ue||(Wt("y",tr),_u(L),ai())}}},Um=function(v){if(ls="",it.isOldAndroid){if($a&&v.type==="mouseup")return;v.type.indexOf("touch")>-1&&(clearTimeout($a),$a=setTimeout(function(){$a=0},600))}clearTimeout(gp),d.template.classList.remove("mouse-down"),gt("pointerUp"),cp(v,!1)&&v.preventDefault();var W;if(nt){var X=c.arraySearch(kr,v.pointerId,"id");if(X>-1)if(W=kr.splice(X,1)[0],navigator.pointerEnabled)W.type=v.pointerType||"mouse";else{var G={4:"mouse",2:"touch",3:"pen"};W.type=G[v.pointerType],W.type||(W.type=v.pointerType||"mouse")}}var ae=Nt(v),Ae,Le=ae.length;if(v.type==="mouseup"&&(Le=0),Le===2)return Wi=null,!0;Le===1&&Hi(Lo,ae[0]),Le===0&&!Yi&&!Pi&&(W||(v.type==="mouseup"?W={x:v.pageX+-B.left+-B.marginLeft,y:v.pageY+-B.top+-B.marginTop,type:"mouse"}:v.changedTouches&&v.changedTouches[0]&&(W={x:v.changedTouches[0].pageX+-B.left+-B.marginLeft,y:v.changedTouches[0].pageY+-B.top+-B.marginTop,type:"touch"})),gt("touchRelease",v,W));var Ve=-1;if(Le===0&&(dr=!1,c.unbind(window,re,d),qu(),nn?Ve=0:Qu!==-1&&(Ve=wr()-Qu)),Qu=Le===1?wr():-1,Ve!==-1&&Ve<150?Ae="zoom":Ae="swipe",nn&&Le<2&&(nn=!1,Le===1&&(Ae="zoomPointerUp"),gt("zoomGestureEnded")),Wi=null,!(!Rn&&!qn&&!Pi&&!ua&&!Hr)){if(qa(),Ka||(Ka=Hm()),Ka.calculateSwipeSpeed("x"),Hr)Sr&&clearTimeout(Sr),Hr=!1,Wn(),us();else if(ua){var Ne=hp();if(Ne<b.verticalDragRange)d.close();else{var st=L.y,je=ts;la("verticalDrag",0,1,300,c.easing.cubic.out,function(Rt){L.y=(d.currItem.initialPosition.y-st)*Rt+st,ur((1-je)*Rt+je),ai()}),gt("onVerticalDrag",1)}return}if((Fn||Pi)&&Le===0){var pt=Pm(Ae,Ka);if(pt)return;Ae="zoomPointerUp"}if(!Pi){if(Ae!=="swipe"){tc();return}!Fn&&j>d.currItem.fitRatio&&fp(Ka)}}},Hm=function(){var v,W,X={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(G){Bo.length>1?(v=wr()-nl+50,W=Bo[Bo.length-2][G]):(v=wr()-op,W=Lo[G]),X.lastFlickOffset[G]=hi[G]-W,X.lastFlickDist[G]=Math.abs(X.lastFlickOffset[G]),X.lastFlickDist[G]>20?X.lastFlickSpeed[G]=X.lastFlickOffset[G]/v:X.lastFlickSpeed[G]=0,Math.abs(X.lastFlickSpeed[G])<.1&&(X.lastFlickSpeed[G]=0),X.slowDownRatio[G]=.95,X.slowDownRatioReverse[G]=1-X.slowDownRatio[G],X.speedDecelerationRatio[G]=1},calculateOverBoundsAnimOffset:function(G,ae){X.backAnimStarted[G]||(L[G]>ct.min[G]?X.backAnimDestination[G]=ct.min[G]:L[G]<ct.max[G]&&(X.backAnimDestination[G]=ct.max[G]),X.backAnimDestination[G]!==void 0&&(X.slowDownRatio[G]=.7,X.slowDownRatioReverse[G]=1-X.slowDownRatio[G],X.speedDecelerationRatioAbs[G]<.05&&(X.lastFlickSpeed[G]=0,X.backAnimStarted[G]=!0,la("bounceZoomPan"+G,L[G],X.backAnimDestination[G],ae||300,c.easing.sine.out,function(Ae){L[G]=Ae,ai()}))))},calculateAnimOffset:function(G){X.backAnimStarted[G]||(X.speedDecelerationRatio[G]=X.speedDecelerationRatio[G]*(X.slowDownRatio[G]+X.slowDownRatioReverse[G]-X.slowDownRatioReverse[G]*X.timeDiff/10),X.speedDecelerationRatioAbs[G]=Math.abs(X.lastFlickSpeed[G]*X.speedDecelerationRatio[G]),X.distanceOffset[G]=X.lastFlickSpeed[G]*X.speedDecelerationRatio[G]*X.timeDiff,L[G]+=X.distanceOffset[G])},panAnimLoop:function(){if(cr.zoomPan&&(cr.zoomPan.raf=He(X.panAnimLoop),X.now=wr(),X.timeDiff=X.now-X.lastNow,X.lastNow=X.now,X.calculateAnimOffset("x"),X.calculateAnimOffset("y"),ai(),X.calculateOverBoundsAnimOffset("x"),X.calculateOverBoundsAnimOffset("y"),X.speedDecelerationRatioAbs.x<.05&&X.speedDecelerationRatioAbs.y<.05)){L.x=L.x,L.y=L.y,ai(),Ja("zoomPan");return}}};return X},fp=function(v){if(v.calculateSwipeSpeed("y"),ct=d.currItem.bounds,v.backAnimDestination={},v.backAnimStarted={},Math.abs(v.lastFlickSpeed.x)<=.05&&Math.abs(v.lastFlickSpeed.y)<=.05)return v.speedDecelerationRatioAbs.x=v.speedDecelerationRatioAbs.y=0,v.calculateOverBoundsAnimOffset("x"),v.calculateOverBoundsAnimOffset("y"),!0;Pu("zoomPan"),v.lastNow=wr(),v.panAnimLoop()},Pm=function(v,W){var X;Pi||(al=k);var G;if(v==="swipe"){var ae=hi.x-Lo.x,Ae=W.lastFlickDist.x<10;ae>Yu&&(Ae||W.lastFlickOffset.x>20)?G=-1:ae<-Yu&&(Ae||W.lastFlickOffset.x<-20)&&(G=1)}var Le;G&&(k+=G,k<0?(k=b.loop?ir()-1:0,Le=!0):k>=ir()&&(k=b.loop?0:ir()-1,Le=!0),(!Le||b.loop)&&(We+=G,ie-=G,X=!0));var Ve=ce.x*ie,Ne=Math.abs(Ve-Vr.x),st;return!X&&Ve>Vr.x!=W.lastFlickSpeed.x>0?st=333:(st=Math.abs(W.lastFlickSpeed.x)>0?Ne/Math.abs(W.lastFlickSpeed.x):333,st=Math.min(st,400),st=Math.max(st,250)),al===k&&(X=!1),Pi=!0,gt("mainScrollAnimStart"),la("mainScroll",Vr.x,Ve,st,c.easing.cubic.out,il,function(){qa(),Pi=!1,al=-1,(X||al!==k)&&d.updateCurrItem(),gt("mainScrollAnimComplete")}),X?d.updateCurrItem(!0):d.updateCaption(),X},yi=function(v){return 1/ju*v*K},tc=function(){var v=j,W=tp(),X=ip();j<W?v=W:j>X&&(v=X);var G=1,ae,Ae=ts;return es&&!ol&&!is&&j<W?(d.close(),!0):(es&&(ae=function(Le){ur((G-Ae)*Le+Ae)}),d.zoomTo(v,0,200,c.easing.cubic.out,ae),!0)};Sn("Gestures",{publicMethods:{initGestures:function(){var v=function(W,X,G,ae,Ae){Ee=W+X,Be=W+G,ke=W+ae,Ae?at=W+Ae:at=""};nt=it.pointerEvent,nt&&it.touch&&(it.touch=!1),nt?navigator.pointerEnabled?v("pointer","down","move","up","cancel"):v("MSPointer","Down","Move","Up","Cancel"):it.touch?(v("touch","start","move","end","cancel"),lt=!0):v("mouse","down","move","up"),re=Be+" "+ke+" "+at,de=Ee,nt&&!lt&&(lt=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=lt,$[Ee]=_m,$[Be]=km,$[ke]=Um,at&&($[at]=$[ke]),it.touch&&(de+=" mousedown",re+=" mousemove mouseup",$.mousedown=$[Ee],$.mousemove=$[Be],$.mouseup=$[ke]),lt||(b.allowPanToNext=!1)}}});var hr,ic=function(v,W,X,G){if(hr&&clearTimeout(hr),da=!0,pl=!0,X){let Ne=v.el?.closest?.("gallery-slideshow");if(Ne){let st=v.el?.assignedSlot?.name?.replace("slot-","")??-1;st!==-1&&Ne.goToSlide(parseInt(st))}}var ae;v.initialLayout?(ae=v.initialLayout,v.initialLayout=null):ae=b.getThumbBoundsFn&&b.getThumbBoundsFn(k);var Ae=X?b.hideAnimationDuration:b.showAnimationDuration,Le=function(){if(Ja("initialZoom"),X)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(ur(1),W&&(W.style.display="block"),v.autoplay){let Ne=v.container.querySelector("media-item");Ne&&(Ne.onload=()=>{Ne.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),gt("initialZoom"+(X?"OutEnd":"InEnd"))}G&&G(),da=!1};if(!Ae||!ae||ae.x===void 0){gt("initialZoom"+(X?"Out":"In")),j=v.initialZoomLevel,Hi(L,v.initialPosition),ai(),n.style.opacity=X?0:1,ur(1),Ae?setTimeout(function(){Le()},Ae):Le();return}var Ve=function(){var Ne=M,st=d.currItem.loadError||b.showHideOpacity,je=Hr,pt=X?25:90;Ne&&(pt=0),v.miniImg&&(v.miniImg.style.webkitBackfaceVisibility="hidden");var Rt=parseFloat(v.w),Ai=parseFloat(v.h);v.useViewportWidth&&(Rt=(q.x-(B.left+B.right))*v.viewportWidthPercentage),v.useViewportHeight&&(Ai=(q.y-(B.top+B.bottom))*v.viewportHeightPercentage);var mr=ae.w/ae.h,ti=Rt/Ai,Jt=mr>ti;if(!X){j=Jt?ae.h/Ai:ae.w/Rt;var si=(ae.w-Rt*j)*.5,Oi=(ae.h-Ai*j)*.5,ha=si*Math.cos(ae.transform.rotation)-Oi*Math.sin(ae.transform.rotation),fl=si*Math.sin(ae.transform.rotation)+Oi*Math.cos(ae.transform.rotation);L.rotation=ae.transform.rotation,L.y=ae.y+-(B.top+B.marginTop)+fl,L.x=ae.x+-(B.left+B.marginLeft)+ha,d[st?"template":"bg"].style.opacity=.001,ai(),L.rotation=0}if(Pu("initialZoom"),X&&!Ne&&c.removeClass(n,"quick-view-animated-in"),X){c.removeClass(n,"quick-view-hide-overflow");var ml=d.getCurrentIndex();gG.default.each(d.itemHolders,function(Pr){Pr.index!==ml&&(Pr.el.style.display="none")}),b.showCaption&&d.caption.classList.add("hidden")}let ac=d.currItem.el?.getAttribute?.("rel")==="quick-view";(st||je||ac)&&(X?c[(Ne?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var ds=function(){if(gt("initialZoom"+(X?"Out":"In")),X){var Pr=Jt?ae.h/Ai:ae.w/Rt,rr=(ae.w-Rt*Pr)*.5,Q=(ae.h-Ai*Pr)*.5,he=rr*Math.cos(ae.transform.rotation)-Q*Math.sin(ae.transform.rotation),ue=rr*Math.sin(ae.transform.rotation)+Q*Math.cos(ae.transform.rotation),Se={x:L.x,y:L.y,rotation:0},Ke=j,bt=ts,qt=document.documentElement.scrollTop,wt=ln,_o=function(Qi){var ji=qt-document.documentElement.scrollTop,On=wt-ln;if(Qi===1?(j=Pr,L.x=ae.x+-(B.left+B.marginLeft)+he,L.y=ae.y+ji+On+-(B.top+B.marginTop)+ue,L.rotation=ae.transform.rotation):(j=(Pr-Ke)*Qi+Ke,L.x=(ae.x+-Se.x+-(B.left+B.marginLeft)+he)*Qi+Se.x,L.y=(ae.y+ji+On+-(B.top+B.marginTop)+ue)*Qi+(1-Qi)*(Se.y+ji+On),L.rotation=(ae.transform.rotation-Se.rotation)*Qi+Se.rotation),ai(),je){var ga=1-Qi;if(Math.hasOwnProperty("cbrt")){var Rr=1-Math.cbrt(ga);ga=1-Rr*Rr*Rr*Rr}n.style.opacity=ga}else st?n.style.opacity=1-Qi:ur(bt-Qi*bt)};Ne?la("initialZoom",0,1,Ae,c.easing.cubic.out,_o,Le):(_o(1),hr=setTimeout(Le,Ae+20))}else{if(j=v.initialZoomLevel,Hi(L,v.initialPosition),ai(),ur(1),pr){pr.opacity="",pr.transitionDuration="";let Qi=v.container.offsetHeight}st?n.style.opacity=1:ur(1),hr=setTimeout(Le,Ae+20)}};pt===0?ds():hr=setTimeout(function(){ds()},pt)};Ve()},eo,Ot={},to=[],pl,da,mp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return eo.length}},on,ir,gr,Ym=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},xr=function(v,W,X){var G=v.bounds;b.alignHorizontal==="left"?G.center.x=0:b.alignHorizontal==="right"?G.center.x=Ot.x-W+v.hGap.left:G.center.x=(Ot.x-W)/2+v.hGap.left,b.alignVertical==="top"?G.center.y=0:b.alignVertical==="bottom"?G.center.y=Ot.y-X+v.vGap.top:G.center.y=(Ot.y-X)/2+v.vGap.top,G.max.x=W>Ot.x?Ot.x-W+v.hGap.left:G.center.x,G.max.y=X>Ot.y?Ot.y-X+v.vGap.top:G.center.y,G.min.x=W>Ot.x?v.hGap.left:G.center.x,G.min.y=X>Ot.y?v.vGap.top:G.center.y},rs=function(v,W,X){var G=!X;if(G&&(v.vGap||(v.vGap={top:0,bottom:0}),v.hGap||(v.hGap={left:0,right:0}),gt("parseVerticalMargin",v)),v.useViewportHeight||v.useViewportWidth?(Ot.x=W.x-v.hGap.left-v.hGap.right,Ot.y=W.y-v.vGap.top-v.vGap.bottom):(Ot.x=W.x-v.hGap.left-v.hGap.right+-(B.left+B.right),Ot.y=W.y-v.vGap.top-v.vGap.bottom+-(B.top+B.bottom)),G){var Ve=v.w,Ne=v.h;v.useViewportWidth&&(Ve=(W.x-(B.left+B.right))*v.viewportWidthPercentage),v.useViewportHeight&&(Ne=(W.y-(B.top+B.bottom))*v.viewportHeightPercentage);var ae=Ot.x/Ve,Ae=Ot.y/Ne;v.useViewportHeight||v.useViewportWidth?v.fitRatio=1:v.fitRatio=ae<Ae?ae:Ae;var Le=b.scaleMode;Le==="orig"?X=1:Le==="fit"&&(X=v.fitRatio),X>1&&(X=1),X==0&&(X=.01),v.initialZoomLevel=X,v.bounds||(v.bounds=Ym())}if(X){var Ve=v.w,Ne=v.h;return v.useViewportWidth&&(Ve=W.x*v.viewportWidthPercentage),v.useViewportHeight&&(Ne=W.y*v.viewportHeightPercentage),(v.useViewportHeight||v.useViewportWidth)&&(X=1),xr(v,Ve*X,Ne*X),G&&X===v.initialZoomLevel&&(v.initialPosition=v.bounds.center),v.bounds}},ns=function(v,W,X,G,ae,Ae){if(W.loadError)return;G&&(W.imageAppended=!0,an(W,G,W===d.currItem&&jt),Ae?(W.placeholder&&W.placeholder.classList.remove("quick-view-item"),setTimeout(function(){W&&W.loaded&&W.placeholder&&(W.placeholder.style.display="none",W.placeholder=null)},500)):(G.classList.add("quick-view-item"),X.appendChild(G)));let Le=W.container.querySelector("media-item");if(Le){yt(Le,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),yt(Le,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),W.hash&&W.hash!=="placeholder"&&Le.hasAttribute("src")?(Le.setAttribute("hash",W.hash),Le.removeAttribute("src")):W.src&&Le.getAttribute("src")!==W.src?(W.posterSrc&&!Le.poster&&Le.setAttribute("poster",W.posterSrc),Le.setAttribute("src",W.src)):W.model&&(Le.model=W.model);let Ve=Le.shadowRoot.querySelector("video");Ve&&(Ve.style.display="table",setTimeout(()=>{Ve.style.display=""},0)),W.autoplay&&(Le.onload=()=>{setTimeout(()=>{Le?.play?.()})})}},En=function(v){v.loading=!0,v.loaded=!1;var W=document.createElement("img"),X=function(){v.loading=!1,v.loaded=!0,v.loadComplete?v.loadComplete(v):v.img=null,W.onload=W.onerror=null,W=null};W.onload=X,W.onerror=function(){v.loadError=!0,X()};var G=v.el?.shadowRoot?.querySelector('img[part*="media"]')?.src??v.posterSrc??null;G&&v.src&&G!==v.src&&(v.src.toLowerCase().endsWith(".jpg")||v.src.toLowerCase().endsWith(".gif")||v.src.toLowerCase().endsWith(".png")||v.src.toLowerCase().endsWith(".webp")||v.src.toLowerCase().endsWith(".jpeg")||v.src.toLowerCase().endsWith(".svg")?G=v.src:G=null),G?(W.setAttribute("decoding","sync"),W.setAttribute("src",G)):setTimeout(()=>{X()})},os=function(v,W){if(v.src&&v.loadError&&v.container)return W&&(v.container.innerHTML=""),v.container.innerHTML=b.errorMsg.replace("%url%",v.src),!0},an=function(v,W,X){W||(W=v.container.lastChild);var G=X?v.w:v.w*v.fitRatio,ae=X?v.h:v.h*v.fitRatio,Ae=v.w*v.fitRatio,Le=v.h*v.fitRatio;v.useViewportWidth&&(G=q.x*v.viewportWidthPercentage,G=Ae=G-(B.left+B.right)),v.useViewportHeight&&(ae=q.y*v.viewportHeightPercentage,ae=Le=ae-(B.top+B.bottom)),v.renderedSize={w:Ae,h:Le},v===d.currItem&&Vt(v),!dr&&B.top>5&&B.right>5&&B.bottom>5&&B.left>5&&(G=Math.round(G),ae=Math.round(ae)),W.style.transform="translate3d(0,0,0)",W.style.width=G+"px",W.style.height=ae+"px",W.style.setProperty("--frame-padding",ae+"px"),W.style.setProperty("padding","0px"),W.style.setProperty("border","none"),W.style.setProperty("outline","none")},Vt=function(v){var W=v.renderedSize.w,X=v.renderedSize.h,G=Math.max(1,v.fitRatio);d.captionWrapper.style.width=W/G+"px",d.captionWrapper.style.right=B.right+"px",d.captionWrapper.style.left=B.left+"px";var ae=0;switch(b.alignVertical){case"center":ae=(q.y+-B.bottom+-B.top+-X/G)*.5+B.bottom;break;case"top":ae=q.y+-B.bottom+-B.top+-X/G+B.bottom;break;case"bottom":ae=B.bottom;break}d.captionWrapper.style.height=ae+"px"},Nn=function(){if(to.length){for(var v,W=0;W<to.length;W++)v=to[W],v.holder.index===v.index&&ns(v.index,v.item,v.baseDiv,v.img,!1,v.clearPlaceholder);to=[]}};Sn("Controller",{publicMethods:{lazyLoadItem:function(v){v=aa(v);var W=on(v);!W||(W.loaded||W.loading)&&!V||(gt("gettingData",v,W),En(W))},initController:function(){c.extend(b,mp,!0),d.items=eo=l,on=d.getItemAt,ir=b.getNumItemsFn,gr=b.loop,ir()<3&&(b.loop=!1),Ii("beforeChange",function(v){var W=b.preload,X=v===null?!0:v>=0,G=Math.min(W[0],ir()),ae=Math.min(W[1],ir()),Ae;for(Ae=1;Ae<=(X?ae:G);Ae++)d.lazyLoadItem(k+Ae);for(Ae=1;Ae<=(X?G:ae);Ae++)d.lazyLoadItem(k-Ae)}),Ii("initialLayout",function(){d.currItem.initialLayout=b.getThumbBoundsFn&&b.getThumbBoundsFn(k)}),Ii("mainScrollAnimComplete",Nn),Ii("initialZoomInEnd",Nn),Ii("destroy",function(){for(var v,W=0;W<eo.length;W++)v=eo[W],v.container&&(v.container=null),v.placeholder&&(v.placeholder=null),v.img&&(v.img=null),v.preloader&&(v.preloader=null),v.loadError&&(v.loaded=v.loadError=!1);to=null})},getItemAt:function(v){return v>=0&&eo[v]!==void 0?eo[v]:!1},allowProgressiveImg:function(){return!0},setContent:function(v,W){b.loop&&(W=aa(W));var X=d.getItemAt(v.index);X&&(X.container=null);var G=d.getItemAt(W),ae;if(!G){v.el.innerHTML="";return}gt("gettingData",W,G),v.index=W,v.item=G;var Ae=G.container=c.createEl("quick-view-zoom-wrap"),je=v.el?.querySelector("media-item"),Le=!1;if(je){let pt=je.getFileType();(pt.startsWith("vimeo")||pt.startsWith("youtube")||pt==="url")&&(Le=!0)}if(Le?v.el.classList.add("iframe-item"):v.el.classList.remove("iframe-item"),os(G),rs(G,q),!G.loadError&&!G.loaded){G.loadComplete=function(pt){if(F){if(v&&v.index===W){if(os(pt,!0)){pt.loadComplete=pt.img=null,rs(pt,q),Wo(pt),v.index===k&&d.updateCurrZoomItem();return}pt.imageAppended||(it.transform&&(Pi||da)?to.push({item:pt,baseDiv:Ae,img:pt.img,index:W,holder:v,clearPlaceholder:!0}):ns(W,pt,Ae,pt.img,Pi||da,!0))}pt.loadComplete=null,pt.img=null,gt("imageLoadComplete",W,pt)}};var Ve="quick-view-item",Ne=c.createEl(Ve,"media-item");if(Ne.setAttribute("disable-scroll-animation",!0),Ne.setAttribute("disable-zoom",!0),Ne.setAttribute("width",G.w),Ne.setAttribute("height",G.h),Ne.setAttribute("uses","inline-part-styles"),Ne.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),Ne.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),G.usePlaceholder)Ne.setAttribute("hash","placeholder");else if(G.fileType=="video"||G.fileType.startsWith("vimeo")||G.fileType.startsWith("youtube"))G.src?G.posterSrc?Ne.setAttribute("src",G.posterSrc):Ne.setAttribute("src",G.src):G.hash&&G.hash!=="placeholder"&&Ne.setAttribute("hash",G.hash),G.autoplay?(G.el?.getCurrentTime?.().then(pt=>{Ne.onload=()=>{setTimeout(()=>{Ne.setCurrentTime?.(pt)},0)}}),Ne.setAttribute("muted",!0),Ne.setAttribute("loop",!0),Ne.setAttribute("autoplay",!0),Ne.setAttribute("browser-default",!1)):(G.el?.pause?.(),G.poster&&Ne.setAttribute("poster",G.poster),Ne.setAttribute("browser-default",!0));else if(G.fileType==="image"){var st=G.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;st&&G.src&&st!==G.src&&(st=G.src),st?Ne.setAttribute("src",st):G.src?Ne.setAttribute("src",G.src):G.hash&&G.hash!=="placeholder"&&Ne.setAttribute("hash",G.hash)}else G.fileType==="url"&&(G.src?Ne.setAttribute("src",G.src):G.hash&&G.hash!=="placeholder"&&Ne.setAttribute("hash",G.hash));an(G,Ne),Ae.appendChild(Ne),yt(Ne,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),yt(Ne,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),G.placeholder=Ne,G.loading||En(G),d.allowProgressiveImg()&&(!pl&&it.transform?to.push({item:G,baseDiv:Ae,img:G.img,index:W,holder:v}):ns(W,G,Ae,G.img,!0,!0))}else G.loadError?G.fileType=="url"&&an(G,null):(ae=c.createEl("quick-view-item","media-item"),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",G.w),ae.setAttribute("height",G.h),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",G.w),ae.setAttribute("height",G.h),ae.setAttribute("uses","inline-part-styles"),ae.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),ae.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px;"),G.usePlaceholder?ae.setAttribute("hash","placeholder"):G.hash?ae.setAttribute("hash",G.hash):G.src&&ae.setAttribute("src",G.src),(G.fileType=="video"||G.fileType.startsWith("vimeo")||G.fileType.startsWith("youtube"))&&(G.autoplay?(ae.setAttribute("muted",!0),ae.setAttribute("loop",!0),ae.setAttribute("browser-default",!1)):ae.setAttribute("browser-default",!0)),an(G,ae),ns(W,G,Ae,ae,!0));!pl&&W===k?(pr=Ae.style,ic(G,ae||G.img)):Wo(G),v.el.innerHTML="",v.el.appendChild(Ae);var je=v.el.querySelector("media-item");je&&(yt(je,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),yt(je,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}))},cleanSlide:function(v){v.img&&(v.img.onload=v.img.onerror=null),v.loaded=v.loading=v.img=v.imageAppended=!1}}});var sn,rc={},as=function(v,W,X){var G=document.createEvent("CustomEvent"),ae={origEvent:v,target:v.target,releasePoint:W,pointerType:X||"touch"};G.initCustomEvent("pswpTap",!0,!0,ae),v.target.dispatchEvent(G)};Sn("Tap",{publicMethods:{initTap:function(){Ii("firstTouchStart",d.onTapStart),Ii("touchRelease",d.onTapRelease),Ii("destroy",function(){rc={},sn=null})},onTapStart:function(v){v.length>1&&(clearTimeout(sn),sn=null)},onTapRelease:function(v,W){if(W&&!Rn&&!ll&&!Oo){var X=W;if(sn&&(clearTimeout(sn),sn=null,lp(X,rc))){gt("doubleTap",X);return}if(W.type==="mouse"){as(v,W,"mouse");return}var G=v.target.tagName.toUpperCase();if(G==="BUTTON"||c.hasClass(v.target,"quick-view-single-tap")){as(v,W);return}Hi(rc,X),sn=setTimeout(function(){as(v,W),sn=null},300)}}}});var hl,ss=0,nc=0,zi=0,pa=!1,Ur=0,Hr=!1,Mo=0,ln=0,ls="",Zo=null,gl=!1,oc=function(){_r=!0,bp()},Wn=function(){hl&&(Ye(hl),hl=null,Ur=0,zi=0,_r=!1)},us=function(){if(!(_r||cs)){var v=L.y,W=L.x,X=ts,G=j;la("resetVertical",0,1,300,c.easing.cubic.out,function(ae){j=d.currItem.initialZoomLevel*ae+(1-ae)*G,L.y=(d.currItem.initialPosition.y-v)*ae+v;var Ae=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-j*parseFloat(d.currItem.w))*.5;L.x=d.currItem.initialPosition.x+Ae,ur((1-X)*ae+X),ai()})}},bp=function(){pa||(pa=!0,_r&&(hl=He(bp),fr(),pa=!1))},cs=!1,fr=function(){!Hr&&gl&&(document.documentElement.scrollTop=document.documentElement.scrollTop+zi);var v=Math.min(q.y,q.x),W=Math.abs(zi)/v,X=Math.max(0,Math.min(1.3-Math.abs(Ur/(v/3)),1));if(X<.85||cs||W>.2){Wn(),Sr&&clearTimeout(Sr),cs||(cs=!0,Hr?(M=!0,d.close()):setTimeout(function(){M=!0,d.close()},25));return}ur(X);var G=Math.abs(Ur)/(q.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var ae=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;ae&&(G=0)}j=(1-G*G)*d.currItem.initialZoomLevel;var Ae=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-j*parseFloat(d.currItem.w))*.5,Le=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-j*parseFloat(d.currItem.h))*.5;L.y=d.currItem.initialPosition.y+Le+-Ur,L.x=d.currItem.initialPosition.x+Ae,ai(),Ur=Ur+zi,zi=0},Sr,gi;Sn("DesktopZoom",{publicMethods:{initDesktopZoom:function(){At||(lt?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(v){gi={};var W="wheel mousewheel DOMMouseScroll";Ii("bindEvents",function(){c.bind(n,W,d.handleMouseWheel)}),Ii("unbindEvents",function(){gi&&c.unbind(n,W,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var X,G=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),j<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),ae()},ae=function(){X&&(c.removeClass(n,"quick-view-dragging"),X=!1)};Ii("resize",G),Ii("afterChange",G),Ii("pointerDown",function(){d.mouseZoomedIn&&(X=!0,c.addClass(n,"quick-view-dragging"))}),Ii("pointerUp",ae),v||G()},handleMouseWheel:function(v){if(gl=!0,j<=d.currItem.fitRatio&&b.modal&&(!b.closeOnScroll||Oo||dr?v.preventDefault():Pe&&Math.abs(v.deltaY)>2&&(M=!0,d.close())),gi.x=0,"deltaX"in v)v.deltaMode===1?(gi.x=v.deltaX*18,gi.y=v.deltaY*18):(gi.x=v.deltaX,gi.y=v.deltaY);else if("wheelDelta"in v)v.wheelDeltaX&&(gi.x=-.16*v.wheelDeltaX),v.wheelDeltaY?gi.y=-.16*v.wheelDeltaY:gi.y=-.16*v.wheelDelta;else if("detail"in v)gi.y=v.detail;else return;if(j<=d.currItem.fitRatio&&!Hr){zi=zi+gi.y,b.modal&&(!b.animatedCloseOnScroll||Oo||dr?(v.preventDefault(),zi=0):Pe&&Math.abs(gi.y)>0&&!_r&&(Wn(),oc()),Sr&&clearTimeout(Sr),Sr=setTimeout(function(){Wn(),us()},200));return}else zi=0,v.stopPropagation();rl(j,!0);var W=L.x-gi.x,X=L.y-gi.y;(b.modal||W<=ct.min.x&&W>=ct.max.x&&X<=ct.min.y&&X>=ct.max.y)&&v.preventDefault(),d.panTo(W,X)},toggleDesktopZoom:function(v){v=v||{x:q.x/2+le.x,y:q.y/2+le.y};var W=b.getDoubleTapZoom(!0,d.currItem),X=j===W;d.mouseZoomedIn=!X,d.zoomTo(X?d.currItem.initialZoomLevel:W,v,333),c[(X?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&b.showCaption&&(X?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,Tm)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var i=function(r,n,o,l,u,c,d){var g=Math.acos,m=Math.atan,b=Math.sqrt,I=Math.PI,x={x:u,y:c},A=0,F={x:1,y:1},E={x:0,y:0},M=r*l-n*o;if(d)r?(E={x:m(o/r),y:m(n/r)},F={x:r,y:M/r}):n?(A=I*.5,F={x:n,y:M/n},E.x=m(l/n)):(F={x:o,y:l},E.x=I*.25);else if(r||n){var k=b(r*r+n*n);A=n>0?g(r/k):-g(r/k),F={x:k,y:M/k},E.x=m((r*o+n*l)/(k*k))}else if(o||l){var T=b(o*o+l*l);A=I*.5-(l>0?g(-o/T):-g(o/T)),F={x:M/T,y:T},E.y=m((r*o+n*l)/(T*T))}else F={x:0,y:0};return{scale:F,translate:x,rotation:A,skew:E}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,o){if(!(r===void 0||this.activeGallery!==void 0)){var l=document.querySelectorAll(".quick-view")[0],u=this,c=o.alignVertical||"center",d=o.alignHorizontal||"center",g=o.useControls,m=o.animatedCloseOnScroll,b=o.showCaption,I={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(k){if(o&&o.preventAnimation||u.activeGallery==null)return!1;var T=u.activeGallery.getItemAt(k),_;if(!T||!T.el)return!1;T.el.tagName==="A"?_=T.el.querySelector("media-item, video, iframe, img")||T.el:_=T.el;let ne=_.closest("marquee-set");if(ne){let we=ne.querySelector('marquee-inner[slot="contents"]'),lt=ne.querySelector('marquee-inner[slot="contents-clone"]');if(u.isActive&&lt)return!1}if(_&&_.tagName==="MEDIA-ITEM"&&(_=_.shadowRoot.querySelector('[part*="media"]')),!_)return!1;let Z=_.getRootNode();for(;Z&&Z!==document;)Z instanceof ShadowRoot?Z=Z.host.getRootNode():Z=void 0;if(!Z)return!1;let L=getComputedStyle(_),re=parseFloat(L.getPropertyValue("padding-top"))||0,de=parseFloat(L.getPropertyValue("padding-bottom"))||0,$=parseFloat(L.getPropertyValue("padding-left"))||0,q=parseFloat(L.getPropertyValue("padding-right"))||0,B=parseFloat(L.getPropertyValue("border-top"))||0,j=parseFloat(L.getPropertyValue("border-bottom"))||0,K=parseFloat(L.getPropertyValue("border-left"))||0,te=parseFloat(L.getPropertyValue("border-right"))||0,se={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},z=_,V=_,ie=0,le=0,ce=0,ge=0;for(;z;)L=getComputedStyle(z),re=parseFloat(L.getPropertyValue("padding-top"))||0,de=parseFloat(L.getPropertyValue("padding-bottom"))||0,$=parseFloat(L.getPropertyValue("padding-left"))||0,q=parseFloat(L.getPropertyValue("padding-right"))||0,B=parseFloat(L.getPropertyValue("border-top"))||0,j=parseFloat(L.getPropertyValue("border-bottom"))||0,K=parseFloat(L.getPropertyValue("border-left"))||0,te=parseFloat(L.getPropertyValue("border-right"))||0,z==_?(ce=z.offsetWidth-($+K+q+te),ge=z.offsetHeight-(re+B+de+j),ie=ie+z.offsetLeft+K+$,le=le+z.offsetTop+B+re):(ie=ie+z.offsetLeft+K,le=le+z.offsetTop+B),z=z.offsetParent;let fe=[];for(;V;){let we=[],lt=getComputedStyle(V),ot=lt.getPropertyValue("transform"),He=lt.getPropertyValue("position")==="fixed",Ye;var We=ot.indexOf("matrix(")>-1,Ee=ot.indexOf("matrix3d(")>-1,Be=We||Ee;if(We){we=ot.replace(")","").replace("matrix(","").split(",");for(var ke=0;ke<we.length;ke++)we[ke]=parseFloat(we[ke]);Ye=i(we[0],we[1],we[2],we[3],we[4],we[5],!1)}else if(Ee){we=ot.replace(")","").replace("matrix3d(","").split(",");for(var ke=0;ke<we.length;ke++)we[ke]=parseFloat(we[ke]);Ye=i(we[0],we[1],we[4],we[5],we[12],we[13],!1)}else Ye={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(Be){let Pt=ie+ce*.5,kt=le+ge*.5,At=ie-Pt,Tt=le-kt,it=At*Math.cos(Ye.rotation)-Tt*Math.sin(Ye.rotation),Ui=At*Math.sin(Ye.rotation)+Tt*Math.cos(Ye.rotation);ie=it+Pt,le=Ui+kt,ie+=Ye.translate.x,le+=Ye.translate.y,se.rotation=Ye.rotation+se.rotation,se.scale.x=Ye.scale.x+se.scale.x,se.scale.y=Ye.scale.y+se.scale.y,se.translate.y=Ye.translate.y+se.translate.y,se.translate.x=Ye.translate.x+se.translate.x}V?.assignedSlot?V=V.assignedSlot:V=V.parentNode,V?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(V=V.host),V?.nodeType!==Node.ELEMENT_NODE&&(V=null),V&&(He?fe.push("fixed"):fe.push(V.scrollTop))}let at=fe.findIndex(we=>we==="fixed");at!==-1&&(fe=fe.slice(0,at));let Pe=fe.reduce((we,lt=0)=>we+lt);le=le-Pe;var nt={x:ie,y:le,w:ce,h:ge,padding:{top:re,bottom:de,left:$,right:q},border:{top:B,bottom:j,left:K,right:te},transform:se};return T.thumbRect=nt,nt},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:g,animatedCloseOnScroll:m,showCaption:b},x=!1,A=!1,F=function(){A=!0},E=function(){A=!1};if(window.addEventListener("touchend",E),window.addEventListener("touchstart",F),o!==void 0&&typeof o=="object"){for(var M in o)o.hasOwnProperty(M)&&(I[M]=o[M]);o.disableZoom===!0&&(x=!0,I.zoomEl=!1,I.getDoubleTapZoom=function(k,T){return T.initialZoomLevel},I.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(l,this.PhotoSwipeUI_Default,r,I),o.afterInit&&this.activeGallery.listen("afterInit",o.afterInit),x?l.classList.add("quick-view-zoom-disabled"):l.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){l.parentNode!==null?(l.parentNode.removeChild(l),window.removeEventListener("touchend",E),window.removeEventListener("touchstart",F)):(window.removeEventListener("touchend",E),window.removeEventListener("touchstart",F)),u.isActive=!1,u.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,o){var l=this,u=!1,c=!0,d,g,m,b,I,x,A,F={closeElClasses:["holder","caption","zoom-wrap","ui","top-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},E,M,k=function(z){if(E)return!0;z=z||window.event,A.timeToIdle&&A.mouseUsed&&!b&&$();for(var V=z.target||z.srcElement;V.nodeName==="svg"||V.nodeName==="path"||V.nodeName==="circle"||V.nodeName==="polyline"||V.nodeName==="g"||V.nodeName==="foreignObject"||V.nodeName==="line";)V=V.parentNode;for(var ie,le=V.getAttribute("class")||"",ce,ge=0;ge<te.length;ge++)ie=te[ge],ie.onTap&&le.indexOf("quick-view-"+ie.name)>-1&&(ie.onTap(),ce=!0);if(ce){z.stopPropagation&&z.stopPropagation(),E=!0;var fe=o.features.isOldAndroid?600:30;M=setTimeout(function(){E=!1},fe)}},T=function(){return!n.likelyTouchDevice||A.mouseUsed||screen.width>A.fitControlsWidth},_=function(z,V,ie){o[(ie?"add":"remove")+"Class"](z,"quick-view-"+V)},ne=function(z){for(var V=0;V<A.closeElClasses.length;V++)if(o.hasClass(z,"quick-view-"+A.closeElClasses[V]))return!0},Z,L,re=0,de=!1,$=function(z){if(z){var V=U.closest(z.target,function(ie){if(ie&&ie.nodeType===Node.ELEMENT_NODE)return ie.classList.contains("left-arrow")||ie.classList.contains("right-arrow")||ie.classList.contains("close-button")});de=!!V}clearTimeout(L),re=0,b&&l.setIdle(!1)},q=function(z){z=z||window.event;var V=z.relatedTarget||z.toElement;(!V||V.nodeName==="HTML")&&(clearTimeout(L),L=setTimeout(function(){l.setIdle(!0)},A.timeToIdleOutside))},B=function(){A.fullscreenEl&&!o.features.isOldAndroid&&(d||(d=l.getFullscreenAPI()),d?(o.bind(document,d.eventK,l.updateFullscreen),l.updateFullscreen(),o.addClass(n.template,"quick-view-supports-fs")):o.removeClass(n.template,"quick-view-supports-fs"))},j=function(){A.timeToIdle&&I("mouseUsed",function(){o.bind(document,"mousemove",$),o.bind(document,"mouseout",q),Z=setInterval(function(){re++,re===2&&l.setIdle(!0)},A.timeToIdle/2)})},K=function(){I("onVerticalDrag",function(V){c&&V<.95?l.hideControls():!c&&V>=.95&&l.showControls()});var z;I("onPinchClose",function(V){c&&V<.9?(l.hideControls(),z=!0):z&&!c&&V>.9&&l.showControls()}),I("zoomGestureEnded",function(){z=!1,z&&!c&&l.showControls()})},te=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],se=function(){var z,V,ie,le=function(fe){if(fe){for(var We=fe.length,Ee=[],Be=0;Be<We;Be++){z=fe[Be],V=z.className;for(var ke=0;ke<te.length;ke++)ie=te[ke],V.indexOf("quick-view-"+ie.name)>-1&&(A[ie.option]?(o.removeClass(z,"quick-view-element--disabled"),Ee.push(z),ie.onInit&&ie.onInit(z)):o.addClass(z,"quick-view-element--disabled"))}Ee.length>0}};le(g.children);for(var ce=g.querySelectorAll(".quick-view-group"),ge=0;ge<ce.length;ge++)le(ce[ge].children)};l.init=function(){o.extend(n.options,F,!0),A=n.options,g=o.getChildByClass(n.scrollWrap,"quick-view-ui"),I=n.listen,I("beforeChange",l.update),I("doubleTap",function(z){var V=n.currItem.initialZoomLevel;n.getZoomLevel()!==V?n.zoomTo(V,z,333):n.zoomTo(A.getDoubleTapZoom(!1,n.currItem),z,333)}),I("preventDragEvent",function(z,V,ie){var le=z.target||z.srcElement;le&&le.getAttribute("class")&&z.type.indexOf("mouse")>-1&&(le.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(le.tagName))&&(ie.prevent=!1)}),I("destroy",function(){A.captionEl&&(_fakeCaptionContainer&&g.removeChild(_fakeCaptionContainer),o.removeClass(_captionContainer,"quick-view-caption--empty"))}),l.bindEvents(),B()},l.unbindEvents=function(){Z&&clearInterval(Z),o.unbind(document,"mouseout",q),o.unbind(document,"mousemove",$),o.unbind(n.scrollWrap,"pswpTap",l.onGlobalTap),window.removeEventListener("mousedown",l.onGlobalClick),d&&(o.unbind(document,d.eventK,l.updateFullscreen),d.isFullscreen()&&(A.hideAnimationDuration=0,d.exit()),d=null)},l.setupIdle=function(){j()},l.bindEvents=function(){A.useControls,window.addEventListener("mousedown",l.onGlobalClick),o.bind(n.scrollWrap,"pswpTap",l.onGlobalTap),n.likelyTouchDevice},l.setIdle=function(z){window.store?.getState()?.frontendState?.adminMode||de||(b=z)},l.update=function(){c&&n.currItem?u=!0:u=!1},l.updateFullscreen=function(z){z&&setTimeout(function(){n.setScrollOffset(0,o.getScrollY())},50),o[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},l.onGlobalClick=function(z){let V=z.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');V&&(V.getAttribute("rel")=="quick-view"||V.nodeName==="MEDIA-ITEM")?n.elementArray.findIndex(le=>le.el==V)===-1&&n.close():V||n.close()},l.onGlobalTap=function(z){z=z||window.event;var V=z.target||z.srcElement;if(!E){if(z.detail&&z.detail.pointerType==="mouse"){if(ne(V)){n.close();return}if(o.hasClass(V,"quick-view-item")){if(A.disableZoom){let ie=V.getFileType?.();if(ie&&!n.currItem.autoplay&&(ie.startsWith("vimeo")||ie.startsWith("youtube")||ie==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(A.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom(z.detail.releasePoint)}}else if(A.tapToToggleControls&&(c?l.hideControls():l.showControls()),A.tapToClose&&(o.hasClass(V,"quick-view-item")||ne(V))){(!V.getFileType||V.getFileType?.()==="image")&&n.close();return}}},l.onMouseOver=function(z){z=z||window.event;var V=z.target||z.srcElement;_(g,"ui--over-close",ne(V))},l.hideControls=function(){},l.showControls=function(){},l.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},l.supportsFullscreen=function(){var z=document;return!!(z.exitFullscreen||z.mozCancelFullScreen||z.webkitExitFullscreen||z.msExitFullscreen)},l.getFullscreenAPI=function(){var z=document.documentElement,V,ie="fullscreenchange";return z.requestFullscreen?V={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:ie}:z.mozRequestFullScreen?V={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+ie}:z.webkitRequestFullscreen?V={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+ie}:z.msRequestFullscreen&&(V={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),V&&(V.enter=function(){if(m=A.closeOnScroll,A.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},V.exit=function(){return A.closeOnScroll=m,document[this.exitK]()},V.isFullscreen=function(){return document[this.elementK]}),V}};return r})}).call(fG)});var bG=P((x8e,qae)=>{qae.exports={}});var fI={};Kt(fI,{default:()=>tse,openQuickViewFromElement:()=>gI});function Kae(t,e){return{imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}}function $ae(t){return xt({updateFrontendState:actions.updateFrontendState},t)}var um,hI,CG,ese,gI,tse,cm=R(()=>{xe();Fe();ut();ri();Ri();tn();Ze();za();qo();mG();um=pe(ve(),1);Y();hI=class extends oe{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=be(),this.navigationRef=be(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,bG(),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),U.isMobile&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!U.isMobile&&!this.state.pointerDown&&this.setState({showInterface:!0}),U.isMobile)return;let i=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===i||i&&i.contains(e.target))?this.hideInterface.cancel():!U.isMobile&&this.hideInterface()};isInAdmin=()=>U.isAdminEdit&&this.props.adminMode===!0;hideInterface=um.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=um.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){U.isMobile||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){U.isMobile||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,i){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!U.isMobile&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!um.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{Et.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?f(ee,{children:[f("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?f("div",{className:"quick-view nav",ref:this.navigationRef,children:[this.state.navigationElement?f("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?ze(f(ee,{children:[f("style",{children:`
								[part*="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${U.isMobile&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),f("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?f(ee,{children:[f("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:f("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),f("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:f("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,f("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:f("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[f("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),f("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let i=this.props.quickView.elementArray[e],r=!1,n=i?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:o=>{let l=lightbox.activeGallery.template,u=window.getComputedStyle(l),c=parseInt(u.getPropertyValue("width")),d=parseInt(u.getPropertyValue("height"));Math.abs(document.documentElement.clientWidth-c)<2&&Math.abs(document.documentElement.clientHeight-d)<2&&(r=!0),r||this.props.quickView.elementArray[o]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!1}})),this.props.updateFrontendState({quickView:{activeIndex:o}})}}),lightbox?.activeGallery?.listen("afterChange",o=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:o}}),this.props.quickView.elementArray[o]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:r}}))})};previewInAdmin=()=>{let i=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),o=document.createElement("span");return o.classList.add("caption-background"),o.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:o,hash:null,src:n.href,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(i,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};CG=De(Kae,$ae)(hI),ese=(t="")=>{let e="none";if(t){let l=t.toLowerCase();if(l.endsWith(".mov")||l.endsWith(".mp4")||l.endsWith(".webm"))e="video";else if(l.endsWith(".png")||l.endsWith(".webp")||l.endsWith(".jpg")||l.endsWith(".jpeg")||l.endsWith(".gif")||l.endsWith(".avif")||l.endsWith(".apng")||l.endsWith(".svg"))e="image";else{e="url";var i,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(r);if(o&&o[3]){i=o[3];let u=t.split("/");u[u.length-1]!=i&&(i+="/"+u[u.length-1]),e="vimeo:"+i}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(n);o&&o[7].length==11&&(i=o[7],e="youtube:"+i)}}return e},gI=t=>{let e=Et.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let d=e.frontendState.quickView.elementArray.findIndex(g=>g.el==t);if(d!==-1){window.lightbox.activeGallery.goTo(d);return}}let i=t.closest(".page"),r=t.getAttribute("hash"),n=[],o=U.closest(t,d=>d?.tagName?.startsWith("GALLERY-")),l=!1,u=t.closest("marquee-set");if(o){if(o.getAttribute("thumbnail-index")==="img:all")l=!0;else if(o&&o.getAttribute("disable-zoom")==="true")return;n=Array.from(o.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{i?n=Array.from(i.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let d=u&&t.closest('[slot="contents-clone"]');n=n.filter(g=>!U.closest(g,m=>!!(m?.tagName?.startsWith("GALLERY-")||m.tagName==="MARQUEE-INNER"&&(m.slot==="contents-clone"&&!d||m.slot==="contents"&&d))))}n=n.filter(d=>{if(d.tagName!=="A")return!0;let g=d.getAttribute("href")||"";return!(g===""||g=="#"||g.indexOf("mailto:")==0||g.indexOf("tel:")==0)});let c=n.indexOf(t);Promise.all(n.map((d,g)=>new Promise(m=>{var b=!1,I=d?.querySelector("figcaption"),x=I?.innerHTML;I&&x!==""&&(b=document.createElement("span"),b.classList.add("caption-background"),b.innerHTML=x);let A=!1,F=!1,E=1,M=1,k=1600,T=1600,_=null,ne=null,Z=!1,L="url",re=null,de=null;if(d.tagName==="MEDIA-ITEM"&&d.getAttribute("rel")!=="quick-view"){_=d.getAttribute("hash")||"",ne=d.getAttribute("src"),de=d.getAttribute("poster");var $=d?.shadowRoot?.querySelector("video")?.getAttribute("poster");$||($=d?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src")),$=$,L=d.getFileType(),Z=_==="placeholder"&&!ne;let j=screen.width,K=screen.height,te=Math.max(Math.ceil(screen.width/d._size.width),Math.ceil(screen.height/d._size.height));if(Z)m({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,fileType:L,w:d._size.width*te,h:d._size.height*te,caption:b,hash:"placeholder",src:null,posterSrc:$,autoplay:!1,usePlaceholder:!0,el:d,model:d.model});else{var q=null,B=()=>{switch(!0){case L==="url":_=null,A=!0,F=!0;break;case L.startsWith("youtube"):case L.startsWith("vimeo"):case L=="video":k=d._size.width*te,T=d._size.height*te;break;default:k=d._size.width*te,T=d._size.height*te;break}L.startsWith("youtube")||L.startsWith("vimeo")||L=="video"?d.getAttribute("autoplay")?m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:E,viewportHeightPercentage:M,fileType:L,w:k,h:T,caption:b,hash:_,src:ne,posterSrc:$,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:E,viewportHeightPercentage:M,fileType:L,poster:d.getAttribute("poster"),w:k,h:T,caption:b,hash:_,src:ne,posterSrc:$,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:E,viewportHeightPercentage:M,fileType:L,w:k,h:T,caption:b,hash:_,posterSrc:null,src:ne,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model})};B()}}else if(L=ese(d.getAttribute("href")),L.startsWith("vimeo")||L.startsWith("youtube")){let j="";L.startsWith("vimeo")?j="https://vimeo.com/api/oembed.json?url="+d.getAttribute("href")+"&width=640":j="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+d.getAttribute("href"),fetch(j,{mode:"cors"}).then(K=>{K.json().then(te=>{m({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:d.getAttribute("autoplay")=="true",fileType:L,w:te.width*20,h:te.height*20,caption:b,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})})})}else if(L==="url"){let j=U.isIOS()&&d.href.indexOf(".pdf")>-1&&d.href.indexOf("/gview")==-1?`https://docs.google.com/gview?url=${d.href}&embedded=true&chrome=false`:d.href;m({useViewportWidth:!0,useViewportHeight:!0,viewportWidthPercentage:E,viewportHeightPercentage:M,fileType:L,w:1600,h:1e3,caption:b,hash:null,src:j,usePlaceholder:!1,el:d,model:d.model})}else{re=document.createElement("media-item");let j,K=d.href.toLowerCase();re.onerror=function(){re?.remove(),m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:E,viewportHeightPercentage:M,autoplay:d.getAttribute("autoplay")=="true",fileType:L,w:1600,h:1e3,caption:b,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},re.onload=te=>{clearTimeout(j),te.onload=null;let se=te.getFileType();if(d.hasAttribute("width")&&d.hasAttribute("height"))d.getAttribute("width").indexOf("%")>-1&&d.getAttribute("height").indexOf("%")>-1?(A=!0,F=!0,E=parseFloat(d.getAttribute("width"))/100,M=parseFloat(d.getAttribute("height"))/100):(k=parseFloat(d.getAttribute("width")),T=parseFloat(d.getAttribute("height")));else switch(!0){case se==="url":A=!0,F=!0,Z=!1;break;default:k=te._size.width,T=te._size.height;break}te.remove(),m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:E,viewportHeightPercentage:M,autoplay:d.getAttribute("autoplay")=="true",fileType:se,w:k*1e3,h:T*1e3,caption:b,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},re.setAttribute("style","position: fixed; top: -900px; left: -900px; width: 100px; height: 100px; overflow:hidden;"),re.setAttribute("force-visible",!0),document.body.appendChild(re),re.setAttribute("src",d.href)}}))).then(d=>{Et.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:d,activeIndex:c===-1?0:c}}))})};CG.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};tse=Tn(CG)});var qs,mI,bI,vG=R(()=>{xe();Ze();qo();Cu();ri();ut();Zt();Ri();qs=pe(ve(),1);$f();cI();U.isServer||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,i=Object.keys(e);i.sort((n,o)=>e[n]-e[o]);let r={};i.forEach(n=>{let o=t.pages.byId[n]||t.sets.byId[n];r[n]={title:o.title,sort:e[n],index:t.structure.indexById[n],page_count:o.page_count}}),console.table(r)});mI=class extends oe{constructor(e){super(e),this.state={},this.isMac=!1,U.isServer||(Promise.resolve().then(()=>(cm(),fI)).then(({openQuickViewFromElement:i})=>{this.setState({openQuickViewFromElement:i})}),this.isMac=U.isMac())}handleGlobalClick=e=>{let i=e.target,r=i;if(i.shadowRoot?i=e.composedPath().find(o=>o.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),ki.handleGlobalClick(i,r),!e.defaultPrevented&&i&&(i.nodeName==="A"||i.nodeName==="a")&&i.getAttribute("href")&&i.getAttribute("href")!==""){let o=i.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=i.getAttribute("href")||"",u=i.getAttribute("target"),c;switch(o){case"history":e.preventDefault();let d=this.props.store.getState(),g=tt.getContentByPurl(store.getState(),l.replace(/\//,""));if(g?.overlay){ki.toggleOverlay(g.id);return}c=i.getAttribute("data-tags");let m=!1;if(c?.length>0)l=c;else{let x=tt.getHomepagePurl(d);l.toLowerCase()===x&&!d.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(m=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&window.scrollTo(0,0),this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:m});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let b=r.closest("[page-url]")?.id;ki.getOverlay(b)?ki.closeOverlay(b):this.props.history.push("/");break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((i.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(i.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:x=>{this.props.updateFrontendState({alertModal:{header:x,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),sm().then(x=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(x=>{console.warn(x)});break;case"filter-index":case"filter_index":e.preventDefault(),c=i.getAttribute("data-tags");let I=i.getAttribute("data-set");var n=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:c?"tag:"+c:I?"set:"+I:"all"}});i.dispatchEvent(n);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):u!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let i=document.querySelector(".content .pages .page");i?e=i.id:e=""}window.location.href="/edit/"+e};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.zIndex="2147483647",i.style.position="fixed",i.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',i.style.backgroundSize="60%",i.style.transform="rotate(-15deg)",setTimeout(function(){i.style.transition="opacity 500ms",setTimeout(function(){i.parentNode.removeChild(i)},700),setTimeout(function(){i.style.opacity="0"})},1e3),document.body.appendChild(i)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA")return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;if(!this.props.inAdminFrame){let r=ki.getAllOverlays();r.length>0?ki.closeOverlay(r[r.length-1].pid):this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}}};componentDidMount(){U.isServer||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){U.isServer||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),i=[];if(qs.default.each(e.sets.byId,o=>{if(o.stack&&o.id!=="root")o.page_count>0&&e.frontendState.activePID!==o.id&&i.push([o.id]);else{let l=Array.apply(null,{length:o.page_count}).map(Number.call,c=>[o.id,c]),u=tt.getSetContentsByIndex(e,o.id);i=i.concat(l.filter(([c,d])=>{let g=u[d];return!(g&&(g.id===e.frontendState.activePID||g.id===e.site.homepage_id||g.id===e.site.mobile_homepage_id||g.page_type==="set"||g.pin===!0))}))}}),i.length===0)return;let r=i[Math.floor(Math.random()*i.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(o=>{o.data&&o.data[0]?this.props.history.push("/"+o.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};loadNextPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"next"):this.props.fetchContent(i.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[qs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=qs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"prev"):this.props.fetchContent(i.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[qs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=qs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,i)=>{let r=this.props.store.getState();if(i!=="next"&&i!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);i==="prev"&&n.reverse();let o=n.indexOf(e.id);if(o===-1)throw"Unable to locate current id in sort list";let l;for(let c=1;c<n.length+1;c++){let d=n[(o+c)%n.length],g=r.structure.byParent.hasOwnProperty(d);if(g&&r.sets.byId[d]?.stack===!0){l=d;break}else if(!g&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){l=d;break}}let u=r.pages.byId[l]||r.sets.byId[l];u?this.props.history.push("/"+u.purl):this.props.fetchContent(l,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},bI=ho(Tn(De((t,e)=>{let i;return t.auth.data?.id&&(i=qs.default.find(t.site?.editors,r=>r.id===parseInt(t.auth.data.id))?.role),{editorRole:i,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>xt({updateFrontendState:Me.updateFrontendState,fetchContent:Me.fetchContent,addCommerceProductToCart:Me.addCommerceProductToCart},t))(mI)))});function rse(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function nse(t){return xt({updateFrontendState:Me.updateFrontendState},t)}var nFe,ise,ose,IG,yG=R(()=>{xe();ut();ri();Zt();nFe=pe(ve(),1);qg();Y();ise=({alertModal:t,adminMode:e,...i})=>f(Jg,{children:f(yd.Consumer,{children:r=>{t&&!e&&r.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{i.onConfirm&&i.onConfirm(),i.updateFrontendState({alertModal:!1})},onClose:n=>{i.onClose&&i.onclose(),i.updateFrontendState({alertModal:!1})},onCancel:n=>{i.onCancel&&i.onCancel(),i.updateFrontendState({alertModal:!1})}})}})});ose=De(rse,nse)(ise),IG=ose});var dm,CI=R(()=>{dm=(t,e=window)=>new Promise((i,r)=>{var n=e.document.getElementsByTagName("head")[0],o=e.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t,o.media="all",o.onload=i,o.onError=r,n.appendChild(o)})});var AG,wG,xG=R(()=>{CI();AG="https://api.cargo.site/v1/fonts/css?family=",wG=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();let n=e.join("%7C").replace(/[\. -]+/g,"");if(t.context==="server"){fetch(AG+n).then(async l=>{let u=await l.text();i(u)}).catch(r);return}let o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),dm(AG+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var ase,sse,SG,RG=R(()=>{CI();ase="https://fonts.googleapis.com/css?family=",sse=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],SG=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();if(t.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(l=>l.indexOf(":")===-1?l+":"+sse.join(","):l).join("%7C").replace(/ /g,"+"),o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),dm(ase+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var vI,FG=R(()=>{xG();RG();vI=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(SG(t,t.families?.reduce?.((i,r)=>(r.provider==="google"&&i.push(r.family),i),[]))),e.push(wG(t,t.families?.reduce?.((i,r)=>(r.provider==="cargo"&&i.push(r.family),i),[]))),Promise.all(e).catch(i=>{console.log("something went wrong while loading the site's fonts...",i)}).finally(i=>{t.active?.(i)})}});var EG,II,yI,Jd,AI=R(()=>{xe();Fe();ut();EG=pe(ve(),1);Ze();Ri();Br();Y();II=new Set,yI=class extends oe{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=EG.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,i){let{model:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,decoding:d}=e,g=e.width??r?.width??1600,m=e.height??r?.height??1600,b=this.state.src||this.blankURI;return II.has(this.state.src)||(b=this.state.lastSrc||this.blankURI),b=this.props.isLazyLoadable?b:this.blankURI,St("img",{onClick:this.props.onClick,crossorigin:"",alt:l||null,src:b,width:g,height:m,className:`media${o?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,i){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,i)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,II.has(r.src)?this.forceUpdate():(II.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.onerror=this.props.onError,r.src=e):(r.decoding="async",r.src=e,r.onerror=this.props.onError,r.decode().then(o=>{n()}).catch(o=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,i=this.props.renderWidth,r=this.props.renderHeight,n=i<500?50:250,o=Math.ceil(i/n)*n,l=r<500?50:250,u=Math.ceil(r/l)*l;this.props.model&&o!==0&&u!==0&&(e=yu({w:o,h:u},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},Jd=Or((t,e)=>{let i=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return i&&i.loading&&(i=null),f(yI,{...t,model:i,mediaRef:e})})});var NG,Ks,pm,lse,$s,hm,use,wI,WG,OG=R(()=>{xe();Fe();NG=pe(ve(),1);Y();Ks=new Set,pm="unloaded",lse=function(){if(pm==="unloaded"){let i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{pm="loaded",Ks.forEach(r=>{r.initYoutubePlayer()}),Ks.clear(),typeof i=="function"&&i()},pm="loading";var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}pm==="loaded"&&(Ks.forEach(i=>{i.initYoutubePlayer()}),Ks.clear())},$s=new Set,hm="unloaded",use=function(){if(hm==="unloaded"){hm="loading";var t=document.createElement("script");t.onload=()=>{hm="loaded",$s.forEach(i=>{i.initVimeoPlayer()}),$s.clear()},t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}hm==="loaded"&&($s.forEach(i=>{i.initVimeoPlayer()}),$s.clear())},wI=class extends oe{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=NG.default.uniqueId(),this.html="",this.divRef=be()}render(e){let{src:i,width:r,height:n,model:o}=e;return f(ee,{children:[e.adminMode?f("div",{style:{position:"absolute",zIndex:9999,pointerEvents:"auto",background:"transparent",inset:0}}):null,f("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let i="margin: auto; position: absolute;";i+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",i)};loadAPIPlayer=()=>{$s.delete(this),Ks.delete(this),this.props.fileType.startsWith("youtube:")?(Ks.add(this),lse()):this.props.fileType.startsWith("vimeo:")&&($s.add(this),use())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),i=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:i},()=>{Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then(r=>{i.on("loaded",()=>{i.element?.setAttribute("id","vimeo-player-"+this.uid),i.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),i.on("play",()=>{this.props.onPlay?.()}),i.on("pause",()=>{this.props.onPause?.()}),i.on("ended",()=>{this.props.onEnded?.()}),i.pause().then(i.setCurrentTime(0));var n=r[0],o=r[1];this.setState({nativeSize:{width:n,height:o}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((l,u)=>{this.props.muted||this.props.autoplay?this.state.apiPlayer.setVolume(0).then(()=>{this.state.apiPlayer.play().then(()=>{l(!0)}).catch(c=>{u(c)})}).catch(c=>{u(c)}):this.state.apiPlayer.play().then(c=>{l(!0)}).catch(c=>{u(c)})}),pause:()=>new Promise((l,u)=>{this.state.apiPlayer.pause().then(c=>{l(!0)})}),setCurrentTime:l=>new Promise((u,c)=>{this.state.apiPlayer.setCurrentTime(l).then(d=>{u(!0)})}),getCurrentTime:()=>new Promise((l,u)=>{this.state.apiPlayer.getCurrentTime().then(c=>{l(c)})}),setVolume:l=>new Promise((u,c)=>{this.state.apiPlayer.setVolume(l).then(d=>{u(!0)})}),getVolume:()=>new Promise((l,u)=>{this.state.apiPlayer.getVolume().then(c=>{l(c)})}),getDuration:()=>new Promise((l,u)=>{this.state.apiPlayer.getDuration().then(c=>{l(!0)})}),stop:()=>new Promise((l,u)=>{Promise.all([i.pause(),i.setCurrentTime(0)]).then(()=>{l(!0)})}),setPlaybackRate:l=>new Promise((u,c)=>{this.state.apiPlayer.setPlaybackRate(l).then(d=>{u(!0)})}),size:{width:n,height:o}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),i=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let r=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+r;n&&n.length>0&&(o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(o,{mode:"cors"}).then(l=>{l.json().then(u=>{let c=u.width*2||640,d=u.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let g={autoplay:0,width:c,height:d,modestbranding:1,loop:this.props.loop,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},m=Object.entries(g).filter(([I,x])=>x!==void 0).map(([I,x])=>I+"="+x).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+i+"?"+m),this.setState({nativeSize:{width:c,height:d}}),this.setIframeStyles();let b=new YT.Player(e,{videoId:i,playerVars:g,events:{onReady:()=>{this.setState({nativeSize:{width:c,height:d}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((I,x)=>{this.state.apiPlayer.playVideo(),I(!0)}),pause:()=>new Promise((I,x)=>{this.state.apiPlayer.pauseVideo(),I(!0)}),stop:()=>new Promise((I,x)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:c,height:d},setCurrentTime:I=>new Promise((x,A)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(I,!1)}x(!0)}),getCurrentTime:()=>new Promise((I,x)=>{I(this.state.apiPlayer.getCurrentTime())}),setVolume:I=>new Promise((x,A)=>{this.state.apiPlayer.setVolume(I*100),x(!0)}),getVolume:I=>new Promise((x,A)=>{x(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((I,x)=>{I(this.state.apiPlayer.getDuration())}),setPlaybackRate:I=>new Promise((x,A)=>{this.state.apiPlayer.setPlaybackRate(I),x(!0)})})},onStateChange:I=>{switch(I.data){case YT.PlayerState.ENDED:this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:b})})})};componentDidUpdate(e,i){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==i.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||i.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),Ks.delete(this),$s.delete(this)}},WG=Or((t,e)=>f(wI,{...t,mediaRef:e}))});var GG,xI,LG,XG=R(()=>{xe();ut();AI();OG();Br();Ze();Fe();GG=pe(ve(),1);Y();xI=class extends oe{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((i,r)=>{r("null player play")}),pause:()=>new Promise((i,r)=>{r("null player pause")}),stop:()=>new Promise((i,r)=>{r("null player stop")}),getDuration:()=>new Promise((i,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((i,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((i,r)=>{r("null player setCurrentTime")}),getVolume:()=>new Promise((i,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((i,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((i,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=be(),this.videoRef=be(),this.videoPlayerRef=be()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:i,posterModel:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,fileType:d,decoding:g,"browser-default":m,"dynamic-src":b}=e,I=e.width??i?.width??1600,x=e.height??i?.height??1600,A=b||c||"",F=null;i&&(i.is_url?F=i.url:F="https://freight.cargo.site/i/"+i.hash+"/"+i.name);let E="";i?.loading||!F?E=A||"":E=F||"",d==="video"&&(E=this.props.isLazyLoadable?E:"");let M=null;r&&!r.loading?r.is_video&&r.poster?M=yu({w:this.props.renderWidth},r.poster).url||"":M=yu({w:this.props.renderWidth},r).url||"":i&&i.poster&&!i.poster.loading?M=yu({w:this.props.renderWidth},i.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(M=this.props["dynamic-poster"]||this.props.poster||null,M=M.startsWith("https://")?M:""),M=this.props.isLazyLoadable?M:"";let k=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",T=!m;return f("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(k?" video-player"+k:""),ref:this.props.mediaRef,className:`media${o?" image-zoom":""}`,children:f("div",{className:"video-player-crop",children:[T?f(Jd,{ref:this.posterRef,src:M||this.blankURI,isZoomable:o,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:I,height:x,style:{transform:"rotate(1deg)"},part:"poster"+(k?" poster"+k:"")}):null,d==="video"?f("video",{ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted||this.props.autoplay,src:E,controls:m,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(k?" video"+k:""),poster:m?M:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:I,height:x}):f(WG,{...this.props,statusPartAppendix:k,fileType:d,ref:this.videoRef,loop:this.props.loop,width:I,height:x,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:E})]})})}componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.play()},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setVolume(0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,i){i.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||i.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(i.videoLoaded!==this.state.videoLoaded||i.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(i=>{i!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(i=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,i)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){i(r)})}),pause:()=>new Promise((e,i)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,i)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,i)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,i)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((i,r)=>{this.videoRef.current.currentTime===e?i(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{i(!0)},{once:!0}))}),getVolume:()=>new Promise((e,i)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((i,r)=>{this.videoRef.current.volume=e,e==0&&(this.videoRef.current.muted=!0),i(!0)}),setPlaybackRate:e=>new Promise((i,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),i(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!0,i.paused=!1,i.stopped=!1,i})};onPause=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!1,i.paused=!0,i})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{this.props.poster&&this.videoRef.current&&this.props["browser-default"]&&this.videoRef.current.load()})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=GG.default.debounce(()=>{this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([e,i,r])=>{r-i<.1&&!this.props.loop&&this.resetVideoPlayer()})},500)},LG=Or((t,e)=>f(xI,{...t,mediaRef:e}))});var oEe,SI,BG,DG=R(()=>{xe();ut();Br();Fe();oEe=pe(ve(),1);Y();SI=class extends oe{constructor(e){super(e)}render(e){let{model:i,src:r,isLazyLoadable:n}=e,o=i?.is_url?i.url:r;return f("iframe",{part:"media iframe",frameborder:"0",onload:this.onLoad,ref:this.props.mediaRef,src:n?o:""})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()}},BG=Or((t,e)=>f(SI,{...t,mediaRef:e}))});var Qa,Bu,RI,FI,TG,MG=R(()=>{xe();Fe();Dt();Ze();Mi();vo();Ni();Qa=pe(ve(),1);Y();Bu=new Set,RI=Qa.default.debounce(()=>{let t=Array.from(Bu),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=Qa.default.sortBy(o,(c,d)=>c.rect.top);let l=e.filter(c=>c.component.state.selected),u=l[l.length-1].component.props.baseNode._size;r=l[l.length-1].rect.bottom+-l[0].rect.top+-u.mediaItemSize.padSize+-u.mediaSize.padSize,e=e.map(c=>c.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{o.setEditorFrame()}),n=!0)})},100);U.isServer||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",RI):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",RI)}),document.addEventListener("selectionchange",RI));FI=class extends oe{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=_e.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=be(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,i){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:o,pointerAttention:l,pointerProxyAttention:u,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:g,isResizing:m,dragStartPosition:b,dragDelta:I,scalingLimit:x,resizeDimensions:A,handlePos:F,mediaCornerPositions:E,cursorOrientation:M,partOfMultipleSelection:k,showMultipleSelectionButton:T,UIWindow:_,contextPos:ne}=i,{rotation:Z,dimensions:L,mediaDimensions:re,baseNode:de,size:$}=e;if(r?.disableAll==!0)return null;let q=A.width*A.overSize/$.mediaSize.width,B=A.height*A.overSize/$.mediaSize.height,j=1/q||1,K=e.scale;m&&(A.displayScale?K=A.displayScale:A.scaleArray[1]=="px"?K=parseFloat(A.scaleArray[0]).toFixed(0)+A.scaleArray[1]+"":K=parseFloat(A.scaleArray[0]).toFixed(1)+A.scaleArray[1]+""),K=K==="100.0%"?"100%":K;let te=e.rotation+"\xB0",se=null;(l||u)&&!r?.disableButton&&!_&&!m&&(T&&k?se=f("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(ne.x*2)/2}px, ${Math.floor(ne.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!T&&!k&&(se=f("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(ne.x*2)/2}px, ${Math.floor(ne.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:f("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),f("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),f("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),f("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),f("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let z=null;!m&&l&&!r?.disableResize&&!k&&(z=f("button",{class:`resize-handle ${M}`,style:{transform:`translate(${Math.floor(F.x*2)/2}px, ${Math.floor(F.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:f("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[f("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),f("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let V=r?.additionalUI?.(this,de)||null;return f(ee,{children:[f("style",{children:`:host {
				${m?"visibility: hidden!important;":""}
			}
			`}),f(Zi,{baseNode:de,onSelectionChange:this.onSelectionChange}),ze(f("div",{class:"editor-overlay",style:{height:$.mediaItemSize.height+"px",width:$.mediaItemSize.width+"px",display:l||m||u?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[f("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:$.mediaItemSize.width+"px",height:$.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[m&&l&&f("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(ne.x*2)/2}px, ${Math.floor(ne.y*2)/2}px)`},children:f("div",{className:"tooltip-content",children:f("span",{children:`${this.props.limitBy}: ${K}`})})}),se,z,V]}),f("div",{class:"media-ghost-container",style:{display:m?"block":"none",width:A.width+$.mediaSize.padSize+"px",height:A.height+$.mediaSize.padSize+"px",top:o===2||o===3?"0":"auto",right:o===1||o===2?"auto":"0",left:o===1||o===2?"0":"auto",bottom:o===2||o===3?"auto":"0"},children:f("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let i=[];Bu.forEach(o=>{o.state.selected&&i.push(o.props.baseNode)}),i.indexOf(this.props.baseNode)===-1&&(i=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:i,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let i=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");i&&!e.classList.contains("empty")?e.classList.add("empty"):!i&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){Bu.add(this),this.props.baseNode._editorInterface=this,this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(Bu.delete(this),this.observer.disconnect(),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],i=e.indexOf(this.props.baseNode);i>-1&&(e[i]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,_e.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=e=>{(this.state.pointerAttention||this.state.pointerProxyAttention)&&(e.width==0||e.height==0||this.setEditorFrame())};onScroll=e=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),_e.testHover(),this.setEditorFrame(),this.ticking=!1}))};componentDidUpdate(e,i){this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0}),(this.state.UIWindow!==i.UIWindow||this.state.pointerAttention!==i.pointerAttention||this.state.pointerProxyAttention!==i.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),_e.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},i=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(i&&!i.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&Bu.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&Bu.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let i=this.props.mediaElement,r=this.mediaGhostRef.current;if(!i||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(i.tagName=="IMG"){let o=i.cloneNode(!0);o.setAttribute("decoding","sync"),r.appendChild(o)}else if(i.tagName==="VIDEO"&&i.hasAttribute("poster")){let o=document.createElement("img");o.setAttribute("decoding","sync"),o.setAttribute("src",i.getAttribute("poster")),r.appendChild(o)}else i.classList.contains("placeholder")?r.appendChild(i.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(i);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:i,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:o,rotation:l,limitBy:u,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),g=0;if(d){let F=window.getComputedStyle(d);g=d.offsetWidth+-parseFloat(F.getPropertyValue("padding-left"))+-parseFloat(F.getPropertyValue("padding-right"))}else g=window.innerWidth;g=g+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let m={x:e.clientX,y:e.clientY};e.preventDefault();let b=this.props.scale??100,I=U.getCSSValueAndUnit(b,u==="width"?"%":"rem");u!=="width"&&u!=="height"&&(I[1]=""),I[0]=parseFloat(I[0]),(I[0]===""||I[1].indexOf("calc(")>-1||I[1].indexOf("var(")>-1)&&(u==="width"?(I[0]=c.mediaSize.width/g*100,I[1]="%"):(I[0]=c.mediaSize.height/window.innerHeight*100,I[1]="vh"));let x=Math.min(I[0].toString().indexOf(".")>-1?I[0].toString().split(".").pop().length:0,3);I[0]=parseFloat(parseFloat(I[0]).toFixed(x));let A={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-g)<2,scaleArray:I,scale:b,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(A=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,A)),this.setState({dragStartPosition:m,scalingLimit:g,dragDelta:{x:0,y:0},resizeDimensions:A,initialDimensions:{...A,scaleArray:[...A.scaleArray]},isResizing:!0},()=>{_e.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),Ie.adminWindow.addEventListener("mouseup",this.onPointerUp),Ie.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:i,mediaCornerPositions:r,scalingLimit:n,resizeCorner:o,handlePos:l,handleTrack:u,initialDimensions:c}=this.state,{rotation:d,limitBy:g,baseNode:m,size:b}=this.props,{resizeDimensions:I}=this.state,{scale:x,scaleArray:A}=c,F={x:e.clientX-i.x,y:e.clientY+-i.y},E=d*(Math.PI/180)||0,M=r[o],k=r[(o+1)%4],T=r[(o+2)%4],_=r[(o+3)%4],ne=this.getDistance(_,l),Z=this.getDistance(T,l),L=parseInt(b.width),re=parseInt(b.height),de=45,$=this.getAngle(_,M),q=this.getAngle(M,k),B={x:l.x+F.x,y:l.y+F.y},j=[{x:l.x+Math.cos(q)*10,y:u.y+u.h+-de+Math.sin(q+Math.PI)*10},{x:l.x,y:u.y+u.h+-de}],K=[{x:l.x+Math.cos($)*10,y:u.y+u.h+-de+Math.sin($+Math.PI)*10},{x:l.x,y:u.y+u.h+-de}],te=0,se=0,z=0,V,ie;if(o%2==0){let Be=this.getIntersection(j,[k,T]),ke=this.getIntersection(K,[T,_]),at=this.getDistance(T,l),Pe=this.getDistance(T,B),nt=this.getAngle(T,B),we=this.getDistance(T,l);z=Pe/we;let lt=this.getDistance(T,Be);se=Pe/lt;let ot=Math.abs(Math.sin(nt+E));se*=ot;let He=this.getDistance(ke,T);te=Pe/He;let Ye=Math.cos(nt+E);te*=Ye}else{let Be=this.getIntersection(j,[_,M]),ke=this.getIntersection(K,[M,k]),at=this.getDistance(T,l),Pe=this.getDistance(T,B),nt=this.getAngle(T,B),we=this.getDistance(T,l);z=Pe/we;let lt=this.getDistance(T,Be);se=Pe/lt;let ot=Math.abs(Math.sin(nt+E));se*=ot;let He=this.getDistance(ke,T);te=Pe/He;let Ye=Math.cos(nt+E);te*=Ye}let le=Math.max(te,z,se),ce=Math.min(b.mediaSize.width/L,b.mediaSize.height/re),ge=L/re;V=L*ce*le,ie=re*ce*le;let fe=!1,We=1;if(V>n){let Be=n/V;fe=!0,V=n,ie=ie*Be}let Ee=e.altKey||e.metaKey;g==="width"?([A,V]=this.scaleDimension(A,V+b.mediaSize.padSize+b.mediaItemSize.padSize,b.mediaSize.width+b.mediaSize.padSize+b.mediaItemSize.padSize,Ee),V=V+-b.mediaSize.padSize+-b.mediaItemSize.padSize,ie=V/ge):([A,ie]=this.scaleDimension(A,ie+b.mediaSize.padSize+b.mediaItemSize.padSize,b.mediaSize.height+b.mediaSize.padSize+b.mediaItemSize.padSize,Ee),V=ge*(ie+-b.mediaSize.padSize+-b.mediaItemSize.padSize),ie=V/ge),A[0]=parseFloat(A[0]),I={scale:A.join(""),scaleArray:A,limitBy:g,width:V,height:ie,atLimit:fe,overSize:We,displayScale:null},A[1]=="%"&&g=="width"&&parseFloat(A[0])>=100&&(I.scale="100%",I.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(I=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...I})),this.setState({resizeDimensions:I})};scaleDimension=(e,i,r,n)=>{let o=e[0]*(i/r),l=o;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?o=Math.round(o/.5)*.5:o=Math.round(o/10)*10:e[1]=="px"?o=Math.round(o):o=Math.round(o*10)/10,o=Math.max(1,o);let u=o/l||0;return[[o,e[1]],i*u]};onPointerUp=e=>{let{resizeDimensions:i,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,i):this.props.baseNode.setAttribute("scale",i.scale),this.props.baseNode.flushMutationQueue()}),_e.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",Ie.adminWindow.removeEventListener("mouseup",this.onPointerUp),Ie.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:i,sizingFrameElement:r,baseNode:n,rotation:o,size:l}=this.props;if(!e||!i||!i.parentElement||l.mediaItemSize.width==0||l.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let u=o*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:l.mediaItemSize.width*Math.cos(u)-l.mediaItemSize.height*Math.sin(u),h:l.mediaItemSize.width*Math.sin(u)+l.mediaItemSize.height*Math.cos(u)},b={x:c.left+(c.width-d.w)*.5+-0,y:c.top+(c.height-d.h)*.5+-0},I=r.getBoundingClientRect(),x=45,A=45,F=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,E={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};F&&(E.h=this.state.multiSelectHeight);let M=i.offsetLeft,k=i.offsetTop,T=i;for(;T&&T.parentNode&&T.parentNode!==n.shadowRoot&&T.parentNode!==e&&T.parentNode!==n;)M=M+T.offsetLeft,k=k+T.offsetTop,T=T.offsetParent;let _={x:M||0,y:k||0},ne=[{x:_.x,y:_.y},{x:_.x+l.mediaSize.width+l.mediaSize.padSize,y:_.y},{x:_.x+l.mediaSize.width+l.mediaSize.padSize,y:_.y+l.mediaSize.height+l.mediaSize.padSize},{x:_.x,y:_.y+l.mediaSize.height+l.mediaSize.padSize}],Z=[];if(F)Z=ne,Z[2].y=_.y+this.state.multiSelectHeight,Z[3].y=_.y+this.state.multiSelectHeight;else{let we={x:E.w*.5,y:E.h*.5};Z=ne.map(lt=>{let ot={x:lt.x-we.x,y:lt.y-we.y},He={x:ot.x*Math.cos(u)-ot.y*Math.sin(u),y:ot.x*Math.sin(u)+ot.y*Math.cos(u)};return{x:He.x+we.x,y:He.y+we.y}})}if(Qa.default.isEqual(Z))return;let L,re,de,$;L=Qa.default.minBy(Z,we=>we.y);let q=Z.indexOf(L);re=Z[(q+1)%4],de=Z[(q+2)%4],$=Z[(q+3)%4];let B={x:0,y:0,w:x,h:A},j={x:0,y:0},K={x:L.x,y:L.y},te={w:re.x-$.x,h:de.y-L.y,x:$.x,y:L.y},se=[{x:te.x+te.w*.5,y:te.y+te.h*.5},{x:te.x+te.w,y:te.y+te.h}],z=this.getIntersection(se,[re,de]),V=this.getIntersection(se,[$,de]),ie=!1,le=Qa.default.minBy([V,z],we=>we.y<se[0].y?9e9:we.y);if(le==V)B.x=de.x,B.y=de.y;else{let we=this.getDistance(re,le);this.getDistance(de,le)<we?(B.x=de.x,B.y=de.y):(B.x=re.x,B.y=re.y,ie=!0)}let ce,ge=0,fe=0;if(ie){let we=this.getAngle(re,L),lt=Math.PI-(Math.abs(we)+Math.PI*.5),ot=A*Math.cos(lt),He=-Math.cos(lt+Math.PI*.5)*ot,Ye=-Math.sin(lt+Math.PI*.5)*ot;K={x:$.x+-He,y:$.y+-Ye+A},B.x=B.x+He+-x,ce=B.y+Ye+A;let Pt=[{x:L.x-x,y:ce},{x:L.x-x,y:ce-10}],kt=[{x:L.x,y:ce},{x:L.x,y:ce-10}],At=[this.getIntersection(Pt,[$,L]),this.getIntersection(Pt,[L,re]),this.getIntersection(kt,[$,L]),this.getIntersection(kt,[L,re])],Tt=Qa.default.maxBy(At,jt=>jt.y);B.y=Tt.y,B.h=ce-B.y;let it=Math.max(0,I.bottom+(A+Ye)+-qe.data.window.h+-(de.y-re.y));fe=B.h-A+-it,ge=this.getIntersection([{x:B.x,y:B.y+fe},{x:B.x-10,y:B.y+fe}],[L,re]).x-B.x+-x}else{let we=this.getAngle(de,re),lt=Math.PI-(Math.abs(we)+Math.PI*.5),ot=x*Math.cos(lt),He=-Math.cos(lt)*ot,Ye=-Math.sin(lt)*ot;if(ce=B.y+Ye,B.x=B.x+He,B.y=re.y,B.h=ce-re.y,K={x:L.x+-He+-x,y:L.y+-Ye},Math.abs(this.getSlope(re,de))>1&&I.bottom+Ye>=qe.data.window.h){let kt=I.bottom+-qe.data.window.h,At={x:de.x,y:de.y-kt},Tt=this.getIntersection([At,{x:At.x+10,y:At.y}],[de,re]);ge=Tt.x-(B.x+B.w),fe=Tt.y-B.y+-A}else{let kt=[{x:B.x,y:ce},{x:B.x,y:ce-10}],At=[{x:B.x+B.w,y:ce},{x:B.x+B.w,y:ce-10}],Tt=[this.getIntersection(kt,[$,L]),this.getIntersection(kt,[L,re]),this.getIntersection(At,[$,L]),this.getIntersection(At,[L,re])],it=Qa.default.maxBy(Tt,jt=>jt.y);B.y=it.y,B.h=ce-B.y;let Ui=Math.max(0,I.bottom+-qe.data.window.h+Ye);fe=B.h-A+-Ui,ge=0}}j.x=B.x+ge,j.y=Math.max(B.y,B.y+fe);let We=Math.max(0,I.left+I.width+-qe.data.window.w);j.x=Math.min(j.x,re.x-(We+x));let Ee=Math.min(0,I.left),Be=Math.min(0,I.top);K.x=Math.max(K.x,-Ee+$.x),K.y=Math.max(K.y,-Be+L.y);let ke=this.getIntersection([K,{x:K.x,y:K.y+10}],[$,de]);K.y=Math.min(K.y,ke.y+-A);let at=(q+2)%4;ie&&(at=(at+3)%4);let Pe="nwse-resize",nt=this.getAngle(j,Z[(at+2)%4]);Math.abs(Math.PI*.5-nt)<.4?Pe="ns-resize":Math.abs(Math.PI-Math.abs(nt))<.4&&(Pe="ew-resize"),this.setState({mediaCornerPositions:Z,resizeCorner:at,contextPos:K,handlePos:j,cursorOrientation:Pe,handleTrack:B,overlayPosition:b,editorMediaFramePosition:{x:_.x,y:_.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,i)=>Math.atan2(-(i.y-e.y),i.x-e.x);getDistance=(e,i)=>Math.sqrt(Math.pow(i.y-e.y,2)+Math.pow(i.x-e.x,2));getSlope=(e,i)=>(i.y-e.y)/(i.x-e.x);getIntersection=(e,i)=>{let r=this.getSlope(...e),n=this.getSlope(...i),o,l;return r==0?(isFinite(n)?o=(n*i[0].x-(i[0].y-e[0].y))/n:o=i[0].x,l=e[0].y):isFinite(r)?(o=(n*i[0].x-r*e[0].x-(i[0].y-e[0].y))/(n-r),l=r*(o-e[0].x)+e[0].y):(o=e[0].x,l=n*(o-i[0].x)+i[0].y),isFinite(o)||(o=null),isFinite(l)||(l=null),{x:o,y:l}}},TG=FI});function cse(t){return xt({updateFrontendState:actions.updateFrontendState},t)}var ZG,qd,gm,dse,pse,_G=R(()=>{xe();Fe();ri();ut();ZG=pe(ve(),1);Ze();tn();Ti();cm();Ri();AI();XG();DG();Ki();MG();Ps();Y();xe();U.isServer||(qd=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let i=0,r=0,n=0,o=0,l=0,u=0,c=0,d=0,g=0,m=0,b=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!b)e.borderBoxSize.length?(i=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(i=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let I=window.getComputedStyle(e.target);n=parseFloat(I.getPropertyValue("padding-left"))||0,o=parseFloat(I.getPropertyValue("padding-right"))||0,l=parseFloat(I.getPropertyValue("border-right-width"))||0,u=parseFloat(I.getPropertyValue("border-left-width"))||0,c=parseFloat(I.getPropertyValue("padding-top"))||0,d=parseFloat(I.getPropertyValue("padding-bottom"))||0,g=parseFloat(I.getPropertyValue("border-bottom-width"))||0,m=parseFloat(I.getPropertyValue("border-top-width"))||0,i=c+d+m+g,r=n+o+l+u}yt(e.target,"elementResize",{padSize:r,vertPadSize:i,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:o,leftBorder:l,rightBorder:u,topPad:c,bottomPad:d,bottomBorder:g,topBorder:m},{bubbles:!1})})}));gm=class extends xi{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=ZG.default.uniqueId(),this.figureRef=be(),this.mediaRef=be(),this.lastMediaRef=be(),this.figCaptionRef=be(),this.sizingFrameRef=be(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let i=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=i;let r=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=r,this.props.baseNode._setZoomStatus=n=>{this.setState(o=>o.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._setScrollTransitionStatus=n=>{this.setState(o=>o.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let i=e.composedPath();if(i.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),o=!1,l=window.getSelection();if(l&&l.rangeCount>0&&!this.props.adminMode){let d=l.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(o=!0)}if(n&&!o&&!this.props.adminMode){n.click();return}let u=this.getFileType(),c=this.isZoomable();if((u==="video"||u.startsWith("vimeo")||u.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){if(i.some(d=>d.nodeName=="VIDEO"||d.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||o||!i.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),gI(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:i,"dynamic-src":r}=this.props;if(i=r||i,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(i){let g=i.toLowerCase();if(g.endsWith(".mov")||g.endsWith(".mp4")||g.endsWith(".webm"))n="video";else if(g.endsWith(".png")||g.endsWith(".webp")||g.endsWith(".jpg")||g.endsWith(".jpeg")||g.endsWith(".gif")||g.endsWith(".avif")||g.endsWith(".apng")||g.endsWith(".svg"))n="image";else{n="url";var o="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=i.match(l);if(d&&d[0]){let m=d[0].split(/\/|\?h=|&|\?/);for(var u=0;u<m.length;u++)!m[u].includes(":")&&!m[u].includes(".")&&!m[u].includes("vimeo")&&!m[u].includes("=")&&!m[u].includes("video")&&!m[u].includes("showcase")&&!m[u].includes("player")&&m[u].length>3&&(o.length==0?o=m[u]:o+="/"+m[u]);n="vimeo:"+o}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(c);d&&d[7].length==11&&(o=d[7],n="youtube:"+o)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,i,r){let{dimensions:n,mediaDimensions:o,viewportIntersection:l,loading:u,nativeMediaDimensions:c,scrollTransitionDisabled:d}=i,{rotation:g,drag:m,"force-visible":b,"dynamic-src":I,adminMode:x,imageSettings:A,pageInfo:F,width:E,height:M,baseNode:k,model:T,posterModel:_,href:ne,src:Z,hash:L,isMobile:re}=e,de=this.state.isVisible||b,$=this.state.isLazyLoadable||b,{uid:q}=this,B=this.props.scale!==void 0?this.props.scale:re&&A.mobile_image_width_maximize?"100%":A.scale,j=this.props["limit-by"]!==void 0?this.props["limit-by"]:re&&A.mobile_image_width_maximize?"width":A.limit_by;Z=I||Z;let K=E??T?.width??c.width??1600,te=M??T?.height??c.height??1e3,se=U.getCSSValueAndUnit(B,j=="height"?"rem":"%"),z=te/K,ie=o.width*z,le=o.horizPadSize+n.horizPadSize,ce=o.vertPadSize+n.vertPadSize,ge=o.width+o.horizPadSize,We=(ie+o.vertPadSize)/ge,Ee=se.join(""),Be,ke=null;isNaN(We)&&(We=te/K);let at=K.toString().trim().endsWith("%"),Pe=te.toString().trim().endsWith("%"),nt=U.getCSSValueAndUnit(K,"%"),we=U.getCSSValueAndUnit(te,"%");if(at&&Pe)j==="width"||j=="height"?(Ee=`calc(${nt[0]*.01} * var(--resize-parent-width, 100%) )`,ke=`calc( var(--fit-height) * ${we[0]*.01} )`,Be="var(--custom-fit-height)"):(Ee=`calc(${nt[0]*se[0]*1e-4} * var(--resize-parent-width, 100%) )`,ke=`calc( var(--fit-height) * ${we[0]*se[0]*1e-4} )`,Be="var(--custom-fit-height)");else if(j=="height")if(Pe)ke=`calc( var(--fit-height) * ${we[0]*.01} )`,Be="var(--custom-fit-height)",Ee=`${nt[0]*.01}px`;else{let it="";se[1]=="%"?it=`( ${se[0]*.01} * var(--resize-parent-width, 100%) )`:se[1].indexOf("calc(")>-1?(se[1]=se[1].replace(/[\d*\.]+%/g,function(Ui){return`( ${U.getCSSValueAndUnit(Ui,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),it=se[1].replace("calc(","(")):it=se.join(""),at?(Ee=`calc( ${nt[0]*.01} * var(--resize-parent-width, 100%) )`,Be=`calc( ${it} )`):(Ee=`calc( ( ${it} - ${ce}px ) * ( 1 / ${z} ) + ${le}px )`,Be=We*100+"%")}else j==="width"?at?(Ee=`calc( ${nt[0]*.01} * var(--resize-parent-width, 100%) )`,Be=`${we[0]}px`):(se[1]=="%"?Ee=`calc(${se[0]*.01} * var(--resize-parent-width, 100%) )`:(se[1].indexOf("calc(")>-1&&(se[1]=se[1].replace(/[\d*\.]+%/g,function(it){return`( ${U.getCSSValueAndUnit(it,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),Ee=se.join("")),Pe?(ke=`calc( var(--fit-height) * ${we[0]*.01} )`,Be="var(--custom-fit-height)"):Be=We*100+"%"):at?(Ee=`calc(${nt[0]*se[0]*1e-4} * var(--resize-parent-width, 100%) )`,ke=`calc( min( var(--fit-height) * ${se[0]*.01} , ${we[0]*se[0]*.01}px ) )`,Be="var(--custom-fit-height)"):Pe?(Ee=`calc( min( ${se[0]*.01} * var(--resize-parent-width, 100%) , ${nt[0]*se[0]*.01}px ) )`,ke=`calc(  var(--fit-height) * ${se[0]*we[0]*1e-4}  )`,Be="var(--custom-fit-height)"):(Ee=`calc( ( ( var(--fit-height, 50vh) * ${se[0]/100} ) - ${le}px ) * ( 1 / ${z} ) + ${le}px )`,Be=We*100+"%");let lt=A?.scroll_animation&&e["disable-scroll-animation"]!==!0&&!d&&this.props.scrollContext.scrollUid!=="default",ot=this.props.uses||"";ot.indexOf("scroll-transition")===-1&&lt&&(ot=ot+" scroll-transition");let He=null,Ye=this.getFileType()||"",Pt=this.isZoomable(),kt=e.autoplay&&e.muted;switch(!0){case(!kt&&Pt&&Ye.startsWith("youtube")&&_&&!e["browser-default"]):case(!kt&&Pt&&Ye.startsWith("vimeo")&&_&&!e["browser-default"]):case(!kt&&Pt&&Ye==="video"&&_&&!e["browser-default"]):case(Pt&&Ye==="url"&&_):He=f(Jd,{...e,model:_,isZoomable:Pt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:$,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ye=="video":case Ye.startsWith("vimeo:"):case Ye.startsWith("youtube:"):He=f(LG,{...e,baseNode:this.props.baseNode,isZoomable:Pt,ref:this.mediaRef,onLoad:this.onLoad,visible:de,fileType:Ye,isLazyLoadable:$,renderWidth:n.width,renderHeight:n.height,src:Z});break;case Ye=="image":He=f(Jd,{...e,isZoomable:Pt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:$,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ye=="url":He=f(BG,{...e,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:$,src:Z});break;default:He=f("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:f("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[f("rect",{part:"placeholder-rect"}),f("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let At=f("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:He},"media-slot-key"),Tt=f(ee,{children:[f("style",{id:"media-item",children:`
:host {
	${!x&&ne&&ne!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${Ee||"100%"};
	${ke?`--custom-fit-height: ${ke};`:""}
	transform-origin: center center;

	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}


.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${Be});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType or iframe-based videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!x&&!this.props.href&&!Pt?"auto":"none"};
}

iframe[part*="iframe"] {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${o.leftPad+o.leftBorder}px;
	border-right-width: ${o.rightPad+o.rightBorder}px;
	border-top-width: ${o.topPad+o.topBorder}px;
	border-bottom-width: ${o.bottomPad+o.bottomBorder}px;
	top: ${-o.topBorder}px;
	left: ${-o.leftBorder}px;
	right: ${-o.rightBorder}px;
	bottom: ${-o.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}


[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${u?`[part*="media"] {
	opacity: 0;
}`:""}

${x?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${F.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),f(yn,{uses:ot,visibility:l,onLazyLoadChange:this.onlazyLoadChange,adminMode:x,customElementMode:!0,baseNode:k,children:f("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[f("div",{part:"frame",className:"frame",children:this.props.href!==void 0?f("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:At}):f("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:At})}),f("slot",{name:"caption",onSlotChange:this.onCaptionSlotChange})]})},"media-host"),F.isEditing&&x&&St(TG,{...this.props,fileType:Ye,limitBy:j,width:E,height:M,rotation:g||0,scale:B,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:k,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return ze(Tt,k.shadowRoot)}onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let i=e.position==="inside";this.state.isLazyLoadable!==i&&this.setState({isLazyLoadable:i})};onCaptionSlotChange=e=>{let i=e.target.assignedNodes();i[0]?this.figCaptionRef.current=i[0]:this.figCaptionRef.current=null};onMediaSlotChange=e=>{let i=e.target.assignedNodes();i[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(i[0].getAttribute("width"))||null,height:parseFloat(i[0].getAttribute("height"))||null},slottedMediaNode:i[0]}),this.mediaRef.current=i[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let i=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;i&&r&&this.state.nativeMediaDimensions.width!==i&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:i,height:r}}),pi(e,"elementResize",this.onMediaResize),qd.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),vi(e,"elementResize",this.onMediaResize),qd.unobserve(e))};componentDidMount(){if(U.isServer)return;this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked");let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),pi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),pi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),pi(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,qd.observe(this.props.baseNode)}componentWillUnmount(){U.isServer||(cancelAnimationFrame(this.itemResizeAfterModelChange),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),vi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),vi(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),qd.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,i){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();if((r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==i.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==i.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==i.nativeMediaDimensions.height)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.state.dimensions.width!=i.dimensions.width||this.state.dimensions.height!=i.dimensions.height||this.state.dimensions.padSize!=i.dimensions.padSize||this.state.mediaDimensions.padSize!=i.mediaDimensions.padSize){if(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)return;typeof this.props.itemResize=="function"&&this.props.itemResize({mediaPadSize:this.state.mediaDimensions.padSize||0,...this.state.dimensions},this.props.baseNode)}this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onSetZoomDisabled=e=>{};onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let i=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(i&&!i.contains(e.target)||!i)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(i=>e&&(e.width!==i.nativeMediaDimensions.width||e.height!==i.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};gm.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};dse=_t(De((t,e)=>{let i=e["dynamic-hash"]||e.hash||null,r=i?tt.getMediaByHash(t)[i]:null;e.model&&(r=e.model);let n=e.poster||null,o=null,l;return e.posterModel?o=e.posterModel:n&&!n.includes?.(".")&&(o=tt.getMediaByHash(t)[n]||null),{posterModel:o,model:r,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},cse)(gm)),pse=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];ei(dse,"media-item",pse)});var kEe,EI,kG,VG=R(()=>{xe();kEe=pe(ve(),1);Dt();Wu();Y();EI=class extends oe{constructor(e){super(e)}render(e,i){let{galleryInstance:r,"vertical-align":n}=e;return f(Io,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(o,l,u,c,d,g)=>{u.forEach(m=>{m.getAttribute("grid-vertical-align")===n&&m.removeAttribute("grid-vertical-align"),m.getAttribute("grid-span")===1&&m.removeAttribute("grid-span")}),l.forEach(m=>{m&&(m.classList.remove("last-column"),m.classList.remove("last-row"),m.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(o,l,u,c,d,g)}})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},kG=EI});var fm,wn,mm,NI,bm=R(()=>{xe();Fe();ut();ka();Ou();Ze();Ys();Ua();Ti();Ni();VG();fm=pe(ve(),1);Ki();Y();wn={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};wn.mediaItemDefaults=U.collapseOptions(wn.mediaItemOptions);wn.defaults=U.collapseOptions(wn.options);wn.mobileDefaults=U.collapseOptions(wn.mobileOptions);mm=class extends oe{constructor(e){super(e),this.state={isMobile:qe.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=fm.default.uniqueId(),this.paginationWatcherRef=be(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+100;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o}=e,{isMobile:l,gutterWidth:u,gutterHeight:c,hasSizes:d}=i,{elWidth:g}=i;d||(g=this.props.baseNode.offsetWidth);let m=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(m=this.props.verticalAlign);let b=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;b=Math.max(1,parseInt(b))||1;let x=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),A=(x.length>1,x[0]);A=U.getCSSValueAndUnit(A,"rem"),A[1]=="rem"&&l&&(A=["","calc( var(--mobile-padding-offset, 1) * "+A.join("")+" )"]);let F=x.length>1?x[1]:x[0];F=U.getCSSValueAndUnit(F,"rem"),F[1]=="rem"&&l&&(F=["","calc( var(--mobile-padding-offset, 1) * "+F.join("")+" )"]);let{columnAndGutterMap:E,columnWidth:M,gutterPixelWidth:k}=Nu(b,u,g),T=this.getMediaItems(),_=[],ne=0,Z=0,L=l&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);T.forEach((B,j)=>{if(j>this.state.renderLimit)return;_[ne]||(_[ne]=[]);let K=L?1:parseInt(B.getAttribute("grid-span"))||1;Z%b+K>b&&(K=b-Z%b);let te=B.getAttribute("grid-vertical-align")||null;_[ne].push({index:j,spans:K,hasOrphans:!1,verticalAlign:te,el:B}),Z=Z+K,Z%b==0&&ne++,Z%b!=0&&j==T.length-1&&(_[_.length-1].hasOrphans=!0)});let re=T.length%b,de=[],$=[];_.forEach((B,j)=>{let K=fm.default.sumBy(B,ce=>ce.spans),te=0,se=[],z=0,V=0,ie=B.map((ce,ge)=>{let fe=ce.spans,We=ce.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},Ee=te,Be=te+fe+-1,ke=M*fe+u*(fe-1),at=(ke+-We.mediaItemSize.horizPadSize+-We.mediaSize.horizPadSize)/We.width||1,Pe=Math.round(We.height*at+We.mediaSize.vertPadSize)||300;ke=E[Be].right-E[Ee].left,te+=fe,z=Math.max(z,Pe);let nt={},we=` --grid-width: ${ke}px;`;return nt.orphanedItem=B.hasOrphans,ge===B.length-1?(nt.lastColumn=!0,ce.index<T.length-1&&(we=` --grid-width: ${g-V}px;`),V=0):V=V+ke+u,j==_.length-1&&(nt.lastRow=!0),nt.gridItemPixelHeight=Pe,nt.gridItemPixelWidth=ke,nt.gridWidthStyle=we,nt});var le=fm.default.maxBy(ie,ce=>ce.gridItemPixelHeight);z=le.gridItemPixelHeight,B.forEach((ce,ge)=>{let fe=ie[ge],We=0,Ee=m;switch(ce.verticalAlign){case"top":case"center":case"bottom":Ee=ce.verticalAlign;break}switch(Ee){case"top":We=0;break;case"center":We=(z-fe.gridItemPixelHeight)*.5;break;case"bottom":We=z-fe.gridItemPixelHeight;break}let Be=`margin-top: ${We}px; --frame-padding: ${fe.gridItemPixelHeight}px; ${fe.gridWidthStyle}`;de.push({slot:"row-"+j+"-"+ce.index,itemResize:this.onItemResize,"limit-by":null}),$.push({style:Be,itemStatuses:fe})})}),T.forEach((B,j)=>{let K=de[j]||{slot:null},te=B._props||{};yo(B,{...te,...K},te,!1,!1)});let q=[];return _.forEach((B,j)=>{q.push(f("div",{className:`row ${B.hasOrphans?"has-orphans":""}`,children:B.map(K=>($[K.index].slot="row-"+j+"-"+K.index,f("slot",{name:"row-"+j+"-"+K.index},"slot-"+j+"-"+K.index)))},"row-"+j))}),f(ee,{children:[this.props.children,ze(f(ee,{children:[f("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${k}px;
							--grid-gutter-height: ${c}px;
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${$.map((B,j)=>`::slotted(media-item[slot="${B.slot}"]) {
								${B.style}
								${B.itemStatuses.lastColumn&&!B.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${B.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${B.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${g}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${l&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),f(Dr,{values:{elWidth:"100%",gutterWidth:A.join(""),gutterHeight:F.join("")},onResize:this.onResize}),r&&o.isEditing&&!U.isServer&&f(kG,{...e,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:E}),q,f("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){qe.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){qe.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})}};mm.defaultProps={"show-tags":!0,"show-title":!0,columns:wn.defaults.columns.value,gutter:wn.defaults.gutter.value,"vertical-align":wn.defaults["vertical-align"].value,"horizontal-align":wn.defaults["horizontal-align"].value};NI=_t(Ao(De((t,e)=>({adminMode:t.frontendState.adminMode}))(mm)));ei(NI,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var pNe,WI,UG,HG=R(()=>{xe();pNe=pe(ve(),1);Dt();Wu();Y();WI=class extends oe{constructor(e){super(e)}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,elHeight:l,disabledAttributes:u}=e;return f(Io,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.isMobile&&this.props["mobile-columns"]!==void 0&&this.props["mobile-columns"]!==this.props.columns,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:u})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},UG=WI});var OI,Ro,Cm,hse,GI=R(()=>{xe();Fe();ut();ka();Ze();Ys();Ua();Ou();Ti();HG();Ni();OI=pe(ve(),1);Ki();Y();Ro={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};Ro.mediaItemDefaults=U.collapseOptions(Ro.mediaItemOptions);Ro.defaults=U.collapseOptions(Ro.options);Ro.mobileDefaults=U.collapseOptions(Ro.mobileOptions);Cm=class extends oe{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:qe.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,i){let{gutterWidth:r,gutterHeight:n,isMobile:o,hasSizes:l}=i,{baseNode:u,adminMode:c,pageInfo:d}=e,{elWidth:g}=i;l||(g=this.props.baseNode.offsetWidth);let b=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),I=(b.length>1,b[0]);I.includes("rem")&&o&&(I="calc( var(--mobile-padding-offset, 1) * "+I+" )");let x=b.length>1?b[1]:b[0];x.includes("rem")&&o&&(x="calc( var(--mobile-padding-offset, 1) * "+x+" )");let A=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;A=Math.max(1,parseInt(A))||1;let{columnAndGutterMap:F,columnWidth:E,gutterPixelWidth:M,halfPixels:k}=Nu(A,r,g),T=Array.from(u.children).filter(j=>j.tagName=="MEDIA-ITEM"),_=[],ne=[],Z=[],L=[],re=0;re=(g-(A-1)*r)/A;for(let j=0;j<Math.min(T.length,A);j++)_[j]=[],L[j]=[];for(let j=0;j<A;j++)ne[j]={height:0,marginTop:-r,index:j};let de=A>T.length,$=[],q=o&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),B=[];return T.forEach((j,K)=>{let te=q?1:Math.min(parseInt(j.getAttribute("columnized-span"))||1,A);te=Math.min(te,T.length);let se=-1,z=OI.default.minBy(ne,ot=>{se++;let He=ne.slice(se+1,se+te).map(Pt=>Pt.height);if(He.length+1<te)return 9e9;let Ye=ot.height==0?0:Math.abs((se+(se%2==0?.25:.75))*2-A);return OI.default.mean([ot.height,...He])+Ye}),V=`column-${z.index}-slot-${K}`,ie=z.height;z.index+te>A&&(te=A-z.index),Z[z.index]=K;let le=0,ce=null,ge=E*te+r*(te-1),fe=j._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};le=fe.mediaItemSize.height+fe.mediaItemSize.padSize;let We=z.index,Ee=z.index+te+-1;ge=F[Ee].right-F[We].left;let Be=(ge+-fe.mediaItemSize.padSize+-fe.mediaSize.padSize)/fe.width||1;ce=k?Math.round((fe.height*Be+fe.mediaSize.padSize)*2)/2||NaN:Math.round(fe.height*Be+fe.mediaSize.padSize)||NaN,Number.isNaN(ce)&&(ce=300);let ke=z,at=z.height;for(let ot=1;ot<te;ot++){let He=z.index+ot;ne[He].height>=at&&(ke=ne[He],at=ne[He].height)}let Pe=ke.height,nt=ke.height+fe.mediaItemSize.height+fe.mediaItemSize.padSize+r;for(let ot=0;ot<te;ot++){let He=z.index+ot;ot===0?(ne[He].marginTop=ne[He].marginTop+(Pe-ne[He].height),ne[He].height=nt):(ne[He].marginTop=ne[He].marginTop+(nt-ne[He].height),ne[He].height=nt)}let we={},lt=ne[z.index].marginTop;ne[z.index].marginTop=0,we.styleString="",lt!==n&&(we.styleString+=` --column-gutter-height: ${lt+n}px;`),te>1&&(we.styleString+=` --resize-parent-width:${ge}px; min-width: ${ge}px;`),ce!==null&&(we.styleString+=` --frame-padding: ${ce}px;`),ie===0&&(we.firstColumnItem=!0),we.slotName=V,B.push(we),_[z.index]||(_[z.index]=[]),_[z.index].push(f("slot",{name:V},V)),$.push({slot:V})}),Z.forEach(j=>{B[j].lastInColumn=!0}),T.forEach((j,K)=>{let te=$[K]||{};te.itemResize=this.onItemResize;let se=j._props||{};yo(j,{...se,...te},se,!1,!1)}),f(ee,{children:[this.props.children,ze(f(ee,{children:[f("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${de?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${M}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${B.map((j,K)=>`::slotted(media-item[slot="${j.slotName}"]){
						margin-top: ${j.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${j.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${A===1?"100%":0};						
						`:""}
						${j.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${de?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(g/A)}px;
					`}					
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${A===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),f(Dr,{values:{gutterWidth:I,gutterHeight:x,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!U.isServer&&f(UG,{...this.props,isMobile:o,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:F,galleryInstance:u,galleryComponent:this}),_.map((j,K)=>{let te=F[K];return f("div",{className:`columns-column${K===A-1?" last-column":""}`,style:{width:te.right-te.left+"px"},children:j},`columns-column-${K}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){qe.on("mobile-change",this.onMobileChange)}componentWillUnmount(){qe.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};Cm.defaultProps={"show-tags":!0,"show-title":!0,columns:Ro.defaults.columns.value,gutter:Ro.defaults.gutter.value};hse=_t(Ao(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Cm)));ei(hse,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var rn,LI,PG,YG=R(()=>{xe();rn=pe(ve(),1);Wu();Mi();Dt();Y();LI=class extends oe{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=be(),this.dragGhostRef=be(),this.lastPosition=null}render(e,i){let{showDropTarget:r,draggedMediaItem:n,isDragging:o,dragDelta:l,draggedItemIndex:u,initialPosition:c,dragSrcIndex:d,ghostRect:g}=i,{galleryInstance:m}=e;return f(ee,{children:[f("style",{children:[d>-1&&o?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(b=>`::slotted(media-item[slot="${b.slot}"]){
						--base-translate: translate(${b.x}px , ${b.y}px)!important;
					} `):""]}),f(Io,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:m,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),f("div",{className:`drag-ghost ${g.significantShift?"snapping":""}`,style:{display:o&&g.width>0&&g.height>0?"block":"none",transform:`translate3d(${g.x}px, ${g.y}px, 1001px)`,width:g.width+"px",height:g.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(i=>i.isDragging?{scrollDelta:{x:0,y:i.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,i)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...i,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,i)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,o=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return i;let{width:l,height:u,scaleArray:c,overSize:d,atLimit:g,scale:m}=i,{elWidth:b,attributeMap:I}=this.props;b=b+-o.mediaItemSize.padSize+-o.mediaSize.padSize;let x=n*.01*b,A=l/u,F={width:!1,height:!1},E=Array.from(this.props.galleryInstance.children).filter(ne=>ne.tagName==="MEDIA-ITEM").indexOf(e),M=I[E],k={x1:M.xPx,y1:M.yPx,x2:M.xPx+l,y2:M.yPx+u},T={top:!0,left:!0,right:!1,bottom:!1},_=this.calculateMagnetism(e,k,T);return Math.abs(_.x)<Math.abs(_.y)&&Math.abs(_.x)>.1?F.width=!0:Math.abs(_.y)>.1&&(F.height=!0),Math.abs(_.x)>15&&(F.width=!1,_.x=0),Math.abs(_.y)>15&&(F.height=!1,_.y=0),F.width?(l=l+_.x,u=l/A):F.height&&(u=u+_.y,l=u*A),c[0]=l/b*100,{...i,scale:c.join(""),width:l,height:u,scaleArray:c,overSize:d,atLimit:g}};afterScaleChange=(e,i)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let o=(100*(i.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",o),e.setAttribute("freeform-scale",o),this.props.galleryComponent.onItemResize()};onDragStart=(e,i,r)=>{let n=r.draggedMediaItems?.find(x=>this.props.galleryInstance.contains(x))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:o,elWidth:l}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(x=>{x.remove()});let u=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),g=c.filter(x=>x.tagName==="MEDIA-ITEM").indexOf(n),m=o[g],b={x:m?.xPx??0,y:m?.yPx??0},I=this.props.galleryInstance.offsetHeight;this.setState(x=>(Ie.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:b,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:I,isDragging:!0}))};onDragOver=(e,i,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:o,mediaItems:l,magneticSnapMargin:u,magneticSnap:c,attributeArray:d}=this.props,g=r.draggedMediaItems.length>0,m=this.props.galleryInstance.contains(r.dropTarget),b=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(m||this.state.draggedItemIsInsideGallery)?Ie.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(I=>{if(Ie.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),I.isDragging){let x={x:r.cursorPosition.x+-I.dragStartPosition.x+I.scrollDelta.x,y:r.cursorPosition.y+-I.dragStartPosition.y+I.scrollDelta.y},A={x:I.initialPosition.x+x.x,y:I.initialPosition.y+x.y};this.lastPosition||(this.lastPosition=A);let F={width:0,height:0,x1:A.x,x2:A.x,y1:A.y,y2:A.y};if(this.draggedItem.current){let T=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};F.x2=F.x1+T.mediaItemSize.padSize+T.mediaSize.padSize+T.mediaItemSize.width,F.y2=F.y1+T.mediaItemSize.padSize+T.mediaItemSize.height,F.width=T.mediaItemSize.padSize+T.mediaSize.padSize+T.mediaItemSize.width,F.height=T.mediaItemSize.padSize+T.mediaItemSize.height}let E=c?this.calculateMagnetism(this.draggedItem.current,F):{x:0,y:0},M=u*.01*n;Math.abs(E.x)>Math.max(M,6)?E.x=0:E.x!==0&&(A.x=(A.x+E.x)*.5+this.lastPosition.x*.5),Math.abs(E.y)>Math.max(M,6)?E.y=0:E.y!==0&&(A.y=(A.y+E.y)*.5+this.lastPosition.y*.5);let k=Math.abs(E.x)>1||Math.abs(E.y)>1;return this.lastPosition=A,{ghostRect:{significantShift:k,x:A.x,y:A.y,width:F.width,height:F.height},dragDelta:{x:x.x+E.x,y:x.y+E.y}}}else{let x=this.props.galleryInstance.getBoundingClientRect(),A={x:r.cursorPosition.x-x.left,y:r.cursorPosition.y-x.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:A,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,i,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:o,elWidth:l,elHeight:u,magneticSnapMargin:c,attributeMap:d}=this.props,g=Math.round(c*.01*l*32)/32,m=[],b=[],I=[],x={};n.forEach((L,re)=>{let de=d[re];if(L===e)return;I.length=0;let $=L._size;x.x1=de.xPx,x.y1=de.yPx,x.x2=$.mediaItemSize.width+$.mediaItemSize.padSize+x.x1,x.y2=$.mediaItemSize.height+$.mediaItemSize.padSize+x.y1,i.x1<x.x2+g*2&&i.x2>x.x1-g*2&&(x.x2<i.x1||x.x1>i.x2?(I.push(x.y1),I.push(x.y2)):(I.push(x.y1-g),I.push(x.y2+g)),I.forEach(q=>{m.indexOf(q)===-1&&m.push(q)})),I.length=0,i.y1<x.y2+g*2&&i.y2>x.y1-g*2&&(x.y2<i.y1||x.y1>i.y2?(I.push(x.x1),I.push(x.x2)):(I.push(x.x1-g),I.push(x.x2+g)),I.forEach(q=>{b.indexOf(q)===-1&&b.push(q)}))}),m.indexOf(0)===-1&&m.push(0),m.indexOf(u)===-1&&m.push(u),b.indexOf(0)===-1&&b.push(0),b.indexOf(l)===-1&&b.push(l);let A=rn.default.minBy(m,L=>Math.abs(L-i.y1)),F=rn.default.minBy(m,L=>Math.abs(L-i.y2)),E=A-i.y1,M=F-i.y2,k=rn.default.minBy(b,L=>Math.abs(L-i.x1)),T=rn.default.minBy(b,L=>Math.abs(L-i.x2)),_=k-i.x1,ne=T-i.x2;return{x:rn.default.minBy([r.left?9e9:_,r.right?9e9:ne],L=>L!==0?Math.abs(L):9e9),y:rn.default.minBy([r.top?9e9:E,r.bottom?9e9:M],L=>L!==0?Math.abs(L):9e9)}};onDragDrop=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),_e.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(g=>g.tagName==="MEDIA-ITEM"),o=rn.default.sortBy(n,g=>parseFloat(g.getAttribute("freeform-y"))||0),l=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,u=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=o.find(g=>parseFloat(g.getAttribute("freeform-y"))>u);r.draggedMediaItems.forEach((g,m)=>{g.setAttribute("freeform-z",n.length+200+m),g===this.draggedItem.current?(g.setAttribute("freeform-x",l),g.setAttribute("freeform-y",u)):(g.setAttribute("freeform-x",(l+m*5)%80),g.setAttribute("freeform-y",u+m*5)),g.hasAttribute("freeform-scale")||g.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(g,d),g.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=rn.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,i,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!rn.default.isEqual(e,i)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");rn.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=rn.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=i[0]?.hasAttribute("freeform-y")?parseFloat(i[0].getAttribute("freeform-y")):0;r!==0&&i.forEach((n,o)=>{let l=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",l-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=rn.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];i.forEach((n,o,l)=>{if(n!=r){for(let u=r,c=0;(u=u.nextElementSibling)&&c<l.length&&u!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(o=>o.tagName==="MEDIA-ITEM").forEach((o,l)=>{let u=i[l],c=u["freeform-x"],d=u["freeform-y"],g=u["freeform-scale"],m=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),b=Math.atan2(d,c-50);o.setAttribute("freeform-x",Math.cos(b)*m*(r*.01)+50),o.setAttribute("freeform-y",Math.sin(b)*m*(r*.01)+50*(r*.01)),o.setAttribute("freeform-scale",r*.01*g)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,i)=>{let r=i.map(n=>{let o=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,l=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:o,y:l}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(i=>{let r=this.props.galleryInstance.querySelector('[slot="'+i.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),o=parseFloat(r.getAttribute("freeform-y")||0);r.setAttribute("freeform-x",n+this.state.transform.x),r.setAttribute("freeform-y",o+this.state.transform.y)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(i=>i._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:i}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let l=i[n]["freeform-x"];r.setAttribute("freeform-x",l+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,o=Array.from(this.props.galleryInstance.children).filter(m=>m.tagName==="MEDIA-ITEM"),l=9e9,u=-9e9;o.forEach((m,b)=>{let I=n[b];l=Math.min(l,I["freeform-x"]),u=Math.max(u,I["freeform-x"]+I["freeform-scale"])});let c=100/(u-l),d=l,g=Math.abs(c*e);if(g>.1)for(;g>5;)g*=.5;o.forEach((m,b)=>{let I=n[b],x=I["freeform-scale"]||30,A=I["freeform-x"],F=I["freeform-y"],E=(A+-d)*c,M=F*c;m.setAttribute("freeform-x",E),m.setAttribute("freeform-y",M),m.setAttribute("freeform-scale",c*x)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":g})})};componentDidMount(){Ie.globalDragEventController.on("dragstart",this.onDragStart),Ie.globalDragEventController.on("dragover",this.onDragOver),Ie.globalDragEventController.on("drop",this.onDragDrop),Ie.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,Ie.globalDragEventController.off("dragstart",this.onDragStart),Ie.globalDragEventController.off("dragover",this.onDragOver),Ie.globalDragEventController.off("drop",this.onDragDrop),Ie.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,i){i.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},PG=LI});var zG,vm,gse,Vi,XI=R(()=>{xe();Fe();Ua();ka();bm();ut();Ze();YG();Ou();Ti();Ni();zG=pe(ve(),1);Ki();Y();vm=class extends oe{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=be()}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-grid":l,"mobile-gutter":u,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":g,"hover-pop":m,"magnetic-snap":b,"magnetic-snap-margin":I}=e;if(l&&e.isMobile)return this.renderedMobileGrid=!0,f(NI,{...this.props,columns:c,gutter:u,verticalAlign:g,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:o});let{elWidth:x}=i,A=0,F=0,E=0,M=Array.from(n.children).filter(re=>re.tagName=="MEDIA-ITEM"),k=[],T=[],_=-1;M.forEach((re,de)=>{let $=!1,q={"freeform-scale":parseFloat(re.getAttribute("freeform-scale")),"freeform-x":parseFloat(re.getAttribute("freeform-x")),"freeform-y":parseFloat(re.getAttribute("freeform-y")),"freeform-z":parseFloat(re.getAttribute("freeform-z"))},B={slot:"slot-"+de,itemResize:this.onItemResize};(isNaN(q["freeform-scale"])||isNaN(q["freeform-x"])||isNaN(q["freeform-y"])||isNaN(q["freeform-z"]))&&($=!0,q["freeform-scale"]=Number.isNaN(parseFloat(re.getAttribute("freeform-scale")))?20:parseFloat(re.getAttribute("freeform-scale")),q["freeform-x"]=Number.isNaN(parseFloat(re.getAttribute("freeform-x")))?E*1.5:parseFloat(re.getAttribute("freeform-x")),q["freeform-x"]=q["freeform-x"]%80,q["freeform-y"]=Number.isNaN(parseFloat(re.getAttribute("freeform-y")))?E*1.5:parseFloat(re.getAttribute("freeform-y")),q["freeform-z"]=9999,E++);let j=parseFloat(q["freeform-x"])*.01*x,K=parseFloat(q["freeform-y"])*.01*x,te=parseInt(q["freeform-z"]),se=parseFloat(q["freeform-scale"])*.01*x,z=se,V=re._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};z=V.mediaItemSize.height+V.mediaItemSize.padSize,A=Math.max(K+z,A),$||(_=de,F=A),q.widthPx=se,q.xPx=j,q.yPx=K,q.z=te,q.writeAttributes=B,T.push(q)});let ne=100*(F/x),Z=0;for(var L=_+1;L<T.length;L++){let de=M[L]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},$=de.mediaItemSize.height+de.mediaItemSize.padSize,q=Z*1.5+ne,B=q*.01*x;T[L]["freeform-y"]=q,T[L].yPx=B,A=Math.max(T[L].yPx+$,A),Z++}return T.forEach((re,de)=>{let $=M[de],{widthPx:q,yPx:B,xPx:j,z:K,writeAttributes:te}=re,se=$._props||{};this.renderedMobileGrid&&(se.itemResize=null),yo($,{...se,...te},se,!1,!1),k.push({width:q+"px","--base-translate":`translate(${Math.floor(j)}px, ${Math.floor(B)}px)`,"--z-index":K+1})}),this.renderedMobileGrid=!1,f(ee,{children:[this.props.children,ze(f(ee,{children:[f("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${A}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${k.map((re,de)=>`::slotted(media-item[slot="slot-${de}"]){
							width: ${re.width};
							--base-translate: ${re["--base-translate"]};
							--z-index: ${re["--z-index"]};
						} `).join("")}						
					
					${m?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),f(ee,{children:[f("div",{id:"freeform-holder",ref:this.holderRef,children:M.map((re,de)=>f("slot",{name:`slot-${de}`}))}),f(Dr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&o.isEditing&&!U.isServer&&f(PG,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:Vi.mediaItemOptions,disabledMediaItemOptions:Vi.disabledMediaItemOptions,mediaItems:M,elWidth:x,elHeight:A,hoverPop:m,magneticSnap:b,magneticSnapMargin:I,attributeMap:T})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,i){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},gse=_t(Ao(De((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(vm)));ei(gse,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});Vi={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(t){if(t==0)return;let e=this.state.galleryParent;e&&(clearTimeout(this.commitXShift),this.commitXShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(t){if(t==0)return;let e=this.state.galleryParent;!this.state.canMutate||!e||(clearTimeout(this.commitYShift),this.commitYShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform"),i=zG.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+i.length)})})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};Vi.mediaItemDefaults=U.collapseOptions(Vi.mediaItemOptions);Vi.defaults=U.collapseOptions(Vi.options);Vi.mobileDefaults=U.collapseOptions(Vi.mobileOptions);vm.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":Vi.defaults["magnetic-snap"].value,"magnetic-snap-margin":Vi.defaults["magnetic-snap-margin"].value,"hover-pop":Vi.defaults["hover-pop"].value,"mobile-grid":Vi.mobileDefaults["mobile-grid"].value,"mobile-gutter":Vi.mobileDefaults["mobile-gutter"].value,"mobile-columns":Vi.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":Vi.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":Vi.mobileDefaults["mobile-vertical-align"].value}});var QG,BI,jG,JG=R(()=>{xe();QG=pe(ve(),1);Dt();Mi();Wu();Y();BI=class extends oe{constructor(e){super(e),this.state={}}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,mediaItems:l}=e;return f(Io,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.renderBracket}})}onBracketClick=(e,i,r)=>{this.dragStarted||(r&&(r.preventDefault(),_e.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)i.removeAttribute("justify-row-end");else{let n=i.previousSibling,o=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;i.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,i)=>{let{gutterWidth:r,gutterHeight:n}=this.props,o=i.assignedSlot;if(!o)return null;let l=o.parentElement.lastChild==o,u=i.getAttribute("justify-row-end")==="true",c="pointer";return u||(c="e-resize"),f("div",{className:`justify-bracket${u?" row-end":""}`,style:{"--media-item-pad":-i._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(u,i,d)},onMouseDown:d=>{this.onMouseDown(i,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,i)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;i.preventDefault();let o=r.parentElement,l=Array.from(o.children);this.delta=0,this.initialPoint=i.clientX,this.rowItems=l,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:i}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){_e.setHoveredElements([this.props.galleryInstance]),_e.lock(),document.body.classList.add("dragging");let r=i[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=i.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=QG.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:i,rowAlign:r}=this.props,n=e/12,o=Math.round(this.delta/n);(r=="fill"||r=="right")&&(o=o*-1);let l=Math.max(o+this.rowItems.length,1);_e.setHoveredElements([this.props.galleryInstance]),_e.lock(),this.attrCache.forEach((u,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+l&&(u=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+l+-1)&&(u=!0));let d=i[c],g=d.getAttribute("justify-row-end");u&&g!=="true"?d.setAttribute("justify-row-end",u):!u&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{_e.unlock(),_e.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,i,r)=>{let n=!1,o=i,l=e[e.length-1],u=e[0];for(;l&&e.indexOf(l)>-1;)l=l.nextElementSibling;for(;u&&e.indexOf(u)>-1;)u=u.previousElementSibling;r.left>-1&&r.right>-1?(i===e[e.length-1]&&(l=e[e.length-1]),i===e[0].nextElementSibling&&(u=e[0])):r.left>-1&&r.right==-1?l=null:r.right>-1&&r.left==-1&&(u=null),u&&r.left>-1&&(u.getAttribute("justify-row-end")=="true"||u.getAttribute("justify-row-end")==!0)&&(u.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},jG=BI});var DI,Im,xn,fse,TI=R(()=>{xe();Fe();Ua();Fe();ka();ut();Ou();Ze();Ki();JG();Ni();Ti();DI=pe(ve(),1);Y();Im=class extends xi{constructor(e){super(e),this.state={isMobile:qe.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=be(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+150;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:o,elHeight:l,isMobile:u,hasSizes:c}=i,{children:d,adminMode:g,pageInfo:m,baseNode:b}=e,{elWidth:I}=i;c||(I=this.props.baseNode.offsetWidth);let{"row-align":x,"row-height":A,gutter:F}=e;F=u&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let E="";u&&this.props["mobile-row-align"]!==void 0&&(x=this.props["mobile-row-align"],E="mobile-"),u&&this.props["mobile-row-height"]!==void 0&&(A=this.props["mobile-row-height"]);let M=F.split(" "),k=(M.length>1,M[0]);k.includes("rem")&&u&&(k="calc( var(--mobile-padding-offset, 1) * "+k+" )");let T=M.length>1?M[1]:M[0];T.includes("rem")&&u&&(T="calc( var(--mobile-padding-offset, 1) * "+T+" )");let _=U.getCSSValueAndUnit(A,"%").join(""),ne=this.getMediaItems(),Z=ne.slice(0,this.state.renderLimit),L=this.brickLayout(Z),re=[];return ne.forEach((de,$)=>{let q=L.attributes[$]||{slot:null},B=de._props||{};yo(de,{...B,...q},B,!1,!1)}),f(ee,{children:[f(ee,{children:this.props.children}),ze(f(ee,{children:[f("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${L.shadowStyleMap.map((de,$)=>`::slotted(media-item[slot="slot-${$}"]){
		${de.style};
		${de.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${de.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${de.itemStatuses.lastChild&&!de.itemStatuses.orphanRow&&x==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${I+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${L.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${E}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${E}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${E}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${E}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${E}row-align="center"]) ::slotted(media-item.last-child),
:host([${E}row-align="left"]) ::slotted(media-item.last-child),
:host([${E}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),f(Dr,{values:{targetPxHeight:_,gutterPixelWidth:k,gutterHeight:T,elWidth:"100%"},onResize:this.onResize}),L.shadow,g&&m.isEditing&&!U.isServer&&f(jG,{...e,gallerySpecificAttributes:["justify-row-end"],galleryInstance:b,gutterWidth:r,gutterHeight:n,elWidth:I,rowHeight:_,rowAlign:x,mediaItems:ne,incrementLayout:this.onItemResize}),f("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,i)=>{e==="targetPxHeight"&&(i=Math.max(i,10)),this.setState({[e]:i,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){qe.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:xn.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){qe.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};brickLayout=e=>{let i=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let o={},l=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],u=!1,c=e.map((k,T)=>{let _=this.getItemSize(k,l);return this.getItemSize(k,l)});for(let k=c.length-1;k>=0;k--){let T=c[k];T.rowEnd||u?(T.inDesignatedRow=!0,u=!0):T.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,o,c),this.findValidRowCache=null;let d=[],g=DI.default.keys(o).sort(function(k,T){return parseInt(k)-parseInt(T)}),m=g[g.length-1];for(;m!=null;){let k=o[m];o[k.parent]&&(o[k.parent].path=o[k.parent].edges[m]),d.unshift(k),m=k.parent}let b=[],I=[],x=[],A=this.state.targetPxHeight,F=this.state.elWidth,E=this.state.gutterPixelWidth,M=0;return d.forEach((k,T)=>{let _=k.path,ne=[];if(!_)return;let Z=0,L=!1;for(let re=_.startIndex;re<_.breakBefore;re++){let de=e[re],$=_.breakBefore-_.startIndex,q=re+1==_.breakBefore,B=this.getItemSize(de,!1),j=B.mediaSize.padSize+B.mediaItemSize.padSize,K=(A+-j)/B.height||1,te,se;te=B.width*K+j,se=B.height*K+B.mediaSize.padSize;let z=F+-_.rowWidth;if(n!=="fill"||L)z=Math.min(0,z),M=_.rowWidth;else if(z/F>.5&&q&&T==0&&!_.position=="forcebreak"){L=!0,re=_.startIndex-1;continue}if(z!==0){let ce=(te+-j)/_.contentWidth,ge=_.rowWidth-_.contentWidth,fe=F-ge;te=ce*fe,se=te*(B.height/B.width)+B.mediaSize.padSize,te=te+j}te=Math.floor(te*i)/i,Z=se;let V={},ie="";re==_.startIndex&&(V.firstChild=!0),re+1==_.breakBefore&&(V.lastChild=!0),T+2==d.length&&(V.lastRow=!0),V.orphanRow=L,x[re]={style:`width: ${te}px`,itemStatuses:V},I[re]={slot:`slot-${re}`,itemResize:this.onItemResize},ne[re]=f("slot",{name:`slot-${re}`},`slot-${re}`)}Z=Math.floor(Z*i)/i,b.push(f("div",{className:`justify-row${L?" orphan-row":""}`,style:{"--frame-padding":Z+"px"},children:ne},`justify-row-${T}`))}),{shadow:b,attributes:I,shadowStyleMap:x,orphanRowWidth:M}};findValidRows=(e,i)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,o=0,l=0,u=0,c=0,d={},g=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(g=this.props["mobile-row-align"]);for(let m=e;m<i.length;m++){let b=l,I=u,x=i[m],A=x.mediaSize.padSize+x.mediaItemSize.padSize,F=(this.state.targetPxHeight+-A)/x.height;if(u=x.width*F,l=u+A,m===e?(c=1,n=l,o=l+-A):(n=n+this.state.gutterPixelWidth+l,o=o+u,c++),x.rowEnd){d[m+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:o};break}else if(n>this.state.elWidth){if(x.inDesignatedRow)continue;d[m]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:m,rowWidth:n+-(this.state.gutterPixelWidth+l),contentWidth:o-u},g==="fill"||m===e?d[m+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:o}:m-1>-1&&(d[m-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:m-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+b),contentWidth:o-(u+I)});break}else if(m==i.length-1){g!=="fill"&&m==e?d[m+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:o}:d[m+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:o};break}else c+-2>0&&!x.inDesignatedRow&&g==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:m-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+b),contentWidth:o-(u+I)})}if(d.hasOwnProperty("mid")){let m=d.mid.breakBefore;!d.hasOwnProperty(m)&&i.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let m in d){let b=d[m],I=b.rowWidth/this.state.elWidth;b.distance=Math.abs(1-I)*Math.abs(1-I)*Math.abs(1-I),isNaN(b.penalty)||(b.distance=b.distance+b.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,i,r,n,o)=>{if(e===-1)return;let l={index:parseInt(e),edges:this.findValidRows(e,o),distanceToFirstNode:i,parent:r},u=!1;if(n[e]?l.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=l,u=!0):(n[e]=l,u=!0),u){let c=DI.default.keys(l.edges);for(let d=0;d<c.length;d++){let g=l.edges[c[d]];this.makeNodes(parseInt(c[d]),g.distance+l.distanceToFirstNode,l.index,n,o)}}};getItemSize=(e,i)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(r.width)&&(r.width=300),isNaN(r.height)&&(r.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!i;return{...r,rowEnd:n}}},xn={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(i=>i.hasAttribute("justify-row-end")||i.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(i=>{i.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};xn.mediaItemDefaults=U.collapseOptions(xn.mediaItemOptions);xn.defaults=U.collapseOptions(xn.options);xn.mobileDefaults=U.collapseOptions(xn.mobileOptions);Im.defaultProps={"show-tags":!0,"show-title":!0,gutter:xn.defaults.gutter.value,"row-align":xn.defaults["row-align"].value,"row-height":xn.defaults["row-height"].value,"mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};fse=_t(Ao(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Im)));ei(fse,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function mse(t,e){let i=e.pid;return{isMobileOnly:t.site.mobile_homepage_id==i||t.pages.byId[i]&&t.pages.byId[i].pin&&t.pages.byId[i].pin_options.screen_visibility==="mobile"}}var sr,ym,MI,qG,KG=R(()=>{xe();ut();Ti();Fe();Dt();Mi();Va();vo();Ni();Ze();sr=pe(ve(),1);Y();ym=new Set;U.isServer||(window.addEventListener("mousedown",t=>{ym.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{ym.forEach(e=>{e.setState({noPointerEvents:!1})})}));MI=class extends oe{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=be(),this.gearReaf=be(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=sr.default.debounce(this.saveColumnSettings,150),this.updateColumns=sr.default.throttle(this.updateColumns,40)}render(e,i){let{emptyColumns:r,gutter:n,columnSpans:o,displaySpans:l,layoutColumns:u,unitsToRemove:c,isMobile:d,mobileStack:g,mobileHideEmpty:m,elWidth:b,gutterWidth:I}=e,{activeIndex:x,delta:A,isDraggingHandle:F,adminWindow:E,showGhost:M,loaded:k,buttonHovered:T,focused:_,noPointerEvents:ne}=i,Z=sr.default.uniq(r).length==1&&r[0]==!0,L=sr.default.uniq(o).length==1&&o[0]==null,re=(b-I*(u-1))/u,de=o.length<u,$=[],B=u%o.length==0||!L?u:o.length-c;d&&g&&(B=1);let j=Math.max(0,(b-I*(B-1))/B),K=Math.max(1,I);j=j-(K-I);let te=23;for(let se=0;se<B;se++){let z=(j+K)*se;$.push(f("div",{className:"ghost-span",style:{transform:`translateX(${z}px)`,opacity:M?.04:0,width:j+"px"}},`ghost-${se}`))}return f(ee,{children:[f(Zi,{baseNode:this.props.columnInstance}),f("style",{children:r.map((se,z)=>se?`
				::slotted(column-unit:nth-child(${z+1})){
					min-height: 1em;
				}`:"").join(`
`)}),f(Tr,{onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:te,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:se=>{let{pointerAttention:z,overlayPosition:V}=se,ie=0,le=0,ce=-te,ge=2;return V.y<=te&&(ce=V.height+1,V.height+V.y>qe.data.window.h+-te&&(ce=-V.y+qe.data.window.h+-te+1,ge=0)),f("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${z?" hover":""}${z?" button-hover":""}${_?" focus":""}`,style:{transform:`translate3d(${V.x}px, ${V.y}px, 0)`,width:V.width+"px",height:V.height+"px",display:z||T||_?"block":"none"},children:[(z||_||T)&&$,(z||_||T)&&!(d&&g)?o.map((fe,We)=>{let Ee=l[We];if(fe||(fe=u/o.length),We==o.length-1||Ee=="hide"||(ie+=fe,ie>=u))return null;le+=re*fe+(fe-1)*I+I;let Be=`${le+-I*.5}px`,ke=this.handleWidth*-.5;return I<=this.handleWidth-this.minHandleOverlap&&(ke=I*-.5+-this.minHandleOverlap),f(ee,{children:[de&&We<u&&f("div",{style:{pointerEvents:ne?"none":"auto",display:z||_||T?"block":"none",transform:`translateX(${Be})`,width:this.handleWidth+"px",marginLeft:`${ke}px`},className:"column-divider-handle",onMouseDown:at=>this.onMouseDown(at,We)}),f("div",{style:{display:z||_||T?"block":"none",transform:`translateX(${Be})`,transition:F?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${We}`)]})}):null,f("div",{className:"in-editor-buttons",style:{pointerEvents:ne?"none":"auto",transform:`translate(${ge}px, ${ce}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:f("div",{className:"pointer-mask",children:[f("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!d||this.props.isMobileOnly)&&f(ee,{children:[f("button",{onMouseDown:this.removeColumn,className:"remove",children:f("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:f("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),f("button",{onMouseDown:this.addColumn,className:`add ${o.length>=this.maxColumns?"disabled":""}`,children:f("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[f("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),f("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:i.x+0,y:r.y+-190,left:i.left+0,right:i.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:i.width,height:i.height};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let i=this.columnCache.pop()||document.createElement("column-unit");i.removeAttribute("span"),i.removeAttribute("slot"),i.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(i),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let i=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(i){let o=r[r.length-2];Array.from(n.childNodes).forEach(l=>{o.appendChild(l)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(o=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,i)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:i,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),Ie.adminWindow.addEventListener("pointermove",this.onPointerMove),Ie.adminWindow.addEventListener("pointercancel",this.onPointerUp),Ie.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),Ie.adminWindow.removeEventListener("pointermove",this.onPointerMove),Ie.adminWindow.removeEventListener("pointercancel",this.onPointerUp),Ie.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:i,pointerStart:r,instanceRect:n,referenceColumnSpans:o,isDraggingHandle:l}=this.state,{gutterWidth:u,displaySpans:c,unitsToRemove:d,layoutColumns:g,units:m}=this.props;if(l){let b=[...o];if(sr.default.uniq(o).length==1&&o[0]==null){let L=0,re=0,de=0,$=m/b.length-Math.floor(m/b.length),q=Math.floor(m/b.length),B=b.map((j,K)=>{re=re+$;let te=q;return re>1&&(te=te+1,re=re-1),K==b.length-1&&(te=m-L),L=L+te,te});this.setState({referenceColumnSpans:B});return}let x=(n.width-u*(g-1))/g,A=0,F=[];b.forEach((L,re)=>{L||(L=g/b.length);let de=x*L+(L-1)*u;(re==i||re==i+1)&&F.push({x:A,width:de}),c[re]!="hide"&&(A+=de+u)});let E=20,{left:M}=n,k={x:e.clientX-(F[1].x+M+-u*.5),y:e.clientY-r.y},T=b.map((L,re)=>{let de=L,$=x*L+(L-1)*u;return re==i?(de=($+k.x+u)/(x+u),Math.round(Math.max(Math.min(de,m-1),1))):c[re]=="hide"?L:Math.round(Math.max(Math.min(de,m-1),1))}),_=i+1;for(;c[_]=="hide";)_++;let ne=sr.default.sum(T)-T[_];T[_]=m-ne,T[_]==0&&(T[_]+=1,T[i]-=1),sr.default.uniq(T).length==1&&sr.default.sum(T)==m&&(T=T.map(L=>{})),Math.abs(k.x)>4&&this.updateColumns(T),this.setState({delta:k})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:i,units:r}=this.props;if(i.length==0||sr.default.uniq(i).length==1&&i[0]==null)return;let o=i.includes(void 0),l=sr.default.sum(i),u=[...i],c=!1;if(l!=r||o){if(l>r)c=!0;else if(l<=r)if(o){let g=r-l,m=i.filter(I=>I==null).length,b=Math.floor(g/m);i.forEach((I,x)=>{if(x==i.length-1&&g>0)u[x]=g;else if(I==null&&g==0){let A=x;for(;A>=0&&i[A]<2||i[A]==null;)A--;i[A]>1?(u[x]=Math.floor(i[A]/2),u[A]=i[A]-u[x]):c=!0}else I==null?(u[x]=b,g-=b):u[x]=I})}else{let g=r-l;u[u.length-1]=g+u[u.length-1]}(sr.default.uniq(u).length==1&&sr.default.sum(u)==r||c)&&(u=u.map(g=>{})),this.updateColumns(u)}else this.updateColumns(i)};updateColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];i.forEach((n,o)=>{e[o]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[o]&&r.push([n,e[o]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,o])=>{o===null?n.removeAttribute("span"):n.setAttribute("span",o)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{Ie.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,i,r)=>{r.fromOutside&&!r.inAdmin?(_e.activateHoverElement(this.props.columnInstance),_e.lockItem(this.props.columnInstance)):(_e.unlockItem(this.props.columnInstance),_e.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,i,r)=>{_e.activateHoverElement(this.props.columnInstance),_e.lockItem(this.props.columnInstance)};onDragEnd=(e,i)=>{_e.unlockItem(this.props.columnInstance),_e.testHover()};componentDidUpdate(e,i){(!sr.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=sr.default.throttle(()=>{_e.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:sr.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let i=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0)}),i&&(this.columnObserver.disconnect(),i&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let i=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(i=!0)}),i&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(o=>o.tagName=="COLUMN-UNIT"),r=i.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let o=this.columnCache.pop()||document.createElement("column-unit");o.removeAttribute("span"),this.props.columnInstance.appendChild(o)}else if(e<r)for(var n=r-1;n>=e;n--){let l=i[n];this.columnCache.push(l.cloneNode(!0)),l.setAttribute("data-discarded-column",!0),l.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){ym.add(this),Ie.globalDragEventController.on("dragover",this.onDragOver),Ie.globalDragEventController.on("dragstart",this.onDragStart),Ie.globalDragEventController.on("dragend",this.onDragEnd),Ie.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let i=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),i.push(r))}),i.length>0&&console.warn("removed stray elements from column set",i),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,_e.activateHoverElement(this.props.columnInstance),_e.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{_e.unlockItem(this.props.columnInstance),_e.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{_e.testHover()},300)}componentWillUnmount(){ym.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),Ie.globalDragEventController.off("dragover",this.onDragOver),Ie.globalDragEventController.off("dragstart",this.onDragStart),Ie.globalDragEventController.off("dragend",this.onDragEnd),Ie.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};qG=_t(De(mse,null)(MI))});var $G,Am,bse,eL=R(()=>{xe();Fe();ut();Ze();ka();Ni();Ys();Ua();$G=pe(ve(),1);Ki();Ti();Ps();KG();Y();Am=class extends oe{constructor(e){super(e),this.state={mobileActive:qe.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-stack":l,"mobile-hide-empty":u,"mobile-gutter":c,units:d}=e,{gutterWidth:g,mobileActive:m,hasSizes:b}=i,{elWidth:I}=i;b||(I=this.props.baseNode.offsetWidth);let x=[],A="";m?c===void 0?(x=U.getCSSValueAndUnit(e.gutter,"rem"),x[1].indexOf("calc(")>-1?A=x[1].replace("calc(","("):A=x.join(""),A="calc( var(--mobile-padding-offset, 1) * "+A+" )"):(x=U.getCSSValueAndUnit(c,"rem"),A=x.join(""),A.includes("rem")&&(A="calc( var(--mobile-padding-offset, 1) * "+A+" )")):(x=U.getCSSValueAndUnit(e.gutter,"rem"),A=x.join(""));let F=Array.from(n.children).filter(q=>q.nodeName==="COLUMN-UNIT"&&!q.hasAttribute("data-discarded-column"));Array.from(n.children).filter(q=>q.nodeName==="COLUMN-UNIT"&&q.hasAttribute("data-discarded-column")).forEach(q=>{q.remove()});let M=F.map(q=>!Array.from(q.childNodes).some(B=>B.nodeType===Node.ELEMENT_NODE||B.nodeType===Node.TEXT_NODE&&B.nodeValue.trim().length>0)),k=F.map(q=>parseInt(q.getAttribute("span"))||void 0),T=0,_=k.map((q,B)=>(m&&M[B]&&(u||l)?(T=T+(parseInt(q)||1),q="hide"):q=q||"uniform",q)),ne=_.filter(q=>q=="uniform"||q=="hide").length==_.length,Z=Math.max(F.length,this.props.units);ne&&(T=_.filter(q=>q=="hide").length),Z=Z-T;let{columnAndGutterMap:L,columnWidth:re,gutterPixelWidth:de}=Nu(ne?F.length-T:Z,g,I),$="";if(m&&l){$=`::slotted(column-unit){
				--column-width: ${I}px;
				--resize-parent-width: ${I}px;

			}`;let q=$G.default.findLastIndex(_,B=>B!=="hide");_.forEach((B,j)=>{B=="hide"?$+=`
					::slotted(column-unit[slot="${j}"]) {
						display: none;
					}`:j<q&&($+=`
					::slotted(column-unit[slot="${j}"]) {
						margin-bottom: ${de}px;
					}`)})}else{let q=0;$=_.map((B,j)=>{let K,te;switch(B){case"uniform":return K=L[q]?.right-L[q]?.left||10,q+=1,`::slotted(column-unit[slot="${j}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`;case"hide":return`::slotted(column-unit[slot="${j}"]) {
							display: none;
						}`;default:return K=L[q+(B+-1)]?.right-L[q]?.left||10,q+=B,`::slotted(column-unit[slot="${j}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`}}).join(`
				`)}return F.forEach((q,B)=>{q.setAttribute("slot",B)}),ze(f(ee,{children:[f(yn,{adminMode:r,baseNode:n,customElementMode:!0,children:[f("style",{children:`
						:host{
							visibility: ${b?"visible":"hidden"};
			 				--columns-gutter: ${de}px;
							margin-top: calc(var(--gutter-expand, 0) * ${de}px);
		
							position: relative;
							display: block;
							contain: layout;
						}
						.column-host {
							${m&&l?`
									display: block;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
							position: relative;
							width: 100%;
							clear: both;
						}				
					`}),f("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${m&&l?0:de+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--column-width);
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${$}				
					`}),f(Dr,{values:{elWidth:"100%",gutterWidth:A},onResize:this.onResize}),f("div",{class:"column-host",children:F.map((q,B)=>f("slot",{name:B}))})]}),r&&o.isEditing&&!U.isServer&&f(qG,{elWidth:I,gutterWidth:g,emptyColumns:M,isMobile:m,mobileStack:l,mobileHideEmpty:u,layoutColumns:Z,units:d,columnSpans:k,unitsToRemove:T,displaySpans:_,gutter:A,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){qe.on("mobile-change",this.onMobileChange)}componentWillUnmount(){qe.off("mobile-change",this.onMobileChange)}};Am.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};bse=_t(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Am));ei(bse,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var SOe,ZI,tL,iL=R(()=>{xe();Fe();Dt();Va();Mi();SOe=pe(ve(),1);vo();Y();ZI=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i,c=23;return f(ee,{children:[f("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),f(Tr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:g,overlayPosition:m}=d,b=0;return m.y<=1&&(b=Math.min(-m.y+1,m.height+-c+1)),f(ee,{children:[f(Zi,{baseNode:r,overlayPosition:m,inFront:!1,overlayMode:!0}),f("div",{className:`editor-overlay editor-outline${g?" hover":""}${g?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${m.x}px, ${m.y}px, 0)`,width:m.width+"px",height:m.height+"px",display:g||l||u?"block":"none",minHeight:"27px"},children:[f("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${b}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[f("button",{onMouseDown:I=>{this.launchUIWindow(I)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},tL=ZI});var BOe,_I,Kd,kI,Cse,rL=R(()=>{xe();Fe();xs();BOe=pe(ve(),1);Ze();ut();Ki();Ti();iL();Y();U.isServer||(_I=new ResizeObserver(t=>{t.forEach(e=>{if(Kd.has(e.target)){let i=Kd.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));Kd=new Map,kI=class extends oe{constructor(e){super(e);let i=this.getFiletype(e.src);this.audio_track=be(),this.bar=be(),this.track_buffer=be(),this.current_time=be(),this.progressIndicator=be(),this.state={size:{width:100,height:100},mounted:i!=="stream",filetype:i,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,i){let{baseNode:r,adminMode:n,label:o,loop:l,"total-time":u,"playback-time":c,"seek-controls":d,"browser-default":g,pageInfo:m}=e,{visible:b}=i,I=!this.state.paused||this.state.started,x=this.props.src?this.props.src:null;return ze(f(ee,{children:[n&&m.isEditing&&f(tL,{audioPlayerInstance:r}),f("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${g?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${g&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${I&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${I&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${I&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),f("div",{part:"button",onClick:A=>this.togglePlay(A),children:f("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?f("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):f(ee,{children:[f("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),f("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),f("div",{part:"separator",children:"\xA0"}),f("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:A=>this.onMouseDown(A),onTouchStart:A=>this.onMouseDown(A),onTouchEnd:A=>this.onMouseUp(A),children:[f("div",{ref:this.track_buffer,part:"buffer",children:" "}),f("div",{part:"progress",children:f("div",{ref:this.progressIndicator,part:"progress-indicator"})}),f("div",{part:"label",children:this.state.hasError?"Unable to load file":f(ee,{children:this.props.label})}),f("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),f("div",{part:"stream-anim",children:[f("span",{part:"animated-period period-one"}),f("span",{part:"animated-period period-two"}),f("span",{part:"animated-period period-three"})]}),f("div",{part:"total-time",children:this.state.totalTime})]}),f("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:g===!0,src:this.state.mounted?x:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onProgress:A=>this.onProgress(A),onLoadedMetaData:A=>this.onLoadedMetadata(A),onTimeUpdate:A=>this.updatePlayerTime(A),onSeeking:A=>this.onSeekStart(A),onSeeked:A=>this.onSeekEnd(A),onEnded:A=>this.onTrackEnd(A),onError:A=>this.onError(A),onCanPlay:A=>this.clearError(A)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,i)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",i?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let i=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<i.left?this.audio_track.current.currentTime=0:r>i.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-i.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),document.body.classList.remove("audio-player-dragging"),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let i=this.audio_track.current.play();Kd.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),i?i.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let i=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:i,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})};onProgress=e=>{this.audio_track.current&&(this.state.filetype==="stream"?this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")}):this.setState({streaming:!1},()=>{this.props.baseNode.setAttribute("status","playing")}),this.updateBufferSize())};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":i}=this.props;if(i)return;let r=!1,n=this.audio_track.current.currentTime,o=this.timestampToHumanReadable(n),l=n/this.audio_track.current.duration*100,u=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(l>=99.5||l===0)&&(r=!0),u*(l/100)<c&&(l=(100-l)*(c/u)),this.setState(d=>{let g=l;return d.dragging&&Math.abs(d.currentProgress-l)>1&&(g=l*.1+d.currentProgress*.9),this.updateBufferSize(.01*g*this.audio_track.current.duration),{currentTime:o,currentBuffer:g,currentProgress:g,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let i=!1;try{i=new URL(e).pathname.split("/").pop()?.indexOf(".")>-1}catch(n){console.error(n)}return i&&["m3u","pls","m3u8","asx"].some(n=>e.toLowerCase().endsWith(n))?"playlist":i?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let i,r=e||this.audio_track.current.currentTime,n=0;for(var o=0;o<this.audio_track.current.buffered.length;o++)if(r>=this.audio_track.current.buffered.start(o)&&r<=this.audio_track.current.buffered.end(o)){i=Math.max(this.audio_track.current.buffered.end(o)-r,0),n=i/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var i=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return i<10&&(i="0"+i),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+i):r+":"+i};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.state.mounted||setTimeout(()=>{console.log("mounting",this.state.filetype),this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),U.isServer||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),Kd.set(this.bar.current,this),_I.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&(this.setState({filetype:this.props.src}),e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){U.isServer||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),Kd.delete(this.bar.current),_I.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},Cse=_t(De((t,e)=>({adminMode:t.frontendState.adminMode}))(kI));ei(Cse,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var UI,vse,Ise,Du,VI,HI,nL,oL=R(()=>{xe();Fe();Dt();Va();Mi();vo();Ze();UI=pe(ve(),1);Y();vse=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],Ise={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},Du=new Set,VI=UI.default.debounce(()=>{let t=Array.from(Du),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(u=>{let c;return u.state.selected?c=u.props.baseNode.getBoundingClientRect():c={top:-9e9},{component:u,rect:c}});e=UI.default.sortBy(o,(u,c)=>u.rect.top);let l=e.filter(u=>u.component.state.selected);r=l[l.length-1].rect.bottom+-l[0].rect.top,e=e.map(u=>u.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r}),n=!0)})},100);U.isServer||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",VI):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",VI)}),document.addEventListener("selectionchange",VI));HI=class extends oe{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,i){let{}=e,{UIWindow:r,showMultipleSelectionButton:n,partOfMultipleSelection:o,pointerProxyAttention:l,fontSizePx:u,lineHeightPx:c}=i,d,g=0,m=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return f(ee,{children:[f("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),f(Zi,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),f(Tr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:b=>{let{pointerAttention:I,overlayPosition:x}=b,A=0;return x.y<=1&&(A=Math.min(-x.y+1,x.height+-g+1)),n&&o?d=f("button",{style:{transform:`translateY(${A}px)`},"data-editor-overlay":"true",class:`${x.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!o&&(d=f("button",{style:{transform:`translateY(${A}px)`},"data-editor-overlay":"true",class:`${x.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:f("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),f("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),f("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),f("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),f("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),f(ee,{children:f("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${I||r?" hover":""}${I||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${x.x}px, ${x.y}px, 0)`,width:x.width+"px",height:m?this.state.multiSelectHeight:x.height+"px"},children:[d,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let i=this.props.clockInstance.getBoundingClientRect(),r=document.documentElement.clientHeight,n=document.documentElement.clientWidth,o=this.props.clockInstance.getAttribute("value"),u=vse.includes(o)||o?.indexOf?.("{")===-1?270:360,c=220,d=15,g=i.left,m=i.top,b={x:i.left,y:i.top,left:i.left,right:i.left,top:i.top,bottom:i.top+27,width:0,height:10};r-i.bottom>u+d?m=i.top+i.height+d:r-(i.bottom+-i.height*.5)>u+d?m=i.top+i.height*.5+d:i.top>u+-d&&(m=i.top+-u+-d),n-i.left<c&&(g=i.left-c),b.x=g,b.left=g,b.right=g,b.width=0,b.height=0,b.y=m,b.top=m,b.bottom=m,Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:b,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(Du).filter(I=>I.state.selected||I.props.clockInstance===this.props.clockInstance).map(I=>I.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&Du.forEach(i=>{i.state.showMultipleSelectionButton&&i.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Du.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){Du.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),Du.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,i){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:Ise.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},nL=HI});var CGe,$d,wm,yse,Ase,wse,aL,xm,xse,sL=R(()=>{xe();Fe();ut();Ze();Ti();Ni();tn();oL();CGe=pe(ve(),1);Ki();Y();$d=new Set,wm=null,yse=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ase=["january","february","march","april","may","june","july","august","september","october","november","december"],wse=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],aL=t=>{$d.forEach(e=>{let i=new Date;e.updateTime(i)}),wm=requestAnimationFrame(aL)},xm=class extends oe{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var i=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(r[+i.pop()+o*10]||"")+n;return Array(+i.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,i)=>{switch(e){case"{time-of-day}":return f("span",{part:"time-of-day section"},"time-of-day-"+i);case"{day-of-month}":return f("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+i);case"{ordinal}":return f("span",{part:"ordinal section"},"ordinal"+i);case"{month}":return f("span",{part:"month section",children:this.state.month},"month-"+i);case"{day}":return f("span",{part:"day section"},"day-"+i);case"{roman-year}":return f("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+i);case"{centisecond}":return f("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+i);case"{year}":return f("span",{part:"year section",children:this.state.year},"year-"+i);case"{month-name}":return f("span",{part:"month-name section"},"month-name-"+i);case"{hour}":return f("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+i);case"{minute}":return f("span",{part:"minute section",children:this.state.minute},"minute-"+i);case"{second}":return f("span",{part:"second section",children:this.state.second},"second-"+i);case"{period}":return f("span",{part:"period section"},"period-"+i)}return null};updateTime=e=>{let i=this.props["pad-hour"]||this.props.pad,r=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,o=this.props["pad-day-of-month"]||this.props.pad,l=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let F=e.getTimezoneOffset(),E=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let T=this.props.timezone.split(":");T.length=2,E=parseFloat(T[0])+parseFloat(T[1]||0)/60}let M=-(-F-parseFloat(E*60))||0,k=Date.now();e=new Date(k+M*6e4)}let u=o?this.pad(e.getDate()):e.getDate(),c=yse[e.getDay()],d=e.getMonth(),g=e.getFullYear(),m=e.getHours(),b=e.getMinutes(),I=e.getSeconds(),x=e.getMilliseconds(),A=Math.floor(m/3)*3;this.setState({day:c,"day-of-month":u,"time-of-day":A+"-"+(parseInt(A)+3),ordinal:u,"month-name":Ase[d],month:l?this.pad(d+1):d+1,romanYear:this.romanize(g),year:this.props["truncate-year"]?g.toString().substring(2,4):g,period:m>=12?"pm":"am","12hour":i?this.pad(m%12==0?12:m%12):m%12==0?12:m%12,"24hour":i?this.pad(m):m,minute:r?this.pad(b):b,second:n?this.pad(I):I,centisecond:this.pad(Math.floor(x/10))})};render(e,i){let{pageInfo:r,adminMode:n,value:o}=this.props,l=[],u;if(o.indexOf("{")==-1&&(u=this.dateTerms("{"+o+"}")),u)l.push(u);else{let c=new RegExp("{"+wse.join("}|{")+"}","gi"),d=[...o.matchAll(c)],g=0;d.length==0?l.push(this.dateTerms("{second}")):d.forEach((m,b)=>{let I=this.dateTerms(m[0],m.index);I&&(g!=m.index&&l.push(f("span",{part:"text",children:o.substring(g,m.index)},m.index)),g=m.index+m[0].length,l.push(I)),b===d.length-1&&l.push(f("span",{part:"text",children:o.substring(g,o.length)},m.index+"-last"))})}return ze(f(ee,{children:[n&&r.isEditing&&!U.isServer&&f(nL,{...this.props,clockInstance:this.props.baseNode}),f("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),l]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let i=e.position==="inside";this.setState({visible:i})};componentDidMount(){pi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),$d.size==0&&(cancelAnimationFrame(wm),wm=requestAnimationFrame(aL)),this.updateTime(new Date),$d.add(this)}componentDidUpdate(e,i){}componentWillUnmount(){vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),$d.delete(this),$d.size==0&&cancelAnimationFrame(wm)}};xm.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};xse=_t(De((t,e)=>({adminMode:t.frontendState.adminMode}))(xm));ei(xse,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var LGe,PI,YI,lL=R(()=>{xe();Fe();Dt();Va();Mi();LGe=pe(ve(),1);vo();Y();PI=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i;return f(ee,{children:f(Tr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:g}=c;return f(ee,{children:[f(Zi,{baseNode:r,overlayPosition:g,inFront:!1,overlayMode:!0}),f("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,width:g.width+"px",height:g.height+"px",display:d||l||u?"block":"none",minHeight:"27px"},children:[f("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${g.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[f("button",{onMouseDown:m=>{this.launchUIWindow(m)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:20};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},YI=PI});function Nse(t,e,i,r){var n;if(r!==void 0&&(t=t*r),typeof e!="string")n=t/100+"";else{var o=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],l={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),o.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(i,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(l.hasOwnProperty(e)?l[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var u=n.split(".");u.length===2&&u[1].length===1&&(u[1]=u[1]+"0",n=u.join("."))}return n}var lr,uL,Sse,Rse,Fse,el,zI,Sm,Ese,QI,Wse,cL=R(()=>{xe();Fe();xs();lr=pe(ve(),1);Ze();ut();ri();Ki();Ti();za();lL();Ps();Br();Y();uL="Product not found",Sse="Out of Stock",Rse="Add to Cart",Fse="Unavailable",el={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},zI=[],Sm=null,Ese=t=>(Sm||(Sm=new Promise((e,i)=>{requestAnimationFrame(()=>{Et.dispatch(actions.fetchCommerceProducts({idArray:zI})).then(e).catch(i),zI.length=0,Sm=null})})),zI.push(t),Sm);QI=class extends oe{constructor(e){super(e),this.uid=lr.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:i,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:ze(f(ee,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&f(YI,{shopProductInstance:this.props.baseNode}),f("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:uL})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,o=this.props.uses||"";return ze(f(yn,{uses:o,adminMode:r,customElementMode:!0,baseNode:i,children:f("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&f(YI,{shopProductInstance:this.props.baseNode}),this.props.productData?f(ee,{children:[e.showPrice&&this.state.selectedVariant&&f("div",{part:"price",class:"price",children:Nse(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?f("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(l=>l.is_default?null:f("option",{value:l.variant_id,dangerouslySetInnerHTML:{__html:lr.default.values(l.attributes).join(", ").replace(/</g,"&lt;")}}))}):lr.default.keys(this.props.productData.attributes).map(l=>f("select",{"variant-option":l,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[f("option",{disabled:!0,dangerouslySetInnerHTML:{__html:l?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(l).map(u=>f("option",{selected:this.state.selectedVariant?.attributes[l]===u,value:u,dangerouslySetInnerHTML:{__html:u?.replace?.(/</g,"&lt;")}}))]})):null,f("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:l=>{n||this.addToCart(l)},children:n?Sse:this.state.selectedVariant?e.buttonInStockText:Fse})]}):uL]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var i=lr.default.without(lr.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&i.sort(function(n,o){var l=r.indexOf(n),u=r.indexOf(o);return l<u?-1:l==u?0:1}),i}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let i=JSON.parse(lr.default.unescape(this.props.baseNode.getAttribute("data-options")));lr.default.each(i,(r,n)=>{el[n]&&!this.props.baseNode.hasAttribute(el[n])&&this.props.baseNode.setAttribute(el[n],lr.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=lr.default.mapValues(el,(i,r)=>{if(!this.props.baseNode.hasAttribute(i))return;let n=lr.default.unescape(this.props.baseNode.getAttribute(i));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return lr.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Rse}),e}setOptions(e){lr.default.each(e,(i,r)=>{el.hasOwnProperty(r)&&this.props.baseNode.setAttribute(el[r],lr.default.escape(i))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),Jn.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Ese(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var i=lr.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[n.getAttribute("variant-option")]=n.value,r},{});e=this.props.productData.variants.find(r=>lr.default.isEqual(r.attributes,i))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,i){this.state.selectedVariant===i.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Wse=_t(De((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>xt({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(QI));ei(Wse,"shop-product",Object.values(el),{renderIntoShadow:!0})});var jI,dL,pL=R(()=>{xe();Y();jI=class extends oe{constructor(e){super(e),this.caveRef=be(),this.shadowRef=be()}render(){return f("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:f("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,i){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let o="right";switch(n.intersectionRatio){case 0:o="left";break;case 1:o="center";break}this.props.onTextAlignmentChange?.(o)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},dL=jI});var bLe,JI,hL,gL=R(()=>{xe();Fe();Dt();Va();Mi();vo();bLe=pe(ve(),1);Y();JI=class extends oe{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,i){let{}=e,{UIWindow:r}=i,n=23;return f(ee,{children:f(Tr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:o=>{let{pointerAttention:l,overlayPosition:u}=o,c=0;return u.y<=1&&(c=Math.min(-u.y+1,u.height+-n+1)),f(ee,{children:[f(Zi,{baseNode:this.props.marqueeInstance,overlayPosition:u,overlayMode:!0}),f("div",{className:`editor-overlay editor-outline${l||r?" hover":""}${l||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,width:u.width+"px",height:u.height+"px",display:l||r?"block":"none",minHeight:"27px"},children:[f("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[f("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.marqueeInstance.getBoundingClientRect(),r={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:20};Ie.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let i={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(i.x,i.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(l=>{if(l.type==="attributes"){if(l.target.nodeName==="MEDIA-ITEM")return!0;if(l.target.nodeName==="MARQUEE-INNER")return!1}else return!l.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(l=>!l.hasAttribute("slot")||l.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],o=!0;for(;n&&o;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(o=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:o})};onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');i&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==i&&n!==r&&n.remove()}):i&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),this.innerObserver.observe(i,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,i,r)=>{this.setState({draggingInEditor:!0}),_e.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),Ie.globalDragEventController.on("dragstart",this.onDragStart),Ie.globalDragEventController.on("dragend",this.onDragFinish),Ie.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),Ie.globalDragEventController.off("dragstart",this.onDragStart),Ie.globalDragEventController.off("dragend",this.onDragFinish),Ie.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,i){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(i.marqueeIsEmpty!==this.state.marqueeIsEmpty||i.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},hL=JI});var Rm,ja,ep,Fm,Tu,qI,fL,Em,Ose,mL=R(()=>{xe();Fe();Ys();ut();Ze();Ti();ka();pL();Ni();gL();tn();Rm=pe(ve(),1);Ki();Y();ja=new Map,ep=new Map,Fm=null;U.isServer||(Tu=new ResizeObserver(t=>{t.forEach(e=>{ep.has(e.target)?ep.get(e.target).onMarqueeInnerResize(e):ja.has(e.target)&&ja.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{ja.forEach((e,i)=>{t.target.contains(i)&&(i.dirty=!0)})}));qI=0,fL=t=>{let e=qI===0?0:t-qI;ja.forEach((i,r)=>{i.animate(e)}),qI=t,Fm=requestAnimationFrame(fL)},Em=class extends oe{constructor(e){super(e),this.uid=Rm.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=be(),this.marqueePositionerCloneRef=be(),this.contentRef=be(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:i=>{this.setState({paused:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:i=>{this.setState({built:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:i=>{this.setState({dirty:!!i})},configurable:!0})}render(e,i){let r=e.behavior==="bounce",n=e.behavior==="scroll",o=e.direction==="vertical",l=e.direction==="horizontal",u=e.direction==="diagonal";u&&n&&(u=!1,l=!0);let{adminMode:c,pageInfo:d,baseNode:g,"vertical-height":m,gutter:b=0}=e,{contentRect:I,elementRect:x,built:A,marqueeHeight:F,gutterPixelWidth:E}=i,M=U.getCSSValueAndUnit(m,""),k=b!==void 0?U.getCSSValueAndUnit(b,"rem").join(""):"0px",T={marqueeHeight:M[1]===""?`calc( var(--fit-height) * ${M[0]*.01} )`:M.join("")};b!==void 0&&b!==0&&(T.gutterPixelWidth=k);let _=E,ne=E;l&&(_=0),o&&(ne=0);let Z=n&&o?0:2,L=n&&l?0:2;return ze(f(ee,{children:[c&&d.isEditing&&f(dL,{onTextAlignmentChange:this.onTextAlignmentChange}),f("style",{children:`

					:host {
						--marquee-vertical-padding: ${Z}rem;
						--marquee-horizontal-padding: ${L}rem;
						--marquee-vertical-margin: ${-Z}rem;
						--marquee-horizontal-margin: ${-L}rem;
						contain: layout;
						${A?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;`:""}
						`:`
							min-height: ${r&&!l?F+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${A?o||u?F+"px":I.height+x.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${x.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${A?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${o||u?"height: "+F+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${A?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${A?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${A&&l?"nowrap":"normal"};					
						display: ${A?"inline-block":"block"};
						${!A&&(o||u)?"min-height: "+F+"px;":""}
						min-width: ${x.width}px;
						${A?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!A?"none":"block"};
						left: ${l?Math.max(I.contentWidth,x.width)+ne:0}px;
						top: ${o?Math.max(I.height,x.height)+_:0}px;			
					    position: absolute;
					}

					
				`}),f("div",{className:"marquee-margin",children:[!A&&f("slot",{name:"contents"}),c&&d.isEditing&&!U.isServer&&f(hL,{...this.props,marqueeInstance:g,isDragging:this.state.pointerInfo.dragging}),f(Dr,{values:T,onResize:this.onResize}),f("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+x.vertPad*.5)+"px)"},ref:this.contentRef,children:[f("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:A&&f("slot",{name:"contents"})}),f("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:A&&n&&f("slot",{name:"contents-clone"})})]})]})]}),g.shadowRoot)}onClickCapture=e=>{this.state.pointerInfo.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{yt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{yt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),pi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),pi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),ja.size==0&&(cancelAnimationFrame(Fm),Fm=requestAnimationFrame(fL)),ja.set(this.props.baseNode,this),Tu.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,i){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==i.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==i.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),vi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),document.body.removeEventListener("pointerleave",this.onPointerUp),Tu.unobserve(this.props.baseNode),ja.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(ep.delete(e),Tu.unobserve(e)),this.contentsObserver.disconnect(),ja.size==0&&cancelAnimationFrame(Fm)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(ep.delete(e),Tu.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),ep.set(e,this),Tu.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let i=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(i||(i=document.createElement("marquee-inner"),i.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(i));i.lastChild;)i.lastChild.remove();Array.from(e.childNodes).forEach(r=>{i.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==i&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=Rm.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:i,marginLeft:r,width:n}=this.state.contentRect,o=e.childNodes[0],l=e.childNodes[e.childNodes.length-1];if(o&&l){let u=document.createRange();u.setStartBefore(o),u.setEndAfter(l);let c=u.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,i=c.width}else r=0,i=n;this.setState(u=>({contentRect:{...u.contentRect,marginLeft:r,contentWidth:i}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=i.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:i.inlineSize,height:i.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:i.inlineSize,height:i.blockSize,vertPad:i.blockSize-r.blockSize,horizPad:i.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;let i=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY;e.target.closest("a")||e.preventDefault(),this.pointerMovement={start:{x:i,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerUp)};onPointerMove=e=>{let i={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:i,delta:i},this.setState({pointerInfo:{pointerDown:!0,dragging:r}})};onPointerUp=e=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.afterPointerUp=setTimeout(()=>{this.setState({pointerInfo:{dragging:!1,pointerDown:!1}})},0)};animate=e=>{let{built:i,paused:r,elementRect:n,contentRect:o,pointerInfo:l,mediaItemLocations:u,gutterPixelWidth:c}=this.state,{positionX:d,positionY:g,movingRight:m,movingDown:b,translateX:I,translateY:x,pointerMovement:A}=this,{speed:F,friction:E}=this.props;if(!i||!this.contentRef.current)return;let M=!1;F=r||l.dragging?0:F,this.pauseCount<0&&(this.pauseCount++,F=0),F=F*(e/16.6667);let k=this.props.behavior==="bounce",T=this.props.behavior==="scroll",_=this.props.direction==="vertical",ne=this.props.direction==="horizontal",Z=this.props.direction==="diagonal",L=c,re=c;Z&&T&&(Z=!1,ne=!0),E=1-parseFloat(E)*.01,F=parseFloat(F)*.1;let de=F,$=F,q=Math.abs(A.inertia.y)>.01||Math.abs(A.inertia.x)>.01;l.pointerDown||l.dragging?(M=!0,$=A.delta.x,de=A.delta.y):q&&(M=!0,k?(b?de=Math.abs(de)+Math.abs(A.inertia.y):de=-Math.abs(de)+-Math.abs(A.inertia.y),m?$=Math.abs($)+Math.abs(A.inertia.x):$=-Math.abs($)+-Math.abs(A.inertia.x)):($=$+A.inertia.x,de=de+A.inertia.y)),k&&!l.dragging&&(b?de=Math.abs(de):de=-Math.abs(de),m?$=Math.abs($):$=-Math.abs($)),de!==0&&(b=de>0),$!==0&&(m=$>0),(_||Z)&&(g=de+g),(ne||Z)&&(d=$+d);let B=!1;if(k){let z=o.contentWidth,V=o.height,ie=-o.marginLeft,le=n.width+-z+-o.marginLeft,ce=0,ge=n.height-V;z>=n.width&&(ie=n.width-z,le=0),V>=n.height&&(ce=n.height-V,ge=0),m&&d>le&&(ne||Z)?(B="right",d=le,m=!1):!m&&d<ie&&(ne||Z)&&(B="left",d=ie,m=!0),b&&g>ge&&(_||Z)?(B="bottom",g=ge,b=!1):!b&&g<ce&&(_||Z)&&(B="top",g=ce,b=!0),ne?x=0:x=g,_?I=0:I=d}else if(T){ne&&(re=0),_&&(L=0);let z=Math.max(o.contentWidth,n.width)+L,V=Math.max(o.height,n.height)+re;z>0&&(d=(d-z)%z),V>0&&(g=(g-V)%V),_?(I=0,x=g):ne&&(I=d,x=0)}B&&this.dispatchBounceEvent(B);let j=l.dragging?{x:A.delta.x,y:A.delta.y}:{x:A.inertia.x*E,y:A.inertia.y*E};this.positionX=d,this.positionY=g,this.translateX=I,this.translateY=x,this.movingRight=m,this.movingDown=b;let K=Math.abs(F)>1?2:4,te=Math.floor(this.translateX*K)/K,se=Math.floor(this.translateY*K)/K;(te!==this.lastXClamp||se!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+te+"px, "+(se+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=te,this.lastYClamp=se,M&&(this.pointerMovement={...this.pointerMovement,inertia:j,delta:{x:0,y:0}})};dispatchBounceEvent=Rm.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};Em.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};Ose=_t(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Em));ei(Ose,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var jLe,Mu,Nm,Gse,bL=R(()=>{xe();Fe();ut();Ze();Ys();vo();jLe=pe(ve(),1);Ki();Ti();Y();Mu=new Map,Nm=class extends oe{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,i){let r=i.iconElement.customDimensions.width/i.iconElement.customDimensions.height;return f(ee,{children:ze(f(ee,{children:[f("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?f(Zi,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,i)=>{let r=this.props.icon||null;if(r)if(Mu.has(r))e(Mu.get(r));else{let o=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/5626ef/icon/icons/"+r+".svg",l=o.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(l.toLowerCase())!=-1){let u=document.createElement("img");u.src=o,u.onload=()=>{let c=f("img",{part:"img",src:r,width:u.naturalWidth,height:u.naturalHeight});Mu.set(r,{imgVdom:c,customDimensions:{width:u.naturalWidth,height:u.naturalHeight}}),u.onload=null,e(Mu.get(r))}}else l=="svg"?fetch(o,{mode:"cors"}).then(u=>u.ok?u.text():i("bad response")).then(u=>{let c=document.createElement("div");c.innerHTML=u;let d={width:32,height:32},g=Array.from(c.children).map((m,b)=>{let I=m.tagName.toLowerCase()=="svg";return I&&m.hasAttribute("width")&&m.hasAttribute("height")&&(d.width=m.getAttribute("width"),d.height=m.getAttribute("height")),Eu(m,null,{part:I?"svg":b,key:r+"-"+b,draggable:!0})});if(g.length>0){if(Mu.set(r,{imgVdom:g,customDimensions:d}),r!==this.props.icon){i("Icon name mismatch");return}e(Mu.get(r))}else i("Icon not found at ",o)}).catch(u=>{i(u)}):i("Invalid url")}else i("Icon not found",r)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};Nm.defaultProps={icon:null};Gse=_t(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Nm));ei(Gse,"text-icon",["icon"],{delegatesFocus:!0})});function Xse(t){let e=U.isServer?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheet:t.css?.stylesheet,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:Fo.default.values(t.commerce.cart).reduce((i,r)=>i+=r?.quantity||0,0)}}function Bse(t){return xt({fetchSitePackage:Me.fetchSitePackage,updateFrontendState:Me.updateFrontendState,getAuthToken:Me.getAuthToken},t)}var CL,Fo,vL,Wm,Om,KI,Lse,$I,IL,yL=R(()=>{xe();ri();ut();CL=pe(wh(),1),Fo=pe(ve(),1);Ze();Zt();Cu();hG();mo();vG();Ni();_f();yG();zv();FG();Ki();_G();bm();Mf();GI();XI();TI();eL();rL();sL();cL();mL();bL();Mi();Br();Y();vL=!1,Wm=!1,Om=!0,KI=(t=!1)=>{(t||vL&&Wm&&Om)&&setTimeout(()=>{Om&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},Lse=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),U.isServer&&t.fonts&&Fo.default.isArray(t.fonts)){let i=[...t.fonts].filter(n=>n.provider!=="google"),r=vI({context:"server",families:i});r.then(n=>{t.updateFrontendState({fontsLoaded:Fo.default.uniq(t.fontsLoaded.concat(i.map(o=>o.family))),serverRenderedFontCSS:n.filter(o=>o??!1)})}),e.push(r)}await Promise.allSettled(e),vL=!0,KI()},$I=class extends oe{constructor(e){if(super(e),this.state={checkedExistingAuth:!!U.isServer,checkedCookieAuth:!!U.isServer,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null},!U.isServer){if(Promise.resolve().then(()=>(cm(),fI)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href="https://build.cargo.site/frontend/5626ef/css/front-end/frontend-interface.css",o.id="frontend-interface",n.appendChild(o)}this.setMobileClass(this.props.isMobile);let i=0,r=0;window.addEventListener("backdrop-load-start",()=>{Om=!1,i++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===i&&(Om=!0,KI())})}this.globalStyleRef=be(),this.customHTMLRef=be(),this.scrollingElement={current:U.isServer?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(U.isServer)return;let e=this.props.store.getState(),i,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?i=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(i=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${i?.title?`${i.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};render(){if(this.props.hasSitePackage!==!0)return null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(n=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=f(Gu,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=f(Yf,{message:"This site is private."})),this.onFontLoad(!0)),f(ee,{children:f(bI,{children:r})})}if(!U.isServer&&!U.isAdminEdit&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!U.isSitePreview)return window.location.hostname=this.props.domain,null;let e=this.props.customHTML,i=this.props.canDuplicate&&!U.isServer;return f(ee,{children:[i?f(ee,{children:f("a",{id:"dl-duplicate-site",class:"dl-duplicate",href:`${Da}?duplicate=${this.props.site_id}`,onClick:r=>{this.props.domain_active||(r.preventDefault(),fetch("https://cargo.site/accesstoken"+`?site_id=${this.props.site_id}`,{credentials:"include"}).then(o=>o.json()).then(o=>{o?.access_token?window.location.href=`${Da}?duplicate=${this.props.site_id}`:this.setState({loginBeforeDuplicatingSite:!0})}).catch(()=>{this.setState({loginBeforeDuplicatingSite:!0})}))},children:f("svg",{width:"84",height:"19",viewBox:"0 0 84 19",children:[f("path",{fill:"#027aff",d:"m0,9.5C0,4.25,3.96,0,8.85,0h66.14c4.89,0,8.85,4.25,8.85,9.5s-3.96,9.5-8.85,9.5H8.85C3.96,19,0,14.75,0,9.5Z"}),f("path",{fill:"#fff",d:"m9.29,4.54h2.47c2.38,0,3.6,1.42,3.6,4.2s-1.21,4.25-3.6,4.25h-2.47V4.54Zm1.22,1.08v6.29h1.11c1.7,0,2.49-1,2.49-3.16s-.8-3.13-2.49-3.13h-1.11Z"}),f("path",{fill:"#fff",d:"m22.23,6.61v6.39h-1.14v-1.11h-.08c-.33.79-1.05,1.23-2.01,1.23-1.39,0-2.14-.83-2.14-2.37v-4.14h1.18v3.86c0,1.09.44,1.61,1.38,1.61s1.63-.69,1.63-1.72v-3.74h1.17Z"}),f("path",{fill:"#fff",d:"m27.47,6.51c1.47,0,2.41,1.05,2.41,2.71v1.17c0,1.66-.94,2.71-2.41,2.71-.93,0-1.59-.4-1.85-1.12h-.11v3.16h-1.21V6.61h1.18v1.01h.11c.3-.73.96-1.11,1.88-1.11Zm-.39,1.04c-.98,0-1.6.69-1.6,1.79v.96c0,1.1.62,1.79,1.6,1.79s1.61-.7,1.61-1.79v-.96c0-1.1-.63-1.79-1.61-1.79Z"}),f("path",{fill:"#fff",d:"m37.19,13h-5.36v-.95h2.14v-6.97h-2.09v-.96h3.26v7.93h2.05v.95Z"}),f("path",{fill:"#fff",d:"m41.91,5.12c-.52,0-.91-.36-.91-.87s.39-.87.91-.87.91.36.91.87-.38.87-.91.87Zm2.7,7.88h-5.36v-.95h2.15v-4.49h-2.1v-.95h3.25v5.44h2.06v.95Z"}),f("path",{fill:"#fff",d:"m51.95,8.67h-1.16c-.11-.74-.69-1.18-1.46-1.18-1.04,0-1.61.73-1.61,2.04v.54c0,1.31.57,2.04,1.61,2.04.79,0,1.35-.43,1.46-1.15h1.16c-.16,1.36-1.12,2.16-2.61,2.16-1.78,0-2.8-1.07-2.8-2.93v-.79c0-1.86,1.03-2.92,2.8-2.92,1.49,0,2.46.8,2.61,2.19Z"}),f("path",{fill:"#fff",d:"m55.93,13.11c-1.22,0-2.03-.77-2.03-1.92s.82-1.8,2.31-1.89l1.68-.09v-.56c0-.73-.46-1.14-1.28-1.14-.68,0-1.17.29-1.32.8h-1.15c.12-1.05,1.12-1.77,2.49-1.77,1.54,0,2.42.77,2.42,2.12v4.37h-1.12v-.93h-.11c-.3.66-.99,1.03-1.89,1.03Zm.36-.98c.91,0,1.59-.6,1.59-1.42v-.67l-1.52.08c-.85.05-1.29.4-1.29,1.02s.47,1,1.22,1Z"}),f("path",{fill:"#fff",d:"m62.9,4.87h1.16v1.78h2.53v.97h-2.51v3.45c0,.63.44.98,1.25.98.3,0,1.08-.01,1.22-.03v.96c-.13.02-1.05.05-1.3.05-1.63,0-2.35-.59-2.35-1.96v-3.45h-1.69v-.97h1.69v-1.78Z"}),f("path",{fill:"#fff",d:"m73.1,11.31h1.12c-.17,1.07-1.22,1.81-2.6,1.81-1.79,0-2.82-1.05-2.82-2.87v-.97c0-1.68,1.1-2.79,2.75-2.79s2.68,1.1,2.68,2.92v.69h-4.28v.29c0,1.08.65,1.77,1.66,1.77.76,0,1.32-.32,1.48-.84Zm-1.55-3.86c-.99,0-1.59.68-1.59,1.82h3.13c0-1.14-.57-1.82-1.54-1.82Z"})]})})}):f(ee,{children:this.props.showCargoLogo&&f("a",{id:"cargo-dotsite",class:"cargodotsite",href:"https://cargo.site",target:"_blank",children:f("svg",{width:"84",height:"19",viewBox:"0 0 84 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85203 0C3.96319 0 0 4.2533 0 9.50005C0 14.7467 3.9632 18.9999 8.85203 18.9999H74.9948C79.8836 18.9999 83.8468 14.7467 83.8468 9.50005C83.8468 4.2533 79.8836 0 74.9948 0H8.85203ZM63.5625 4.05077H61.4194L61.8679 1.92424H64.0111L63.5625 4.05077ZM61.4858 13.3875H59.4756L61.2034 5.28016H63.2136L61.4858 13.3875ZM14.2135 10.53C13.8812 12.4405 12.17 13.6865 10.0435 13.6865C7.83393 13.6865 6.40517 12.2744 6.40517 9.98175C6.40517 7.34024 8.14958 5.01435 11.0237 5.01435C13.2665 5.01435 14.5458 6.39327 14.5291 8.56963H12.5688C12.5521 7.47314 12.0537 6.62586 10.9573 6.62586C9.34575 6.62586 8.39878 8.33704 8.39878 9.94855C8.39878 11.261 9.07994 12.0916 10.1432 12.0916C11.1068 12.0916 11.9208 11.4437 12.1368 10.53H14.2135ZM20.0586 12.4571C19.5602 13.1051 18.7295 13.6865 17.5998 13.6865C16.0381 13.6865 14.9416 12.6067 14.9416 11.2277C14.9416 9.41695 16.4701 8.68593 18.1314 8.51979L19.8924 8.33704C20.5902 8.27059 20.856 7.98816 20.856 7.52298C20.856 6.99135 20.3576 6.52617 19.5103 6.52617C18.5966 6.52617 18.065 7.00797 17.9321 7.6725H15.7889C16.0049 6.09422 17.3506 5.01435 19.4439 5.01435C21.7864 5.01435 23.1653 6.22713 22.6503 8.66931L21.6535 13.3875H19.7928L19.8562 13.1336C19.9044 12.9393 19.9677 12.6844 20.0586 12.4571ZM16.9352 11.1779C16.9352 11.8591 17.417 12.1913 18.0816 12.1913C19.1781 12.1913 20.1084 11.2776 20.341 10.2475L20.5238 9.43355C20.3078 9.61625 19.9755 9.68275 19.4439 9.76585L18.7295 9.88205C17.7161 10.0482 16.9352 10.3472 16.9352 11.1779ZM25.3126 13.3875L26.1267 9.53325C26.542 7.58944 27.5886 6.99135 28.7682 6.99135C29.0174 6.99135 29.2168 7.02458 29.3663 7.05781L29.7982 5.0808C29.6819 5.04757 29.4992 5.01435 29.2832 5.01435C28.087 5.01435 27.2231 5.89486 26.6417 6.74215C26.7912 6.42649 26.8909 6.11084 26.9241 5.89486L27.0404 5.28016H25.0302L23.3024 13.3875H25.3126ZM36.5982 13.3376C36.05 15.946 34.7043 17.0757 32.4282 17.0757C30.202 17.0757 28.9062 15.9127 28.9062 13.7198H30.9496C30.9496 14.8827 31.448 15.4808 32.4947 15.4808C33.4749 15.4808 34.2557 14.9159 34.5215 13.7031L34.7209 12.7728C34.7873 12.4239 34.8538 12.1581 34.9701 11.8757C34.372 12.6067 33.6908 13.0884 32.611 13.0884C30.933 13.0884 29.4544 11.8092 29.4544 9.63285C29.4544 7.1741 31.1656 5.01435 33.4416 5.01435C34.9036 5.01435 35.7177 5.6955 36.0832 6.62586C36.0998 6.29359 36.1663 5.87825 36.2493 5.49614L36.2992 5.28016H38.3094L36.5982 13.3376ZM31.4646 9.54985C31.4646 10.6961 32.1458 11.4769 33.1924 11.4769C34.7209 11.4769 35.6845 9.91535 35.6845 8.48657C35.6845 7.43992 35.0365 6.62586 33.9899 6.62586C32.5113 6.62586 31.4646 8.07123 31.4646 9.54985ZM42.3466 13.6865C45.2207 13.6865 47.0316 11.56 47.0316 8.6527C47.0316 6.50956 45.5696 5.01435 43.3932 5.01435C40.5856 5.01435 38.7082 7.1741 38.7082 10.1146C38.7082 12.2744 40.1868 13.6865 42.3466 13.6865ZM42.4795 12.0916C41.3498 12.0916 40.7019 11.3773 40.7019 10.0814C40.7019 8.38688 41.6488 6.62586 43.2603 6.62586C44.3568 6.62586 45.038 7.32362 45.038 8.6527C45.038 10.3306 44.091 12.0916 42.4795 12.0916ZM50.4596 10.9121L49.9279 13.3875H47.4027L47.9343 10.9121H50.4596ZM55.1411 13.6865C57.251 13.6865 58.6299 12.6067 58.6299 10.9785C58.6299 9.69935 57.6165 9.06805 56.4369 8.68593L55.357 8.33704C54.5596 8.08784 54.3602 7.87187 54.3602 7.45653C54.3602 6.89167 54.8752 6.52617 55.6395 6.52617C56.6196 6.52617 57.2177 7.10765 57.2343 8.07123H59.2612C59.2114 6.16068 57.8657 5.01435 55.7391 5.01435C53.6624 5.01435 52.4164 6.11084 52.4164 7.5396C52.4164 8.66931 53.164 9.43355 54.5097 9.86545L55.4567 10.1645C56.2209 10.3971 56.6861 10.5798 56.6861 11.1447C56.6861 11.7428 56.0714 12.1747 55.1909 12.1747C54.1276 12.1747 53.4631 11.4769 53.4631 10.3805H51.4362C51.4362 12.4239 52.865 13.6865 55.1411 13.6865ZM67.0193 13.537C67.4845 13.537 67.8167 13.4706 68.0327 13.3875L68.365 11.8092C68.1822 11.8591 68.0327 11.8757 67.8167 11.8757C66.8698 11.8757 66.5707 11.3773 66.7535 10.4967L67.5177 6.89167H69.4947L69.827 5.28016H67.8666L68.4813 2.35619H66.471L65.8563 5.28016H64.0289L63.68 6.89167H65.5075L64.7432 10.4137C64.3445 12.2744 65.1087 13.537 67.0193 13.537ZM77.0728 10.9785C76.6741 12.5236 75.2453 13.6865 73.1022 13.6865C70.9756 13.6865 69.414 12.2744 69.414 10.015C69.414 7.34023 71.2082 5.01435 74.0491 5.01435C76.591 5.01435 77.8204 6.82522 77.3386 9.38365L77.2555 9.83225H71.4076C71.3245 11.0118 71.8728 12.0916 73.1354 12.0916C74.1322 12.0916 74.6306 11.6597 74.9463 10.9785H77.0728ZM74.0159 6.52617C72.9194 6.52617 72.0057 7.30701 71.7066 8.37027H75.4945C75.6606 7.19071 75.0792 6.52617 74.0159 6.52617Z",fill:"white"})})})}),f("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),f(IG,{}),f(bI,{}),f("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),f("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),f("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),f("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),f(Ru,{scrollingElement:this.scrollingElement,children:[f(pG,{}),this.state.QuickView&&f(this.state.QuickView,{}),this.props.inAdminFrame&&f(ZW,{}),this.state.loginBeforeDuplicatingSite&&f(NE,{loginToUdotCargoOnly:!0,canCreateNewAccount:!0,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${Da}?duplicate=${this.props.site_id}`}}),f(bo,{portalHost:U.isServer?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),qe.on("mobile-change",this.onMobileChange),this.onMobileChange(qe.data.mobile.active),this.updateCartCounter()}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error(e)}onMobileChange=e=>{this.props.updateFrontendState({isMobile:e})};onFontLoad=(e=!1)=>{U.isServer||Wm||(Wm=!0,document.documentElement.classList.remove("wf-initial-load"),KI(e))};componentWillUnmount(){qe.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(i=>!this.props.fontsLoaded.includes(i.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:Fo.default.uniq(this.props.fontsLoaded.concat(e.map(i=>i.family)))}),vI({families:e}).then(()=>{Wm||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,i){if(!U.isServer){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.fonts!==e.fonts&&Fo.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface()}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setLinkStyles=()=>{if(U.isServer||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="",n=[];Fo.default.each(i.rules,o=>{o?.style?.getPropertyValue("--text-style")&&n.push(o.selectorText)}),Fo.default.each(i.rules,o=>{n?.forEach(l=>{if(o.selectorText?.startsWith(l)&&o.selectorText?.includes(" a")){let u=o.selectorText?.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(c,d,g)=>g+d);o.selectorText!==u&&(r+=u+" { "+o.style?.cssText+" } ")}})}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(U.isServer||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="";Fo.default.each(i.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let o=n.style.fontSize,l=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+o+`;}
`,r+=n.selectorText+l+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(U.isServer)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=Au(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:i})};getIsolatedStyleSheet=Fo.default.once(e=>{let i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return r.innerHTML=e,i.children[0].appendChild(r),r})};IL=ho(De(Xse,Bse)((0,CL.frontloadConnect)(Lse,{onMount:!0,onUpdate:!1})($I)))});var AL,wL=R(()=>{AL=pe(Kr(),1);AL.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var Gm,Lm,xL,SL=R(()=>{Gm=pe(Kr(),1);Ze();za();Lm=new Map,xL=t=>{let e;t.subscribe(()=>{let i=t.getState();if(!i.adminState||!i.adminState.crdt)return;let r=i.adminState.crdt.publishedAt;r!==e&&Lm.clear(),e=r})};U.isServer||(Gm.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=Gm.default.getUri(t);Lm.has(e)?t.adapter=function(i){return Lm.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((i,r)=>{t.resolveCachedResponsePromise=i,t.rejectCachedResponsePromise=r}),t.cachedResponsePromise.catch(i=>i),Lm.set(e,t))}return t}),Gm.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var ey,RL=R(()=>{ey=pe(Kr(),1);Ze();za();Zt();U.isServer||(ey.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Et?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),ey.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Et.dispatch({type:Re.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});var FL=R(()=>{});var EL,NL=R(()=>{bm();GI();Mf();XI();TI();EL={grid:wn,columnized:Ro,slideshow:oi,freeform:Vi,justify:xn}});var Dse={};var WL,OL=R(()=>{Ri();za();WL=pe(HC(),1);ri();cv();Zt();Dt();NL();Mi();$f();window.getClientAPI=()=>({actions:ev,reducers:uv,selectors:tt,history:Jn,store:Et,globals:qC,addReduxMiddleWare:WL.addMiddleware,combineReducers:Mn,galleryData:EL,editorOverlayAPI:_e,toggleOverlay:ki.toggleOverlay,openOverlay:ki.openOverlay,closeOverlay:ki.closeOverlay})});var GL,LL,iBe,Et,Jn,za=R(()=>{xe();ut();GL=pe(wh(),1);qo();Ze();Eh();LL=pe(ve(),1),iBe=pe(Kr(),1);dv();Zt();AW();yL();Ni();wL();SL();RL();FL();Y();!U.isServer&&U.isAdminEdit&&(OL(),yc(Dse));({store:Et}=hf());if(!U.isServer){Jn=Fh(),qe.setupStore(Et),xL(Et);let t;try{t=localStorage.getItem("c3-auth")}catch(o){console.log("unable to retrieve stored auth",o)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Et.dispatch({type:Re.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let o=e.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}catch(o){console.error("unable to use querystring auth",o)}else if(t)try{Et.dispatch({type:Re.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(o){console.error("unable to retrieve stored auth",o)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let i={};Jn.push=LL.default.wrap(Jn.push,function(o){i[window.location.pathname]=document.scrollingElement.scrollTop;var l=Array.prototype.slice.call(arguments);if(!l.some(u=>u.preventScrollReset===!0)){let u=Et.getState().frontendState.activePID,c=Et.subscribe(()=>{Et.getState().frontendState.activePID!==u&&(document.scrollingElement.scrollTo(0,0),c()),setTimeout(()=>{c()},1e3)})}l.shift(),o.apply(this,l)}),window.addEventListener("popstate",o=>{let l=window.location.pathname,u=Jn.location.pathname;i[u]=document.scrollingElement.scrollTop;let c=Et.getState().frontendState.activePID,d=Et.subscribe(()=>{if(Et.getState().frontendState.activePID!==c&&i[l]){let g=Et.getState().frontendState.activePID;setTimeout(async()=>{let m=0,b=!0;for(;b&&Et.getState().frontendState.activePID===g;)m>10&&(b=!1),document.scrollingElement.scrollHeight>=i[l]&&(document.scrollingElement.scrollTop=i[l],b=!1),m++,await new Promise(I=>setTimeout(I,100))}),d()}})});let r=f(e0,{store:Et,children:f(Sa,{history:Jn,children:f(GL.Frontload,{noServerRender:!0,children:f(IL,{})})})}),n=document.body;n.querySelector(".content")!==null?Rc(r,n):ya(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});za();export{Jn as history,Et as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/5626ef/index.js.map
